{"name":"Lake.Build.Module","instances":[{"typeNames":["Lake.ModuleOutputHashes","Lake.ModuleOutputArtifacts"],"name":"Lake.instResolveArtifactsModuleOutputHashesModuleOutputArtifactsOfMonadLakeEnvOfMonadLiftTBaseIOOfMonad","className":"Lake.ResolveArtifacts"}],"imports":["Lake.Util.OrdHashSet","Lake.Util.List","Lean.Elab.ParseImportsFast","Lake.Build.Common","Lake.Build.Target"],"declarations":[{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/lake/Lake/Build/Module.lean#L655-L684","name":"Lake.buildImportsAndDeps","line":655,"kind":"def","docLink":"./Lake/Build/Module.html#Lake.buildImportsAndDeps","doc":"Builds an `Array` of module imports for a Lean file.\nUsed by `lake setup-file` to build modules for the Lean server and\nby `lake lean` to build the imports of a file.\nReturns the dynlibs and plugins built (so they can be loaded by Lean).\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Module.html#Lake.buildImportsAndDeps\"><span class=\"name\">Lake</span>.<span class=\"name\">buildImportsAndDeps</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">leanFile</span> : <a href=\"./Init/System/FilePath.html#System.FilePath\">System.FilePath</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">imports</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Setup.html#Lean.Import\">Lean.Import</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Build/Fetch.html#Lake.FetchM\">FetchM</a> <span class=\"fn\">(<a href=\"./Lake/Build/Job/Basic.html#Lake.Job\">Job</a> <a href=\"./Lake/Build/Facets.html#Lake.ModuleDeps\">ModuleDeps</a>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/lake/Lake/Build/Module.lean#L648-L649","name":"Lake.initModuleFacetConfigs","line":648,"kind":"def","docLink":"./Lake/Build/Module.html#Lake.initModuleFacetConfigs","doc":"A name-configuration map for the initial set of\nLake module facets (e.g., `imports`, `c`, `o`, `dynlib`).\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Module.html#Lake.initModuleFacetConfigs\"><span class=\"name\">Lake</span>.<span class=\"name\">initModuleFacetConfigs</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Util/Name.html#Lake.DNameMap\">DNameMap</a> <a href=\"./Lake/Config/FacetConfig.html#Lake.ModuleFacetConfig\">ModuleFacetConfig</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/lake/Lake/Build/Module.lean#L618-L646","name":"Lake.Module.initFacetConfigs","line":618,"kind":"def","docLink":"./Lake/Build/Module.html#Lake.Module.initFacetConfigs","doc":"A name-configuration map for the initial set of\nLake module facets (e.g., `imports`, `c`, `o`, `dynlib`).\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Module.html#Lake.Module.initFacetConfigs\"><span class=\"name\">Lake</span>.<span class=\"name\">Module</span>.<span class=\"name\">initFacetConfigs</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Util/Name.html#Lake.DNameMap\">DNameMap</a> <a href=\"./Lake/Config/FacetConfig.html#Lake.ModuleFacetConfig\">ModuleFacetConfig</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/lake/Lake/Build/Module.lean#L614-L616","name":"Lake.Module.dynlibFacetConfig","line":614,"kind":"def","docLink":"./Lake/Build/Module.html#Lake.Module.dynlibFacetConfig","doc":"The `ModuleFacetConfig` for the builtin `dynlibFacet`. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Module.html#Lake.Module.dynlibFacetConfig\"><span class=\"name\">Lake</span>.<span class=\"name\">Module</span>.<span class=\"name\">dynlibFacetConfig</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Config/FacetConfig.html#Lake.ModuleFacetConfig\">ModuleFacetConfig</a> <a href=\"./Lake/Build/Info.html#Lake.Module.dynlibFacet\">dynlibFacet</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/lake/Lake/Build/Module.lean#L587-L612","name":"Lake.Module.recBuildDynlib","line":587,"kind":"def","docLink":"./Lake/Build/Module.html#Lake.Module.recBuildDynlib","doc":"Recursively build the shared library of a module\n(e.g., for `--load-dynlib` or `--plugin`).\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Module.html#Lake.Module.recBuildDynlib\"><span class=\"name\">Lake</span>.<span class=\"name\">Module</span>.<span class=\"name\">recBuildDynlib</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">mod</span> : <a href=\"./Lake/Config/Module.html#Lake.Module\">Module</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Build/Fetch.html#Lake.FetchM\">FetchM</a> <span class=\"fn\">(<a href=\"./Lake/Build/Job/Basic.html#Lake.Job\">Job</a> <a href=\"./Lake/Config/Dynlib.html#Lake.Dynlib\">Dynlib</a>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/lake/Lake/Build/Module.lean#L580-L585","name":"Lake.Module.oFacetConfig","line":580,"kind":"def","docLink":"./Lake/Build/Module.html#Lake.Module.oFacetConfig","doc":"The `ModuleFacetConfig` for the builtin `oFacet`. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Module.html#Lake.Module.oFacetConfig\"><span class=\"name\">Lake</span>.<span class=\"name\">Module</span>.<span class=\"name\">oFacetConfig</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Config/FacetConfig.html#Lake.ModuleFacetConfig\">ModuleFacetConfig</a> <a href=\"./Lake/Build/Facets.html#Lake.Module.oFacet\">oFacet</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/lake/Lake/Build/Module.lean#L573-L578","name":"Lake.Module.oNoExportFacetConfig","line":573,"kind":"def","docLink":"./Lake/Build/Module.html#Lake.Module.oNoExportFacetConfig","doc":"The `ModuleFacetConfig` for the builtin `oNoExportFacet`. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Module.html#Lake.Module.oNoExportFacetConfig\"><span class=\"name\">Lake</span>.<span class=\"name\">Module</span>.<span class=\"name\">oNoExportFacetConfig</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Config/FacetConfig.html#Lake.ModuleFacetConfig\">ModuleFacetConfig</a> <a href=\"./Lake/Build/Facets.html#Lake.Module.oNoExportFacet\">oNoExportFacet</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/lake/Lake/Build/Module.lean#L566-L571","name":"Lake.Module.oExportFacetConfig","line":566,"kind":"def","docLink":"./Lake/Build/Module.html#Lake.Module.oExportFacetConfig","doc":"The `ModuleFacetConfig` for the builtin `oExportFacet`. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Module.html#Lake.Module.oExportFacetConfig\"><span class=\"name\">Lake</span>.<span class=\"name\">Module</span>.<span class=\"name\">oExportFacetConfig</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Config/FacetConfig.html#Lake.ModuleFacetConfig\">ModuleFacetConfig</a> <a href=\"./Lake/Build/Facets.html#Lake.Module.oExportFacet\">oExportFacet</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/lake/Lake/Build/Module.lean#L562-L564","name":"Lake.Module.bcoFacetConfig","line":562,"kind":"def","docLink":"./Lake/Build/Module.html#Lake.Module.bcoFacetConfig","doc":"The `ModuleFacetConfig` for the builtin `bcoFacet`. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Module.html#Lake.Module.bcoFacetConfig\"><span class=\"name\">Lake</span>.<span class=\"name\">Module</span>.<span class=\"name\">bcoFacetConfig</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Config/FacetConfig.html#Lake.ModuleFacetConfig\">ModuleFacetConfig</a> <a href=\"./Lake/Build/Facets.html#Lake.Module.bcoFacet\">bcoFacet</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/lake/Lake/Build/Module.lean#L556-L560","name":"Lake.Module.recBuildLeanBcToO","line":556,"kind":"def","docLink":"./Lake/Build/Module.html#Lake.Module.recBuildLeanBcToO","doc":"Recursively build the module's object file from its bitcode file produced by `lean`. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Module.html#Lake.Module.recBuildLeanBcToO\"><span class=\"name\">Lake</span>.<span class=\"name\">Module</span>.<span class=\"name\">recBuildLeanBcToO</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lake/Config/Module.html#Lake.Module\">Module</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Build/Fetch.html#Lake.FetchM\">FetchM</a> <span class=\"fn\">(<a href=\"./Lake/Build/Job/Basic.html#Lake.Job\">Job</a> <a href=\"./Init/System/FilePath.html#System.FilePath\">System.FilePath</a>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/lake/Lake/Build/Module.lean#L551-L554","name":"Lake.Module.coFacetConfig","line":551,"kind":"def","docLink":"./Lake/Build/Module.html#Lake.Module.coFacetConfig","doc":"The `ModuleFacetConfig` for the builtin `coFacet`. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Module.html#Lake.Module.coFacetConfig\"><span class=\"name\">Lake</span>.<span class=\"name\">Module</span>.<span class=\"name\">coFacetConfig</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Config/FacetConfig.html#Lake.ModuleFacetConfig\">ModuleFacetConfig</a> <a href=\"./Lake/Build/Facets.html#Lake.Module.coFacet\">coFacet</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/lake/Lake/Build/Module.lean#L547-L549","name":"Lake.Module.coNoExportFacetConfig","line":547,"kind":"def","docLink":"./Lake/Build/Module.html#Lake.Module.coNoExportFacetConfig","doc":"The `ModuleFacetConfig` for the builtin `coNoExportFacet`. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Module.html#Lake.Module.coNoExportFacetConfig\"><span class=\"name\">Lake</span>.<span class=\"name\">Module</span>.<span class=\"name\">coNoExportFacetConfig</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Config/FacetConfig.html#Lake.ModuleFacetConfig\">ModuleFacetConfig</a> <a href=\"./Lake/Build/Facets.html#Lake.Module.coNoExportFacet\">coNoExportFacet</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/lake/Lake/Build/Module.lean#L537-L545","name":"Lake.Module.recBuildLeanCToONoExport","line":537,"kind":"def","docLink":"./Lake/Build/Module.html#Lake.Module.recBuildLeanCToONoExport","doc":"Recursively build the module's object file from its C file produced by `lean`.\nThis version does not export any Lean symbols.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Module.html#Lake.Module.recBuildLeanCToONoExport\"><span class=\"name\">Lake</span>.<span class=\"name\">Module</span>.<span class=\"name\">recBuildLeanCToONoExport</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lake/Config/Module.html#Lake.Module\">Module</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Build/Fetch.html#Lake.FetchM\">FetchM</a> <span class=\"fn\">(<a href=\"./Lake/Build/Job/Basic.html#Lake.Job\">Job</a> <a href=\"./Init/System/FilePath.html#System.FilePath\">System.FilePath</a>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/lake/Lake/Build/Module.lean#L533-L535","name":"Lake.Module.coExportFacetConfig","line":533,"kind":"def","docLink":"./Lake/Build/Module.html#Lake.Module.coExportFacetConfig","doc":"The `ModuleFacetConfig` for the builtin `coExportFacet`. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Module.html#Lake.Module.coExportFacetConfig\"><span class=\"name\">Lake</span>.<span class=\"name\">Module</span>.<span class=\"name\">coExportFacetConfig</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Config/FacetConfig.html#Lake.ModuleFacetConfig\">ModuleFacetConfig</a> <a href=\"./Lake/Build/Facets.html#Lake.Module.coExportFacet\">coExportFacet</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/lake/Lake/Build/Module.lean#L522-L531","name":"Lake.Module.recBuildLeanCToOExport","line":522,"kind":"def","docLink":"./Lake/Build/Module.html#Lake.Module.recBuildLeanCToOExport","doc":"Recursively build the module's object file from its C file produced by `lean`\nwith `-DLEAN_EXPORTING` set, which exports Lean symbols defined within the C files.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Module.html#Lake.Module.recBuildLeanCToOExport\"><span class=\"name\">Lake</span>.<span class=\"name\">Module</span>.<span class=\"name\">recBuildLeanCToOExport</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lake/Config/Module.html#Lake.Module\">Module</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Build/Fetch.html#Lake.FetchM\">FetchM</a> <span class=\"fn\">(<a href=\"./Lake/Build/Job/Basic.html#Lake.Job\">Job</a> <a href=\"./Init/System/FilePath.html#System.FilePath\">System.FilePath</a>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/lake/Lake/Build/Module.lean#L507-L520","name":"Lake.Module.bcFacetConfig","line":507,"kind":"def","docLink":"./Lake/Build/Module.html#Lake.Module.bcFacetConfig","doc":"The `ModuleFacetConfig` for the builtin `bcFacet`. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Module.html#Lake.Module.bcFacetConfig\"><span class=\"name\">Lake</span>.<span class=\"name\">Module</span>.<span class=\"name\">bcFacetConfig</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Config/FacetConfig.html#Lake.ModuleFacetConfig\">ModuleFacetConfig</a> <a href=\"./Lake/Build/Facets.html#Lake.Module.bcFacet\">bcFacet</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/lake/Lake/Build/Module.lean#L490-L505","name":"Lake.Module.cFacetConfig","line":490,"kind":"def","docLink":"./Lake/Build/Module.html#Lake.Module.cFacetConfig","doc":"The `ModuleFacetConfig` for the builtin `cFacet`. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Module.html#Lake.Module.cFacetConfig\"><span class=\"name\">Lake</span>.<span class=\"name\">Module</span>.<span class=\"name\">cFacetConfig</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Config/FacetConfig.html#Lake.ModuleFacetConfig\">ModuleFacetConfig</a> <a href=\"./Lake/Build/Facets.html#Lake.Module.cFacet\">cFacet</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/lake/Lake/Build/Module.lean#L475-L488","name":"Lake.Module.ileanFacetConfig","line":475,"kind":"def","docLink":"./Lake/Build/Module.html#Lake.Module.ileanFacetConfig","doc":"The `ModuleFacetConfig` for the builtin `ileanFacet`. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Module.html#Lake.Module.ileanFacetConfig\"><span class=\"name\">Lake</span>.<span class=\"name\">Module</span>.<span class=\"name\">ileanFacetConfig</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Config/FacetConfig.html#Lake.ModuleFacetConfig\">ModuleFacetConfig</a> <a href=\"./Lake/Build/Facets.html#Lake.Module.ileanFacet\">ileanFacet</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/lake/Lake/Build/Module.lean#L470-L473","name":"Lake.Module.oleanPrivateFacetConfig","line":470,"kind":"def","docLink":"./Lake/Build/Module.html#Lake.Module.oleanPrivateFacetConfig","doc":"The `ModuleFacetConfig` for the builtin `oleanPrivateFacet`. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Module.html#Lake.Module.oleanPrivateFacetConfig\"><span class=\"name\">Lake</span>.<span class=\"name\">Module</span>.<span class=\"name\">oleanPrivateFacetConfig</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Config/FacetConfig.html#Lake.ModuleFacetConfig\">ModuleFacetConfig</a> <a href=\"./Lake/Build/Facets.html#Lake.Module.oleanPrivateFacet\">oleanPrivateFacet</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/lake/Lake/Build/Module.lean#L465-L468","name":"Lake.Module.oleanServerFacetConfig","line":465,"kind":"def","docLink":"./Lake/Build/Module.html#Lake.Module.oleanServerFacetConfig","doc":"The `ModuleFacetConfig` for the builtin `oleanServerFacet`. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Module.html#Lake.Module.oleanServerFacetConfig\"><span class=\"name\">Lake</span>.<span class=\"name\">Module</span>.<span class=\"name\">oleanServerFacetConfig</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Config/FacetConfig.html#Lake.ModuleFacetConfig\">ModuleFacetConfig</a> <a href=\"./Lake/Build/Facets.html#Lake.Module.oleanServerFacet\">oleanServerFacet</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/lake/Lake/Build/Module.lean#L460-L463","name":"Lake.Module.oleanFacetConfig","line":460,"kind":"def","docLink":"./Lake/Build/Module.html#Lake.Module.oleanFacetConfig","doc":"The `ModuleFacetConfig` for the builtin `oleanFacet`. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Module.html#Lake.Module.oleanFacetConfig\"><span class=\"name\">Lake</span>.<span class=\"name\">Module</span>.<span class=\"name\">oleanFacetConfig</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Config/FacetConfig.html#Lake.ModuleFacetConfig\">ModuleFacetConfig</a> <a href=\"./Lake/Build/Facets.html#Lake.Module.oleanFacet\">oleanFacet</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/lake/Lake/Build/Module.lean#L440-L442","name":"Lake.Module.leanArtsFacetConfig","line":440,"kind":"def","docLink":"./Lake/Build/Module.html#Lake.Module.leanArtsFacetConfig","doc":"The `ModuleFacetConfig` for the builtin `leanArtsFacet`. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Module.html#Lake.Module.leanArtsFacetConfig\"><span class=\"name\">Lake</span>.<span class=\"name\">Module</span>.<span class=\"name\">leanArtsFacetConfig</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Config/FacetConfig.html#Lake.ModuleFacetConfig\">ModuleFacetConfig</a> <a href=\"./Lake/Build/Facets.html#Lake.Module.leanArtsFacet\">leanArtsFacet</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/lake/Lake/Build/Module.lean#L372-L438","name":"Lake.Module.recBuildLean","line":372,"kind":"def","docLink":"./Lake/Build/Module.html#Lake.Module.recBuildLean","doc":"Recursively build a Lean module.\nFetch its dependencies and then elaborate the Lean source file, producing\nall possible artifacts (e.g., `.olean`, `.ilean`, `.c`, `.bc`).\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Module.html#Lake.Module.recBuildLean\"><span class=\"name\">Lake</span>.<span class=\"name\">Module</span>.<span class=\"name\">recBuildLean</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">mod</span> : <a href=\"./Lake/Config/Module.html#Lake.Module\">Module</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Build/Fetch.html#Lake.FetchM\">FetchM</a> <span class=\"fn\">(<a href=\"./Lake/Build/Job/Basic.html#Lake.Job\">Job</a> <a href=\"./Lake/Build/ModuleArtifacts.html#Lake.ModuleOutputArtifacts\">ModuleOutputArtifacts</a>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/lake/Lake/Build/Module.lean#L325-L327","name":"Lake.instResolveArtifactsModuleOutputHashesModuleOutputArtifactsOfMonadLakeEnvOfMonadLiftTBaseIOOfMonad","line":325,"kind":"instance","docLink":"./Lake/Build/Module.html#Lake.instResolveArtifactsModuleOutputHashesModuleOutputArtifactsOfMonadLakeEnvOfMonadLiftTBaseIOOfMonad","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Module.html#Lake.instResolveArtifactsModuleOutputHashesModuleOutputArtifactsOfMonadLakeEnvOfMonadLiftTBaseIOOfMonad\"><span class=\"name\">Lake</span>.<span class=\"name\">instResolveArtifactsModuleOutputHashesModuleOutputArtifactsOfMonadLakeEnvOfMonadLiftTBaseIOOfMonad</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">m</span> : <span class=\"fn\"><a href=\"./foundational_types.html\">Type</a> → <a href=\"./foundational_types.html\">Type</a> u_1</span>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">[<span class=\"fn\"><a href=\"./Lake/Config/Monad.html#Lake.MonadLakeEnv\">MonadLakeEnv</a> <span class=\"fn\">m</span></span>]</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">[<span class=\"fn\"><a href=\"./Init/Prelude.html#MonadLiftT\">MonadLiftT</a> <a href=\"./Init/System/IO.html#BaseIO\">BaseIO</a> <span class=\"fn\">m</span></span>]</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">[<span class=\"fn\"><a href=\"./Init/Prelude.html#Monad\">Monad</a> <span class=\"fn\">m</span></span>]</span></span>\n</span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Build/Common.html#Lake.ResolveArtifacts\">ResolveArtifacts</a> <span class=\"fn\">m</span> <a href=\"./Lake/Build/ModuleArtifacts.html#Lake.ModuleOutputHashes\">ModuleOutputHashes</a> <a href=\"./Lake/Build/ModuleArtifacts.html#Lake.ModuleOutputArtifacts\">ModuleOutputArtifacts</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/lake/Lake/Build/Module.lean#L321-L323","name":"Lake.ModuleOutputHashes.getArtifacts?","line":321,"kind":"def","docLink":"./Lake/Build/Module.html#Lake.ModuleOutputHashes.getArtifacts?","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Module.html#Lake.ModuleOutputHashes.getArtifacts?\"><span class=\"name\">Lake</span>.<span class=\"name\">ModuleOutputHashes</span>.<span class=\"name\">getArtifacts?</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">m</span> : <span class=\"fn\"><a href=\"./foundational_types.html\">Type</a> → <a href=\"./foundational_types.html\">Type</a> u_1</span>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">[<span class=\"fn\"><a href=\"./Lake/Config/Monad.html#Lake.MonadLakeEnv\">MonadLakeEnv</a> <span class=\"fn\">m</span></span>]</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">[<span class=\"fn\"><a href=\"./Init/Prelude.html#MonadLiftT\">MonadLiftT</a> <a href=\"./Init/System/IO.html#BaseIO\">BaseIO</a> <span class=\"fn\">m</span></span>]</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">[<span class=\"fn\"><a href=\"./Init/Prelude.html#Monad\">Monad</a> <span class=\"fn\">m</span></span>]</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">hashes</span> : <a href=\"./Lake/Build/ModuleArtifacts.html#Lake.ModuleOutputHashes\">ModuleOutputHashes</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><span class=\"fn\">m</span> <span class=\"fn\">(<a href=\"./Init/Prelude.html#Option\">Option</a> <a href=\"./Lake/Build/ModuleArtifacts.html#Lake.ModuleOutputArtifacts\">ModuleOutputArtifacts</a>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/lake/Lake/Build/Module.lean#L293-L303","name":"Lake.Module.cacheOutputHashes","line":293,"kind":"def","docLink":"./Lake/Build/Module.html#Lake.Module.cacheOutputHashes","doc":"Cache the file hashes of the module build outputs in `.hash` files. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Module.html#Lake.Module.cacheOutputHashes\"><span class=\"name\">Lake</span>.<span class=\"name\">Module</span>.<span class=\"name\">cacheOutputHashes</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">mod</span> : <a href=\"./Lake/Config/Module.html#Lake.Module\">Module</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <a href=\"./Init/Prelude.html#PUnit\">PUnit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/lake/Lake/Build/Module.lean#L284-L291","name":"Lake.Module.clearOutputHashes","line":284,"kind":"def","docLink":"./Lake/Build/Module.html#Lake.Module.clearOutputHashes","doc":"Remove any cached file hashes of the module build outputs (in `.hash` files). "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Module.html#Lake.Module.clearOutputHashes\"><span class=\"name\">Lake</span>.<span class=\"name\">Module</span>.<span class=\"name\">clearOutputHashes</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">mod</span> : <a href=\"./Lake/Config/Module.html#Lake.Module\">Module</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <a href=\"./Init/Prelude.html#PUnit\">PUnit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/lake/Lake/Build/Module.lean#L280-L282","name":"Lake.Module.depsFacetConfig","line":280,"kind":"def","docLink":"./Lake/Build/Module.html#Lake.Module.depsFacetConfig","doc":"The `ModuleFacetConfig` for the builtin `depsFacet`. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Module.html#Lake.Module.depsFacetConfig\"><span class=\"name\">Lake</span>.<span class=\"name\">Module</span>.<span class=\"name\">depsFacetConfig</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Config/FacetConfig.html#Lake.ModuleFacetConfig\">ModuleFacetConfig</a> <a href=\"./Lake/Build/Facets.html#Lake.Module.depsFacet\">depsFacet</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/lake/Lake/Build/Module.lean#L276-L278","name":"Lake.Module.setupFacetConfig","line":276,"kind":"def","docLink":"./Lake/Build/Module.html#Lake.Module.setupFacetConfig","doc":"The `ModuleFacetConfig` for the builtin `setupFacet`. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Module.html#Lake.Module.setupFacetConfig\"><span class=\"name\">Lake</span>.<span class=\"name\">Module</span>.<span class=\"name\">setupFacetConfig</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Config/FacetConfig.html#Lake.ModuleFacetConfig\">ModuleFacetConfig</a> <a href=\"./Lake/Build/Facets.html#Lake.Module.setupFacet\">setupFacet</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/lake/Lake/Build/Module.lean#L212-L274","name":"Lake.Module.recFetchSetup","line":212,"kind":"def","docLink":"./Lake/Build/Module.html#Lake.Module.recFetchSetup","doc":"Recursively build a module's dependencies, including:\n* Transitive local imports\n* Shared libraries (e.g., `extern_lib` targets or precompiled modules)\n* `extraDepTargets` of its library\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Module.html#Lake.Module.recFetchSetup\"><span class=\"name\">Lake</span>.<span class=\"name\">Module</span>.<span class=\"name\">recFetchSetup</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">mod</span> : <a href=\"./Lake/Config/Module.html#Lake.Module\">Module</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Build/Fetch.html#Lake.FetchM\">FetchM</a> <span class=\"fn\">(<a href=\"./Lake/Build/Job/Basic.html#Lake.Job\">Job</a> <a href=\"./Lean/Setup.html#Lean.ModuleSetup\">Lean.ModuleSetup</a>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/lake/Lake/Build/Module.lean#L141-L158","name":"Lake.fetchImportLibs","line":141,"kind":"def","docLink":"./Lake/Build/Module.html#Lake.fetchImportLibs","doc":"**For internal use.**\n\nFetches the library dynlibs of a list of non-local imports.\nModules are loaded as part of their whole library.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Module.html#Lake.fetchImportLibs\"><span class=\"name\">Lake</span>.<span class=\"name\">fetchImportLibs</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">mods</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lake/Config/Module.html#Lake.Module\">Module</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Build/Fetch.html#Lake.FetchM\">FetchM</a> <span class=\"fn\">(<a href=\"./Lake/Build/Job/Basic.html#Lake.Job\">Job</a> <span class=\"fn\">(<a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lake/Config/Dynlib.html#Lake.Dynlib\">Dynlib</a>)</span>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/lake/Lake/Build/Module.lean#L116-L118","name":"Lake.Module.precompileImportsFacetConfig","line":116,"kind":"def","docLink":"./Lake/Build/Module.html#Lake.Module.precompileImportsFacetConfig","doc":"The `ModuleFacetConfig` for the builtin `precompileImportsFacet`. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Module.html#Lake.Module.precompileImportsFacetConfig\"><span class=\"name\">Lake</span>.<span class=\"name\">Module</span>.<span class=\"name\">precompileImportsFacetConfig</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Config/FacetConfig.html#Lake.ModuleFacetConfig\">ModuleFacetConfig</a> <a href=\"./Lake/Build/Info.html#Lake.Module.precompileImportsFacet\">precompileImportsFacet</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/lake/Lake/Build/Module.lean#L112-L114","name":"Lake.Module.recComputePrecompileImports","line":112,"kind":"def","docLink":"./Lake/Build/Module.html#Lake.Module.recComputePrecompileImports","doc":"Recursively compute a module's precompiled imports. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Module.html#Lake.Module.recComputePrecompileImports\"><span class=\"name\">Lake</span>.<span class=\"name\">Module</span>.<span class=\"name\">recComputePrecompileImports</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">mod</span> : <a href=\"./Lake/Config/Module.html#Lake.Module\">Module</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Build/Fetch.html#Lake.FetchM\">FetchM</a> <span class=\"fn\">(<a href=\"./Lake/Build/Job/Basic.html#Lake.Job\">Job</a> <span class=\"fn\">(<a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lake/Config/Module.html#Lake.Module\">Module</a>)</span>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/lake/Lake/Build/Module.lean#L103-L110","name":"Lake.computePrecompileImportsAux","line":103,"kind":"def","docLink":"./Lake/Build/Module.html#Lake.computePrecompileImportsAux","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Module.html#Lake.computePrecompileImportsAux\"><span class=\"name\">Lake</span>.<span class=\"name\">computePrecompileImportsAux</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">leanFile</span> : <a href=\"./Init/System/FilePath.html#System.FilePath\">System.FilePath</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">imports</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lake/Config/Module.html#Lake.Module\">Module</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Build/Fetch.html#Lake.FetchM\">FetchM</a> <span class=\"fn\">(<a href=\"./Lake/Build/Job/Basic.html#Lake.Job\">Job</a> <span class=\"fn\">(<a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lake/Config/Module.html#Lake.Module\">Module</a>)</span>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/lake/Lake/Build/Module.lean#L99-L101","name":"Lake.Module.transImportsFacetConfig","line":99,"kind":"def","docLink":"./Lake/Build/Module.html#Lake.Module.transImportsFacetConfig","doc":"The `ModuleFacetConfig` for the builtin `transImportsFacet`. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Module.html#Lake.Module.transImportsFacetConfig\"><span class=\"name\">Lake</span>.<span class=\"name\">Module</span>.<span class=\"name\">transImportsFacetConfig</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Config/FacetConfig.html#Lake.ModuleFacetConfig\">ModuleFacetConfig</a> <a href=\"./Lake/Build/Info.html#Lake.Module.transImportsFacet\">transImportsFacet</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/lake/Lake/Build/Module.lean#L94-L97","name":"Lake.Module.recComputeTransImports","line":94,"kind":"def","docLink":"./Lake/Build/Module.html#Lake.Module.recComputeTransImports","doc":"Recursively compute a module's transitive imports. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Module.html#Lake.Module.recComputeTransImports\"><span class=\"name\">Lake</span>.<span class=\"name\">Module</span>.<span class=\"name\">recComputeTransImports</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">mod</span> : <a href=\"./Lake/Config/Module.html#Lake.Module\">Module</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Build/Fetch.html#Lake.FetchM\">FetchM</a> <span class=\"fn\">(<a href=\"./Lake/Build/Job/Basic.html#Lake.Job\">Job</a> <span class=\"fn\">(<a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lake/Config/Module.html#Lake.Module\">Module</a>)</span>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/lake/Lake/Build/Module.lean#L68-L92","name":"Lake.collectImportsAux","line":68,"kind":"def","docLink":"./Lake/Build/Module.html#Lake.collectImportsAux","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Module.html#Lake.collectImportsAux\"><span class=\"name\">Lake</span>.<span class=\"name\">collectImportsAux</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">leanFile</span> : <a href=\"./Init/System/FilePath.html#System.FilePath\">System.FilePath</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">imports</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lake/Config/Module.html#Lake.Module\">Module</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">f</span> : <span class=\"fn\"><a href=\"./Lake/Config/Module.html#Lake.Module\">Module</a> → <span class=\"fn\"><a href=\"./Lake/Build/Fetch.html#Lake.FetchM\">FetchM</a> (<a href=\"./Init/Prelude.html#Bool\">Bool</a> <a href=\"./Init/Prelude.html#Prod\">×</a> <span class=\"fn\"><a href=\"./Lake/Build/Job/Basic.html#Lake.Job\">Job</a> <span class=\"fn\">(<a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lake/Config/Module.html#Lake.Module\">Module</a>)</span></span>)</span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Build/Fetch.html#Lake.FetchM\">FetchM</a> <span class=\"fn\">(<a href=\"./Lake/Build/Job/Basic.html#Lake.Job\">Job</a> <span class=\"fn\">(<a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lake/Config/Module.html#Lake.Module\">Module</a>)</span>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/lake/Lake/Build/Module.lean#L66-L66","name":"Lake.ModuleImportData.includeSelf","line":66,"kind":"def","docLink":"./Lake/Build/Module.html#Lake.ModuleImportData.includeSelf","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Module.html#Lake.ModuleImportData.includeSelf\"><span class=\"name\">Lake</span>.<span class=\"name\">ModuleImportData</span>.<span class=\"name\">includeSelf</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lake/Build/Module.html#Lake.ModuleImportData\">ModuleImportData</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Bool\">Bool</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/lake/Lake/Build/Module.lean#L65-L65","name":"Lake.ModuleImportData.transImports","line":65,"kind":"def","docLink":"./Lake/Build/Module.html#Lake.ModuleImportData.transImports","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Module.html#Lake.ModuleImportData.transImports\"><span class=\"name\">Lake</span>.<span class=\"name\">ModuleImportData</span>.<span class=\"name\">transImports</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lake/Build/Module.html#Lake.ModuleImportData\">ModuleImportData</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Build/Job/Basic.html#Lake.Job\">Job</a> <span class=\"fn\">(<a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lake/Config/Module.html#Lake.Module\">Module</a>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/lake/Lake/Build/Module.lean#L64-L64","name":"Lake.ModuleImportData.module","line":64,"kind":"def","docLink":"./Lake/Build/Module.html#Lake.ModuleImportData.module","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Module.html#Lake.ModuleImportData.module\"><span class=\"name\">Lake</span>.<span class=\"name\">ModuleImportData</span>.<span class=\"name\">module</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lake/Build/Module.html#Lake.ModuleImportData\">ModuleImportData</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lake/Config/Module.html#Lake.Module\">Module</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/lake/Lake/Build/Module.lean#L63-L63","name":"Lake.ModuleImportData.mk","line":63,"kind":"ctor","docLink":"./Lake/Build/Module.html#Lake.ModuleImportData.mk","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Module.html#Lake.ModuleImportData.mk\"><span class=\"name\">Lake</span>.<span class=\"name\">ModuleImportData</span>.<span class=\"name\">mk</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">module</span> : <a href=\"./Lake/Config/Module.html#Lake.Module\">Module</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">transImports</span> : <span class=\"fn\"><a href=\"./Lake/Build/Job/Basic.html#Lake.Job\">Job</a> <span class=\"fn\">(<a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lake/Config/Module.html#Lake.Module\">Module</a>)</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">includeSelf</span> : <a href=\"./Init/Prelude.html#Bool\">Bool</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lake/Build/Module.html#Lake.ModuleImportData\">ModuleImportData</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/lake/Lake/Build/Module.lean#L63-L66","name":"Lake.ModuleImportData","line":63,"kind":"structure","docLink":"./Lake/Build/Module.html#Lake.ModuleImportData","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">structure</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Module.html#Lake.ModuleImportData\"><span class=\"name\">Lake</span>.<span class=\"name\">ModuleImportData</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/lake/Lake/Build/Module.lean#L59-L61","name":"Lake.Module.importsFacetConfig","line":59,"kind":"def","docLink":"./Lake/Build/Module.html#Lake.Module.importsFacetConfig","doc":"The `ModuleFacetConfig` for the builtin `importsFacet`. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Module.html#Lake.Module.importsFacetConfig\"><span class=\"name\">Lake</span>.<span class=\"name\">Module</span>.<span class=\"name\">importsFacetConfig</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Config/FacetConfig.html#Lake.ModuleFacetConfig\">ModuleFacetConfig</a> <a href=\"./Lake/Build/Info.html#Lake.Module.importsFacet\">importsFacet</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/lake/Lake/Build/Module.lean#L52-L57","name":"Lake.Module.recParseImports","line":52,"kind":"def","docLink":"./Lake/Build/Module.html#Lake.Module.recParseImports","doc":"Compute an `Array` of a module's direct local imports from its header. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Module.html#Lake.Module.recParseImports\"><span class=\"name\">Lake</span>.<span class=\"name\">Module</span>.<span class=\"name\">recParseImports</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">mod</span> : <a href=\"./Lake/Config/Module.html#Lake.Module\">Module</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Build/Fetch.html#Lake.FetchM\">FetchM</a> <span class=\"fn\">(<a href=\"./Lake/Build/Job/Basic.html#Lake.Job\">Job</a> <span class=\"fn\">(<a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lake/Config/Module.html#Lake.Module\">Module</a>)</span>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/lake/Lake/Build/Module.lean#L48-L50","name":"Lake.Module.headerFacetConfig","line":48,"kind":"def","docLink":"./Lake/Build/Module.html#Lake.Module.headerFacetConfig","doc":"The `ModuleFacetConfig` for the builtin `headerFacet`. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Module.html#Lake.Module.headerFacetConfig\"><span class=\"name\">Lake</span>.<span class=\"name\">Module</span>.<span class=\"name\">headerFacetConfig</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Config/FacetConfig.html#Lake.ModuleFacetConfig\">ModuleFacetConfig</a> <a href=\"./Lake/Build/Facets.html#Lake.Module.headerFacet\">headerFacet</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/lake/Lake/Build/Module.lean#L44-L46","name":"Lake.Module.leanFacetConfig","line":44,"kind":"def","docLink":"./Lake/Build/Module.html#Lake.Module.leanFacetConfig","doc":"The `ModuleFacetConfig` for the builtin `leanFacet`. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Module.html#Lake.Module.leanFacetConfig\"><span class=\"name\">Lake</span>.<span class=\"name\">Module</span>.<span class=\"name\">leanFacetConfig</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Config/FacetConfig.html#Lake.ModuleFacetConfig\">ModuleFacetConfig</a> <a href=\"./Lake/Build/Facets.html#Lake.Module.leanFacet\">leanFacet</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/lake/Lake/Build/Module.lean#L40-L42","name":"Lake.Module.inputFacetConfig","line":40,"kind":"def","docLink":"./Lake/Build/Module.html#Lake.Module.inputFacetConfig","doc":"The `ModuleFacetConfig` for the builtin `inputFacet`. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Module.html#Lake.Module.inputFacetConfig\"><span class=\"name\">Lake</span>.<span class=\"name\">Module</span>.<span class=\"name\">inputFacetConfig</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Config/FacetConfig.html#Lake.ModuleFacetConfig\">ModuleFacetConfig</a> <a href=\"./Lake/Build/Facets.html#Lake.Module.inputFacet\">inputFacet</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/lake/Lake/Build/Module.lean#L32-L38","name":"Lake.Module.recFetchInput","line":32,"kind":"def","docLink":"./Lake/Build/Module.html#Lake.Module.recFetchInput","doc":"Parse the header of a Lean file from its source. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Module.html#Lake.Module.recFetchInput\"><span class=\"name\">Lake</span>.<span class=\"name\">Module</span>.<span class=\"name\">recFetchInput</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">mod</span> : <a href=\"./Lake/Config/Module.html#Lake.Module\">Module</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Build/Fetch.html#Lake.FetchM\">FetchM</a> <span class=\"fn\">(<a href=\"./Lake/Build/Job/Basic.html#Lake.Job\">Job</a> <a href=\"./Lake/Build/Facets.html#Lake.ModuleInput\">ModuleInput</a>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/lake/Lake/Build/Module.lean#L21-L30","name":"Lake.recBuildExternDynlibs","line":21,"kind":"def","docLink":"./Lake/Build/Module.html#Lake.recBuildExternDynlibs","doc":"Compute library directories and build external library Jobs of the given packages. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Module.html#Lake.recBuildExternDynlibs\"><span class=\"name\">Lake</span>.<span class=\"name\">recBuildExternDynlibs</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">pkgs</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lake/Config/Package.html#Lake.Package\">Package</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Build/Fetch.html#Lake.FetchM\">FetchM</a> (<span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <span class=\"fn\">(<a href=\"./Lake/Build/Job/Basic.html#Lake.Job\">Job</a> <a href=\"./Lake/Config/Dynlib.html#Lake.Dynlib\">Dynlib</a>)</span></span> <a href=\"./Init/Prelude.html#Prod\">×</a> <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Init/System/FilePath.html#System.FilePath\">System.FilePath</a></span>)</span></div></div>"}]}