{"name":"Lean.Environment","instances":[{"typeNames":["Lean.EnvExtensionState"],"name":"Lean.instInhabitedEnvExtensionState","className":"Inhabited"},{"typeNames":["Lean.ModuleIdx"],"name":"Lean.instModuleIdxBEq","className":"BEq"},{"typeNames":["Lean.ModuleIdx"],"name":"Lean.instModuleIdxToString","className":"ToString"},{"typeNames":["Lean.ModuleIdx"],"name":"Lean.instInhabitedModuleIdx","className":"Inhabited"},{"typeNames":["Array","Lean.ModuleIdx"],"name":"Lean.instGetElemArrayModuleIdxLtNatToNatSize","className":"GetElem"},{"typeNames":["Array","Lean.ModuleIdx"],"name":"Lean.instGetElem?ArrayModuleIdxLtNatToNatSize","className":"GetElem?"},{"typeNames":["Lean.EnvExtensionEntry"],"name":"Lean.instNonemptyEnvExtensionEntry","className":"Nonempty"},{"typeNames":["Lean.ModuleData"],"name":"Lean.instInhabitedModuleData","className":"Inhabited"},{"typeNames":["Lean.IRPhases"],"name":"Lean.instInhabitedIRPhases","className":"Inhabited"},{"typeNames":["Lean.IRPhases"],"name":"Lean.instBEqIRPhases","className":"BEq"},{"typeNames":["Lean.IRPhases"],"name":"Lean.instReprIRPhases","className":"Repr"},{"typeNames":["Lean.EnvironmentHeader"],"name":"Lean.instNonemptyEnvironmentHeader","className":"Nonempty"},{"typeNames":["Lean.Kernel.Diagnostics"],"name":"Lean.Kernel.instInhabitedDiagnostics","className":"Inhabited"},{"typeNames":["Lean.Kernel.Environment"],"name":"Lean.Kernel.instNonemptyEnvironment","className":"Nonempty"},{"typeNames":["Lean.Kernel.Exception"],"name":"Lean.Kernel.instNonemptyException","className":"Nonempty"},{"typeNames":["Lean.ConstantKind"],"name":"Lean.instInhabitedConstantKind","className":"Inhabited"},{"typeNames":["Lean.ConstantKind"],"name":"Lean.instBEqConstantKind","className":"BEq"},{"typeNames":["Lean.ConstantKind"],"name":"Lean.instReprConstantKind","className":"Repr"},{"typeNames":["Lean.AsyncConstantInfo"],"name":"Lean.instInhabitedAsyncConstantInfo","className":"Inhabited"},{"typeNames":["_private.Lean.Environment.0.Lean.AsyncContext"],"name":"Lean.instNonemptyAsyncContext","className":"Nonempty"},{"typeNames":["_private.Lean.Environment.0.Lean.AsyncConsts"],"name":"Lean.instInhabitedAsyncConsts","className":"Inhabited"},{"typeNames":["_private.Lean.Environment.0.Lean.AsyncConsts"],"name":"Lean.instTypeNameAsyncConsts","className":"TypeName"},{"typeNames":["_private.Lean.Environment.0.Lean.VisibilityMap"],"name":"Lean.instInhabitedVisibilityMap","className":"Inhabited"},{"typeNames":["_private.Lean.Environment.0.Lean.VisibilityMap"],"name":"Lean.instNonemptyVisibilityMap","className":"Nonempty"},{"typeNames":["_private.Lean.Environment.0.Lean.RealizationResult"],"name":"Lean.instNonemptyRealizationResult","className":"Nonempty"},{"typeNames":["Lean.Environment"],"name":"Lean.instNonemptyEnvironment","className":"Nonempty"},{"typeNames":["_private.Lean.Environment.0.Lean.Environment.ConstPromiseVal"],"name":"Lean.Environment.instNonemptyConstPromiseVal","className":"Nonempty"},{"typeNames":["Lean.EnvExtension.AsyncMode"],"name":"Lean.EnvExtension.instInhabitedAsyncMode","className":"Inhabited"},{"typeNames":["Lean.EnvExtension"],"name":"Lean.instInhabitedEnvExtension","className":"Inhabited"},{"typeNames":["Eq"],"name":"Lean.instDecidableEqOLeanLevel","className":"Decidable"},{"typeNames":["Lean.OLeanLevel"],"name":"Lean.instOrdOLeanLevel","className":"Ord"},{"typeNames":["Lean.OLeanLevel"],"name":"Lean.instReprOLeanLevel","className":"Repr"},{"typeNames":["Lean.OLeanLevel"],"name":"Lean.instLEOLeanLevel","className":"LE"},{"typeNames":["Lean.OLeanLevel"],"name":"Lean.instLTOLeanLevel","className":"LT"},{"typeNames":["Lean.PersistentEnvExtensionState"],"name":"Lean.instInhabitedPersistentEnvExtensionState","className":"Inhabited"},{"typeNames":["Lean.PersistentEnvExtension"],"name":"Lean.instInhabitedPersistentEnvExtension","className":"Inhabited"},{"typeNames":[],"name":"Lean.instMonadEnvOfMonadLift","className":"Lean.MonadEnv"}],"imports":["Init.Control.StateRef","Init.Data.Array.BinSearch","Init.Data.Stream","Init.System.Promise","Lean.ImportingFlag","Lean.Data.NameTrie","Lean.Data.SMap","Lean.Setup","Lean.Declaration","Lean.LocalContext","Lean.Util.Path","Lean.Util.FindExpr","Lean.Util.Profile","Lean.Util.InstantiateLevelParams","Lean.Util.FoldConsts","Lean.PrivateName","Lean.LoadDynlib","Init.Dynamic"],"declarations":[{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L2546-L2553","name":"Lean.getMaxHeight","line":2546,"kind":"def","docLink":"./Lean/Environment.html#Lean.getMaxHeight","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.getMaxHeight\"><span class=\"name\">Lean</span>.<span class=\"name\">getMaxHeight</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">e</span> : <a href=\"./Lean/Expr.html#Lean.Expr\">Expr</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#UInt32\">UInt32</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L2539-L2544","name":"Lean.mkDefinitionValInferrringUnsafe","line":2539,"kind":"def","docLink":"./Lean/Environment.html#Lean.mkDefinitionValInferrringUnsafe","doc":"Constructs a DefinitionVal, inferring the `unsafe` field "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.mkDefinitionValInferrringUnsafe\"><span class=\"name\">Lean</span>.<span class=\"name\">mkDefinitionValInferrringUnsafe</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">m</span> : <span class=\"fn\"><a href=\"./foundational_types.html\">Type</a> → <a href=\"./foundational_types.html\">Type</a></span>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">[<span class=\"fn\"><a href=\"./Init/Prelude.html#Monad\">Monad</a> <span class=\"fn\">m</span></span>]</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">[<span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.MonadEnv\">MonadEnv</a> <span class=\"fn\">m</span></span>]</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">name</span> : <a href=\"./Init/Prelude.html#Lean.Name\">Name</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">levelParams</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#List\">List</a> <a href=\"./Init/Prelude.html#Lean.Name\">Name</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">type </span><span class=\"fn\">value</span> : <a href=\"./Lean/Expr.html#Lean.Expr\">Expr</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">hints</span> : <a href=\"./Lean/Declaration.html#Lean.ReducibilityHints\">ReducibilityHints</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><span class=\"fn\">m</span> <a href=\"./Lean/Declaration.html#Lean.DefinitionVal\">DefinitionVal</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L2535-L2537","name":"Lean.withoutExporting","line":2535,"kind":"def","docLink":"./Lean/Environment.html#Lean.withoutExporting","doc":"Sets `Environment.isExporting` to false while executing `x`. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.withoutExporting\"><span class=\"name\">Lean</span>.<span class=\"name\">withoutExporting</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">m</span> : <span class=\"fn\"><a href=\"./foundational_types.html\">Type</a> → <a href=\"./foundational_types.html\">Type</a></span>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">[<span class=\"fn\"><a href=\"./Init/Prelude.html#Monad\">Monad</a> <span class=\"fn\">m</span></span>]</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">[<span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.MonadEnv\">MonadEnv</a> <span class=\"fn\">m</span></span>]</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">[<span class=\"fn\"><a href=\"./Init/Control/Except.html#MonadFinally\">MonadFinally</a> <span class=\"fn\">m</span></span>]</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">[<span class=\"fn\"><a href=\"./Lean/Data/Options.html#Lean.MonadOptions\">MonadOptions</a> <span class=\"fn\">m</span></span>]</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">x</span> : <span class=\"fn\"><span class=\"fn\">m</span> <span class=\"fn\">α</span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><span class=\"fn\">m</span> <span class=\"fn\">α</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L2521-L2533","name":"Lean.withExporting","line":2521,"kind":"def","docLink":"./Lean/Environment.html#Lean.withExporting","doc":"Sets `Environment.isExporting` to the given value while executing `x`. No-op if\n`EnvironmentHeader.isModule` is false.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.withExporting\"><span class=\"name\">Lean</span>.<span class=\"name\">withExporting</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">m</span> : <span class=\"fn\"><a href=\"./foundational_types.html\">Type</a> → <a href=\"./foundational_types.html\">Type</a></span>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">[<span class=\"fn\"><a href=\"./Init/Prelude.html#Monad\">Monad</a> <span class=\"fn\">m</span></span>]</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">[<span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.MonadEnv\">MonadEnv</a> <span class=\"fn\">m</span></span>]</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">[<span class=\"fn\"><a href=\"./Init/Control/Except.html#MonadFinally\">MonadFinally</a> <span class=\"fn\">m</span></span>]</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">[<span class=\"fn\"><a href=\"./Lean/Data/Options.html#Lean.MonadOptions\">MonadOptions</a> <span class=\"fn\">m</span></span>]</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">x</span> : <span class=\"fn\"><span class=\"fn\">m</span> <span class=\"fn\">α</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">isExporting</span> : <a href=\"./Init/Prelude.html#Bool\">Bool</a> := <a href=\"./Init/Prelude.html#Bool.true\">true</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><span class=\"fn\">m</span> <span class=\"fn\">α</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L2516-L2519","name":"Lean.instMonadEnvOfMonadLift","line":2516,"kind":"instance","docLink":"./Lean/Environment.html#Lean.instMonadEnvOfMonadLift","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.instMonadEnvOfMonadLift\"><span class=\"name\">Lean</span>.<span class=\"name\">instMonadEnvOfMonadLift</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">m </span><span class=\"fn\">n</span> : <span class=\"fn\"><a href=\"./foundational_types.html\">Type</a> → <a href=\"./foundational_types.html\">Type</a></span>)</span></span>\n<span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">[<span class=\"fn\"><a href=\"./Init/Prelude.html#MonadLift\">MonadLift</a> <span class=\"fn\">m</span> <span class=\"fn\">n</span></span>]</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">[<span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.MonadEnv\">MonadEnv</a> <span class=\"fn\">m</span></span>]</span></span>\n</span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.MonadEnv\">MonadEnv</a> <span class=\"fn\">n</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L2512-L2512","name":"Lean.MonadEnv.modifyEnv","line":2512,"kind":"def","docLink":"./Lean/Environment.html#Lean.MonadEnv.modifyEnv","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.MonadEnv.modifyEnv\"><span class=\"name\">Lean</span>.<span class=\"name\">MonadEnv</span>.<span class=\"name\">modifyEnv</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">m</span> : <span class=\"fn\"><a href=\"./foundational_types.html\">Type</a> → <a href=\"./foundational_types.html\">Type</a></span>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">[<span class=\"fn\">self</span> : <span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.MonadEnv\">MonadEnv</a> <span class=\"fn\">m</span></span>]</span></span>\n</span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><span class=\"fn\">(<a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a> → <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span> → <span class=\"fn\"><span class=\"fn\">m</span> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L2511-L2511","name":"Lean.MonadEnv.getEnv","line":2511,"kind":"def","docLink":"./Lean/Environment.html#Lean.MonadEnv.getEnv","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.MonadEnv.getEnv\"><span class=\"name\">Lean</span>.<span class=\"name\">MonadEnv</span>.<span class=\"name\">getEnv</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">m</span> : <span class=\"fn\"><a href=\"./foundational_types.html\">Type</a> → <a href=\"./foundational_types.html\">Type</a></span>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">[<span class=\"fn\">self</span> : <span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.MonadEnv\">MonadEnv</a> <span class=\"fn\">m</span></span>]</span></span>\n</span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><span class=\"fn\">m</span> <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L2510-L2510","name":"Lean.MonadEnv.mk","line":2510,"kind":"ctor","docLink":"./Lean/Environment.html#Lean.MonadEnv.mk","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.MonadEnv.mk\"><span class=\"name\">Lean</span>.<span class=\"name\">MonadEnv</span>.<span class=\"name\">mk</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">m</span> : <span class=\"fn\"><a href=\"./foundational_types.html\">Type</a> → <a href=\"./foundational_types.html\">Type</a></span>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">getEnv</span> : <span class=\"fn\"><span class=\"fn\">m</span> <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">modifyEnv</span> : <span class=\"fn\"><span class=\"fn\">(<a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a> → <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span> → <span class=\"fn\"><span class=\"fn\">m</span> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.MonadEnv\">MonadEnv</a> <span class=\"fn\">m</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L2510-L2512","name":"Lean.MonadEnv","line":2510,"kind":"class","docLink":"./Lean/Environment.html#Lean.MonadEnv","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">class</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.MonadEnv\"><span class=\"name\">Lean</span>.<span class=\"name\">MonadEnv</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">m</span> : <span class=\"fn\"><a href=\"./foundational_types.html\">Type</a> → <a href=\"./foundational_types.html\">Type</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L2499-L2506","name":"Lean.Kernel.check","line":2499,"kind":"opaque","docLink":"./Lean/Environment.html#Lean.Kernel.check","doc":"Kernel typecheck function. We use it mainly for debugging purposes.\nRecall that the Kernel type checker does not support metavariables.\nWhen implementing automation, consider using the `MetaM` methods. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">opaque</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Kernel.check\"><span class=\"name\">Lean</span>.<span class=\"name\">Kernel</span>.<span class=\"name\">check</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Lean.Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">lctx</span> : <a href=\"./Lean/LocalContext.html#Lean.LocalContext\">LocalContext</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">a</span> : <a href=\"./Lean/Expr.html#Lean.Expr\">Expr</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Except\">Except</a> <a href=\"./Lean/Environment.html#Lean.Kernel.Exception\">Exception</a> <a href=\"./Lean/Expr.html#Lean.Expr\">Expr</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L2490-L2497","name":"Lean.Kernel.whnf","line":2490,"kind":"opaque","docLink":"./Lean/Environment.html#Lean.Kernel.whnf","doc":"Kernel WHNF function. We use it mainly for debugging purposes.\nRecall that the kernel type checker does not support metavariables.\nWhen implementing automation, consider using the `MetaM` methods. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">opaque</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Kernel.whnf\"><span class=\"name\">Lean</span>.<span class=\"name\">Kernel</span>.<span class=\"name\">whnf</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Lean.Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">lctx</span> : <a href=\"./Lean/LocalContext.html#Lean.LocalContext\">LocalContext</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">a</span> : <a href=\"./Lean/Expr.html#Lean.Expr\">Expr</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Except\">Except</a> <a href=\"./Lean/Environment.html#Lean.Kernel.Exception\">Exception</a> <a href=\"./Lean/Expr.html#Lean.Expr\">Expr</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L2487-L2488","name":"Lean.Kernel.isDefEqGuarded","line":2487,"kind":"def","docLink":"./Lean/Environment.html#Lean.Kernel.isDefEqGuarded","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Kernel.isDefEqGuarded\"><span class=\"name\">Lean</span>.<span class=\"name\">Kernel</span>.<span class=\"name\">isDefEqGuarded</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Lean.Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">lctx</span> : <a href=\"./Lean/LocalContext.html#Lean.LocalContext\">LocalContext</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">a </span><span class=\"fn\">b</span> : <a href=\"./Lean/Expr.html#Lean.Expr\">Expr</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Bool\">Bool</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L2478-L2485","name":"Lean.Kernel.isDefEq","line":2478,"kind":"opaque","docLink":"./Lean/Environment.html#Lean.Kernel.isDefEq","doc":"Kernel isDefEq predicate. We use it mainly for debugging purposes.\nRecall that the kernel type checker does not support metavariables.\nWhen implementing automation, consider using the `MetaM` methods. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">opaque</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Kernel.isDefEq\"><span class=\"name\">Lean</span>.<span class=\"name\">Kernel</span>.<span class=\"name\">isDefEq</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Lean.Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">lctx</span> : <a href=\"./Lean/LocalContext.html#Lean.LocalContext\">LocalContext</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">a </span><span class=\"fn\">b</span> : <a href=\"./Lean/Expr.html#Lean.Expr\">Expr</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Except\">Except</a> <a href=\"./Lean/Environment.html#Lean.Kernel.Exception\">Exception</a> <a href=\"./Init/Prelude.html#Bool\">Bool</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L2382-L2471","name":"Lean.Environment.realizeConst","line":2382,"kind":"def","docLink":"./Lean/Environment.html#Lean.Environment.realizeConst","doc":"Plumbing function for `Lean.Meta.realizeConst`; see documentation there. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Environment.realizeConst\"><span class=\"name\">Lean</span>.<span class=\"name\">Environment</span>.<span class=\"name\">realizeConst</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">forConst </span><span class=\"fn\">constName</span> : <a href=\"./Init/Prelude.html#Lean.Name\">Name</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">realize</span> : <span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a> → <span class=\"fn\"><a href=\"./Lean/Data/Options.html#Lean.Options\">Options</a> → <span class=\"fn\"><a href=\"./Init/System/IO.html#BaseIO\">BaseIO</a> (<a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a> <a href=\"./Init/Prelude.html#Prod\">×</a> <a href=\"./Init/Dynamic.html#Dynamic\">Dynamic</a>)</span></span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> (<a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a> <a href=\"./Init/Prelude.html#Prod\">×</a> <span class=\"fn\"><a href=\"./Init/Core.html#Task\">Task</a> <span class=\"fn\">(<a href=\"./Init/Prelude.html#Option\">Option</a> <a href=\"./Lean/Environment.html#Lean.Kernel.Exception\">Kernel.Exception</a>)</span></span> <a href=\"./Init/Prelude.html#Prod\">×</a> <a href=\"./Init/Dynamic.html#Dynamic\">Dynamic</a>)</span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L2373-L2380","name":"Lean.Environment.hasUnsafe","line":2373,"kind":"def","docLink":"./Lean/Environment.html#Lean.Environment.hasUnsafe","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Environment.hasUnsafe\"><span class=\"name\">Lean</span>.<span class=\"name\">Environment</span>.<span class=\"name\">hasUnsafe</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">e</span> : <a href=\"./Lean/Expr.html#Lean.Expr\">Expr</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Bool\">Bool</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L2361-L2371","name":"Lean.Environment.evalConstCheck","line":2361,"kind":"def","docLink":"./Lean/Environment.html#Lean.Environment.evalConstCheck","doc":"Like `evalConst`, but first check that `constName` indeed is a declaration of type `typeName`.\nNote that this function cannot guarantee that `typeName` is in fact the name of the type `α`. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">unsafe def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Environment.evalConstCheck\"><span class=\"name\">Lean</span>.<span class=\"name\">Environment</span>.<span class=\"name\">evalConstCheck</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">α</span> : <a href=\"./foundational_types.html\">Type</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">opts</span> : <a href=\"./Lean/Data/Options.html#Lean.Options\">Options</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">typeName </span><span class=\"fn\">constName</span> : <a href=\"./Init/Prelude.html#Lean.Name\">Name</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Control/Except.html#ExceptT\">ExceptT</a> <a href=\"./Init/Prelude.html#String\">String</a> <a href=\"./Init/Control/Id.html#Id\">Id</a> <span class=\"fn\">α</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L2325-L2359","name":"Lean.Environment.replayConsts.replayKernel","line":2325,"kind":"def","docLink":"./Lean/Environment.html#Lean.Environment.replayConsts.replayKernel","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Environment.replayConsts.replayKernel\"><span class=\"name\">Lean</span>.<span class=\"name\">Environment</span>.<span class=\"name\">replayConsts</span>.<span class=\"name\">replayKernel</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">oldEnv </span><span class=\"fn\">newEnv</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">skipExisting</span> : <a href=\"./Init/Prelude.html#Bool\">Bool</a> := <a href=\"./Init/Prelude.html#Bool.false\">false</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">exts</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <span class=\"fn\">(<a href=\"./Lean/Environment.html#Lean.EnvExtension\">EnvExtension</a> <a href=\"./Lean/Environment.html#Lean.EnvExtensionState\">EnvExtensionState</a>)</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">consts</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#List\">List</a> <a href=\"./Lean/Environment.html#_private.Lean.Environment.0.Lean.AsyncConst\">Lean.AsyncConst✝</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">kenv</span> : <a href=\"./Lean/Environment.html#Lean.Kernel.Environment\">Kernel.Environment</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Except\">Except</a> <a href=\"./Lean/Environment.html#Lean.Kernel.Exception\">Kernel.Exception</a> <a href=\"./Lean/Environment.html#Lean.Kernel.Environment\">Kernel.Environment</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L2296-L2359","name":"Lean.Environment.replayConsts","line":2296,"kind":"def","docLink":"./Lean/Environment.html#Lean.Environment.replayConsts","doc":"Replays the difference between `newEnv` and `oldEnv` onto `dest`: the set of constants in `newEnv`\nbut not `oldEnv` and the environment extension state for extensions defining `replay?`. If\n`skipExisting` is true, constants that are already in `dest` are not added. If `newEnv` and `dest`\nare not derived from `oldEnv`, the result is undefined.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Environment.replayConsts\"><span class=\"name\">Lean</span>.<span class=\"name\">Environment</span>.<span class=\"name\">replayConsts</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">dest </span><span class=\"fn\">oldEnv </span><span class=\"fn\">newEnv</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">skipExisting</span> : <a href=\"./Init/Prelude.html#Bool\">Bool</a> := <a href=\"./Init/Prelude.html#Bool.false\">false</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#BaseIO\">BaseIO</a> <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L2277-L2291","name":"Lean.Environment.evalConst","line":2277,"kind":"def","docLink":"./Lean/Environment.html#Lean.Environment.evalConst","doc":"Evaluates the given declaration under the given environment to a value of the given type.\nThis function is only safe to use if the type matches the declaration's type in the environment\nand if `enableInitializersExecution` has been used before importing any modules.\n\nIf `checkMeta` is true (the default), the function checks that the constant is declared or imported\nas `meta` or otherwise fails with an error. It should only be set to `false` in cases where it is\nacceptable for code to work only in the language server, where more IR is loaded, such as in\n`#eval`.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">unsafe def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Environment.evalConst\"><span class=\"name\">Lean</span>.<span class=\"name\">Environment</span>.<span class=\"name\">evalConst</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">α</span> : <a href=\"./foundational_types.html\">Type</a> u_1)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">opts</span> : <a href=\"./Lean/Data/Options.html#Lean.Options\">Options</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">constName</span> : <a href=\"./Init/Prelude.html#Lean.Name\">Name</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">checkMeta</span> : <a href=\"./Init/Prelude.html#Bool\">Bool</a> := <a href=\"./Init/Prelude.html#Bool.true\">true</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Except\">Except</a> <a href=\"./Init/Prelude.html#String\">String</a> <span class=\"fn\">α</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L2250-L2269","name":"Lean.Environment.displayStats","line":2250,"kind":"def","docLink":"./Lean/Environment.html#Lean.Environment.displayStats","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Environment.displayStats\"><span class=\"name\">Lean</span>.<span class=\"name\">Environment</span>.<span class=\"name\">displayStats</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L2228-L2229","name":"Lean.Kernel.setDiagnostics","line":2228,"kind":"def","docLink":"./Lean/Environment.html#Lean.Kernel.setDiagnostics","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Kernel.setDiagnostics\"><span class=\"name\">Lean</span>.<span class=\"name\">Kernel</span>.<span class=\"name\">setDiagnostics</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Lean.Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">diag</span> : <a href=\"./Lean/Environment.html#Lean.Kernel.Diagnostics\">Diagnostics</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.Environment\">Lean.Environment</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L2225-L2226","name":"Lean.Kernel.getDiagnostics","line":2225,"kind":"def","docLink":"./Lean/Environment.html#Lean.Kernel.getDiagnostics","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Kernel.getDiagnostics\"><span class=\"name\">Lean</span>.<span class=\"name\">Kernel</span>.<span class=\"name\">getDiagnostics</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Lean.Environment</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.Kernel.Diagnostics\">Diagnostics</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L2222-L2223","name":"Lean.Kernel.resetDiag","line":2222,"kind":"def","docLink":"./Lean/Environment.html#Lean.Kernel.resetDiag","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Kernel.resetDiag\"><span class=\"name\">Lean</span>.<span class=\"name\">Kernel</span>.<span class=\"name\">resetDiag</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Lean.Environment</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.Environment\">Lean.Environment</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L2219-L2220","name":"Lean.Kernel.isDiagnosticsEnabled","line":2219,"kind":"def","docLink":"./Lean/Environment.html#Lean.Kernel.isDiagnosticsEnabled","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Kernel.isDiagnosticsEnabled\"><span class=\"name\">Lean</span>.<span class=\"name\">Kernel</span>.<span class=\"name\">isDiagnosticsEnabled</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Lean.Environment</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Bool\">Bool</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L2215-L2217","name":"Lean.Kernel.enableDiag","line":2215,"kind":"def","docLink":"./Lean/Environment.html#Lean.Kernel.enableDiag","doc":"Enables/disables kernel diagnostics. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Kernel.enableDiag\"><span class=\"name\">Lean</span>.<span class=\"name\">Kernel</span>.<span class=\"name\">enableDiag</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Lean.Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">flag</span> : <a href=\"./Init/Prelude.html#Bool\">Bool</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.Environment\">Lean.Environment</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L2204-L2213","name":"Lean.withImportModules","line":2204,"kind":"def","docLink":"./Lean/Environment.html#Lean.withImportModules","doc":"Creates environment object from imports and frees compacted regions after calling `act`. No live\nreferences to the environment object or imported objects may exist after `act` finishes. As this\ncannot be ruled out after loading environment extensions, `importModules`'s `loadExts` is always\nunset using this function.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">unsafe def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.withImportModules\"><span class=\"name\">Lean</span>.<span class=\"name\">withImportModules</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">imports</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Setup.html#Lean.Import\">Import</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">opts</span> : <a href=\"./Lean/Data/Options.html#Lean.Options\">Options</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">act</span> : <span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a> → <span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <span class=\"fn\">α</span></span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">trustLevel</span> : <a href=\"./Init/Prelude.html#UInt32\">UInt32</a> := <span class=\"fn\">0</span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <span class=\"fn\">α</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L2172-L2202","name":"Lean.importModules","line":2172,"kind":"def","docLink":"./Lean/Environment.html#Lean.importModules","doc":"Creates environment object from given imports.\n\nIf `leakEnv` is true, we mark the environment as persistent, which means it will not be freed. We\nset this when the object would survive until the end of the process anyway. In exchange, RC updates\nare avoided, which is especially important when they would be atomic because the environment is\nshared across threads (potentially, storing it in an `IO.Ref` is sufficient for marking it as such).\n\nIf `loadExts` is true, we initialize the environment extensions using the imported data. Doing so\nmay use the interpreter and thus is only safe to do after calling `enableInitializersExecution`; see\nalso caveats there. If not set, every extension will have its initial value as its state. While the\nenvironment's constant map can be accessed without `loadExts`, many functions that take\n`Environment` or are in a monad carrying it such as `CoreM` may not function properly without it.\n\nIf `level` is `exported`, the module to be elaborated is assumed to be participating in the module\nsystem and imports will be restricted accordingly. If it is `server`, the data for\n`getModuleEntries (includeServer := true)` is loaded as well. If it is `private`, all data is loaded\nas if no `module` annotations were present in the imports.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.importModules\"><span class=\"name\">Lean</span>.<span class=\"name\">importModules</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">imports</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Setup.html#Lean.Import\">Import</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">opts</span> : <a href=\"./Lean/Data/Options.html#Lean.Options\">Options</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">trustLevel</span> : <a href=\"./Init/Prelude.html#UInt32\">UInt32</a> := <span class=\"fn\">0</span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">plugins</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Init/System/FilePath.html#System.FilePath\">System.FilePath</a></span> := <a href=\"./Init/Prelude.html#List.toArray\">#[</a><a href=\"./Init/Prelude.html#List.toArray\">]</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">leakEnv </span><span class=\"fn\">loadExts</span> : <a href=\"./Init/Prelude.html#Bool\">Bool</a> := <a href=\"./Init/Prelude.html#Bool.false\">false</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">level</span> : <a href=\"./Lean/Environment.html#Lean.OLeanLevel\">OLeanLevel</a> := <a href=\"./Lean/Environment.html#Lean.OLeanLevel.private\">OLeanLevel.private</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">arts</span> : <span class=\"fn\"><a href=\"./Lean/Data/NameMap.html#Lean.NameMap\">NameMap</a> <a href=\"./Lean/Setup.html#Lean.ImportArtifacts\">ImportArtifacts</a></span> := <a href=\"./Init/Core.html#EmptyCollection.emptyCollection\">∅</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L2058-L2170","name":"Lean.finalizeImport","line":2058,"kind":"def","docLink":"./Lean/Environment.html#Lean.finalizeImport","doc":"Constructs environment from `importModulesCore` results.\n\nSee also `importModules` for parameter documentation.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.finalizeImport\"><span class=\"name\">Lean</span>.<span class=\"name\">finalizeImport</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">s</span> : <a href=\"./Lean/Environment.html#Lean.ImportState\">ImportState</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">imports</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Setup.html#Lean.Import\">Import</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">opts</span> : <a href=\"./Lean/Data/Options.html#Lean.Options\">Options</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">trustLevel</span> : <a href=\"./Init/Prelude.html#UInt32\">UInt32</a> := <span class=\"fn\">0</span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">leakEnv </span><span class=\"fn\">loadExts</span> : <a href=\"./Init/Prelude.html#Bool\">Bool</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">level</span> : <a href=\"./Lean/Environment.html#Lean.OLeanLevel\">OLeanLevel</a> := <a href=\"./Lean/Environment.html#Lean.OLeanLevel.private\">OLeanLevel.private</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">arts</span> : <span class=\"fn\"><a href=\"./Lean/Data/NameMap.html#Lean.NameMap\">NameMap</a> <a href=\"./Lean/Setup.html#Lean.ModuleArtifacts\">ModuleArtifacts</a></span> := <a href=\"./Init/Core.html#EmptyCollection.emptyCollection\">∅</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1985-L2026","name":"Lean.importModulesCore.go","line":1985,"kind":"opaque","docLink":"./Lean/Environment.html#Lean.importModulesCore.go","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">partial def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.importModulesCore.go\"><span class=\"name\">Lean</span>.<span class=\"name\">importModulesCore</span>.<span class=\"name\">go</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">isModule</span> : <a href=\"./Init/Prelude.html#Bool\">Bool</a> := <a href=\"./Init/Prelude.html#Bool.false\">false</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">arts</span> : <span class=\"fn\"><a href=\"./Lean/Data/NameMap.html#Lean.NameMap\">NameMap</a> <a href=\"./Lean/Setup.html#Lean.ImportArtifacts\">ImportArtifacts</a></span> := <a href=\"./Init/Core.html#EmptyCollection.emptyCollection\">∅</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">imports</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Setup.html#Lean.Import\">Import</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">importAll </span><span class=\"fn\">isExported </span><span class=\"fn\">isMeta</span> : <a href=\"./Init/Prelude.html#Bool\">Bool</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.ImportStateM\">ImportStateM</a> <a href=\"./Init/Prelude.html#PUnit\">PUnit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1937-L2026","name":"Lean.importModulesCore","line":1937,"kind":"def","docLink":"./Lean/Environment.html#Lean.importModulesCore","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.importModulesCore\"><span class=\"name\">Lean</span>.<span class=\"name\">importModulesCore</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">imports</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Setup.html#Lean.Import\">Import</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">isModule</span> : <a href=\"./Init/Prelude.html#Bool\">Bool</a> := <a href=\"./Init/Prelude.html#Bool.false\">false</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">arts</span> : <span class=\"fn\"><a href=\"./Lean/Data/NameMap.html#Lean.NameMap\">NameMap</a> <a href=\"./Lean/Setup.html#Lean.ImportArtifacts\">ImportArtifacts</a></span> := <a href=\"./Init/Core.html#EmptyCollection.emptyCollection\">∅</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.ImportStateM\">ImportStateM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1919-L1920","name":"Lean.ImportStateM.run","line":1919,"kind":"def","docLink":"./Lean/Environment.html#Lean.ImportStateM.run","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.ImportStateM.run\"><span class=\"name\">Lean</span>.<span class=\"name\">ImportStateM</span>.<span class=\"name\">run</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">x</span> : <span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.ImportStateM\">ImportStateM</a> <span class=\"fn\">α</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">s</span> : <a href=\"./Lean/Environment.html#Lean.ImportState\">ImportState</a> := <a href=\"./Lean/Environment.html#Lean.ImportState.mk\">{</a> <a href=\"./Lean/Environment.html#Lean.ImportState.mk\">}</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> (<span class=\"fn\">α</span> <a href=\"./Init/Prelude.html#Prod\">×</a> <a href=\"./Lean/Environment.html#Lean.ImportState\">ImportState</a>)</span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1917-L1917","name":"Lean.ImportStateM","line":1917,"kind":"def","docLink":"./Lean/Environment.html#Lean.ImportStateM","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.ImportStateM\"><span class=\"name\">Lean</span>.<span class=\"name\">ImportStateM</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">α</span> : <a href=\"./foundational_types.html\">Type</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1912-L1915","name":"Lean.throwAlreadyImported","line":1912,"kind":"def","docLink":"./Lean/Environment.html#Lean.throwAlreadyImported","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.throwAlreadyImported\"><span class=\"name\">Lean</span>.<span class=\"name\">throwAlreadyImported</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">s</span> : <a href=\"./Lean/Environment.html#Lean.ImportState\">ImportState</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">const2ModIdx</span> : <span class=\"fn\"><a href=\"./Std/Data/HashMap/Basic.html#Std.HashMap\">Std.HashMap</a> <a href=\"./Init/Prelude.html#Lean.Name\">Name</a> <a href=\"./Lean/Environment.html#Lean.ModuleIdx\">ModuleIdx</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">modIdx</span> : <a href=\"./Init/Prelude.html#Nat\">Nat</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">cname</span> : <a href=\"./Init/Prelude.html#Lean.Name\">Name</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <span class=\"fn\">α</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1908-L1908","name":"Lean.ImportState.mk","line":1908,"kind":"ctor","docLink":"./Lean/Environment.html#Lean.ImportState.mk","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.ImportState.mk\"><span class=\"name\">Lean</span>.<span class=\"name\">ImportState</span>.<span class=\"name\">mk</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">moduleNameMap</span> : <span class=\"fn\"><a href=\"./Std/Data/HashMap/Basic.html#Std.HashMap\">Std.HashMap</a> <a href=\"./Init/Prelude.html#Lean.Name\">Name</a> <a href=\"./Lean/Environment.html#_private.Lean.Environment.0.Lean.ImportedModule\">Lean.ImportedModule✝</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">moduleNames</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Init/Prelude.html#Lean.Name\">Name</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.ImportState\">ImportState</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1908-L1910","name":"Lean.ImportState","line":1908,"kind":"structure","docLink":"./Lean/Environment.html#Lean.ImportState","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">structure</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.ImportState\"><span class=\"name\">Lean</span>.<span class=\"name\">ImportState</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1838-L1839","name":"Lean.getNumBuiltinAttributes","line":1838,"kind":"opaque","docLink":"./Lean/Environment.html#Lean.getNumBuiltinAttributes","doc":"\"Forward declaration\" for retrieving the number of builtin attributes. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">opaque</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.getNumBuiltinAttributes\"><span class=\"name\">Lean</span>.<span class=\"name\">getNumBuiltinAttributes</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <a href=\"./Init/Prelude.html#Nat\">Nat</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1828-L1837","name":"Lean.updateEnvAttributes","line":1828,"kind":"opaque","docLink":"./Lean/Environment.html#Lean.updateEnvAttributes","doc":"\"Forward declaration\" needed for updating the attribute table with user-defined attributes.\nUser-defined attributes are declared using the `initialize` command. The `initialize` command is just syntax sugar for the `init` attribute.\nThe `init` attribute is initialized after the `attributeExtension` is initialized. We cannot change the order since the `init` attribute is an attribute,\nand requires this extension.\nThe `attributeExtension` initializer uses `attributeMapRef` to initialize the attribute mapping.\nWhen we a new user-defined attribute declaration is imported, `attributeMapRef` is updated.\nLater, we set this method with code that adds the user-defined attributes that were imported after we initialized `attributeExtension`.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">opaque</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.updateEnvAttributes\"><span class=\"name\">Lean</span>.<span class=\"name\">updateEnvAttributes</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a> → <span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a></span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1796-L1806","name":"Lean.mkExtNameMap","line":1796,"kind":"def","docLink":"./Lean/Environment.html#Lean.mkExtNameMap","doc":"Construct a mapping from persistent extension name to extension index at the array of persistent extensions.\nWe only consider extensions starting with index `>= startingAt`.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.mkExtNameMap\"><span class=\"name\">Lean</span>.<span class=\"name\">mkExtNameMap</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">startingAt</span> : <a href=\"./Init/Prelude.html#Nat\">Nat</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <span class=\"fn\">(<a href=\"./Std/Data/HashMap/Basic.html#Std.HashMap\">Std.HashMap</a> <a href=\"./Init/Prelude.html#Lean.Name\">Name</a> <a href=\"./Init/Prelude.html#Nat\">Nat</a>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1784-L1794","name":"Lean.writeModule","line":1784,"kind":"def","docLink":"./Lean/Environment.html#Lean.writeModule","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.writeModule\"><span class=\"name\">Lean</span>.<span class=\"name\">writeModule</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">fname</span> : <a href=\"./Init/System/FilePath.html#System.FilePath\">System.FilePath</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1746-L1770","name":"Lean.mkModuleData","line":1746,"kind":"def","docLink":"./Lean/Environment.html#Lean.mkModuleData","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.mkModuleData\"><span class=\"name\">Lean</span>.<span class=\"name\">mkModuleData</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">level</span> : <a href=\"./Lean/Environment.html#Lean.OLeanLevel\">OLeanLevel</a> := <a href=\"./Lean/Environment.html#Lean.OLeanLevel.private\">OLeanLevel.private</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <a href=\"./Lean/Environment.html#Lean.ModuleData\">ModuleData</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1737-L1740","name":"Lean.OLeanLevel.adjustFileName","line":1737,"kind":"def","docLink":"./Lean/Environment.html#Lean.OLeanLevel.adjustFileName","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.OLeanLevel.adjustFileName\"><span class=\"name\">Lean</span>.<span class=\"name\">OLeanLevel</span>.<span class=\"name\">adjustFileName</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">base</span> : <a href=\"./Init/System/FilePath.html#System.FilePath\">System.FilePath</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.OLeanLevel\">OLeanLevel</a> → <a href=\"./Init/System/FilePath.html#System.FilePath\">System.FilePath</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1715-L1735","name":"Lean.Environment.freeRegions","line":1715,"kind":"def","docLink":"./Lean/Environment.html#Lean.Environment.freeRegions","doc":"Free compacted regions of imports. No live references to imported objects may exist at the time of invocation; in\nparticular, `env` should be the last reference to any `Environment` derived from these imports. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">unsafe def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Environment.freeRegions\"><span class=\"name\">Lean</span>.<span class=\"name\">Environment</span>.<span class=\"name\">freeRegions</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1709-L1713","name":"Lean.readModuleData","line":1709,"kind":"def","docLink":"./Lean/Environment.html#Lean.readModuleData","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.readModuleData\"><span class=\"name\">Lean</span>.<span class=\"name\">readModuleData</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">fname</span> : <a href=\"./Init/System/FilePath.html#System.FilePath\">System.FilePath</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> (<a href=\"./Lean/Environment.html#Lean.ModuleData\">ModuleData</a> <a href=\"./Init/Prelude.html#Prod\">×</a> <a href=\"./Lean/Environment.html#Lean.CompactedRegion\">CompactedRegion</a>)</span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1706-L1707","name":"Lean.saveModuleData","line":1706,"kind":"def","docLink":"./Lean/Environment.html#Lean.saveModuleData","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.saveModuleData\"><span class=\"name\">Lean</span>.<span class=\"name\">saveModuleData</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">fname</span> : <a href=\"./Init/System/FilePath.html#System.FilePath\">System.FilePath</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">mod</span> : <a href=\"./Init/Prelude.html#Lean.Name\">Name</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">data</span> : <a href=\"./Lean/Environment.html#Lean.ModuleData\">ModuleData</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1699-L1704","name":"Lean.readModuleDataParts","line":1699,"kind":"opaque","docLink":"./Lean/Environment.html#Lean.readModuleDataParts","doc":"Loads the module data from the given file names. The files must be (a prefix of) the result of a\n`saveModuleDataParts` call.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">opaque</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.readModuleDataParts\"><span class=\"name\">Lean</span>.<span class=\"name\">readModuleDataParts</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">fnames</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Init/System/FilePath.html#System.FilePath\">System.FilePath</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <span class=\"fn\">(<a href=\"./Init/Prelude.html#Array\">Array</a> (<a href=\"./Lean/Environment.html#Lean.ModuleData\">ModuleData</a> <a href=\"./Init/Prelude.html#Prod\">×</a> <a href=\"./Lean/Environment.html#Lean.CompactedRegion\">CompactedRegion</a>))</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1690-L1697","name":"Lean.saveModuleDataParts","line":1690,"kind":"opaque","docLink":"./Lean/Environment.html#Lean.saveModuleDataParts","doc":"Stores each given module data in the respective file name. Objects shared with prior parts are not\nduplicated. Thus the data cannot be loaded with individual `readModuleData` calls but must loaded by\npassing (a prefix of) the file names to `readModuleDataParts`. `mod` is used to determine an\narbitrary but deterministic base address for `mmap`.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">opaque</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.saveModuleDataParts\"><span class=\"name\">Lean</span>.<span class=\"name\">saveModuleDataParts</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">mod</span> : <a href=\"./Init/Prelude.html#Lean.Name\">Name</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">parts</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> (<a href=\"./Init/System/FilePath.html#System.FilePath\">System.FilePath</a> <a href=\"./Init/Prelude.html#Prod\">×</a> <a href=\"./Lean/Environment.html#Lean.ModuleData\">ModuleData</a>)</span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1687-L1688","name":"Lean.registerPersistentEnvExtension","line":1687,"kind":"opaque","docLink":"./Lean/Environment.html#Lean.registerPersistentEnvExtension","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">opaque</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.registerPersistentEnvExtension\"><span class=\"name\">Lean</span>.<span class=\"name\">registerPersistentEnvExtension</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α </span><span class=\"fn\">β </span><span class=\"fn\">σ</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">[<span class=\"fn\"><a href=\"./Init/Prelude.html#Inhabited\">Inhabited</a> <span class=\"fn\">σ</span></span>]</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">descr</span> : <span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.PersistentEnvExtensionDescr\">PersistentEnvExtensionDescr</a> <span class=\"fn\">α</span> <span class=\"fn\">β</span> <span class=\"fn\">σ</span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <span class=\"fn\">(<a href=\"./Lean/Environment.html#Lean.PersistentEnvExtension\">PersistentEnvExtension</a> <span class=\"fn\">α</span> <span class=\"fn\">β</span> <span class=\"fn\">σ</span>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1664-L1685","name":"Lean.registerPersistentEnvExtensionUnsafe","line":1664,"kind":"def","docLink":"./Lean/Environment.html#Lean.registerPersistentEnvExtensionUnsafe","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">unsafe def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.registerPersistentEnvExtensionUnsafe\"><span class=\"name\">Lean</span>.<span class=\"name\">registerPersistentEnvExtensionUnsafe</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α </span><span class=\"fn\">β </span><span class=\"fn\">σ</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">[<span class=\"fn\"><a href=\"./Init/Prelude.html#Inhabited\">Inhabited</a> <span class=\"fn\">σ</span></span>]</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">descr</span> : <span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.PersistentEnvExtensionDescr\">PersistentEnvExtensionDescr</a> <span class=\"fn\">α</span> <span class=\"fn\">β</span> <span class=\"fn\">σ</span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <span class=\"fn\">(<a href=\"./Lean/Environment.html#Lean.PersistentEnvExtension\">PersistentEnvExtension</a> <span class=\"fn\">α</span> <span class=\"fn\">β</span> <span class=\"fn\">σ</span>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1661-L1661","name":"Lean.PersistentEnvExtensionDescr.exportEntriesFn","line":1661,"kind":"def","docLink":"./Lean/Environment.html#Lean.PersistentEnvExtensionDescr.exportEntriesFn","doc":"Obsolete simpler version of `exportEntriesFnEx`. Its value is ignored if the latter is also\nspecified.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.PersistentEnvExtensionDescr.exportEntriesFn\"><span class=\"name\">Lean</span>.<span class=\"name\">PersistentEnvExtensionDescr</span>.<span class=\"name\">exportEntriesFn</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α </span><span class=\"fn\">β </span><span class=\"fn\">σ</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.PersistentEnvExtensionDescr\">PersistentEnvExtensionDescr</a> <span class=\"fn\">α</span> <span class=\"fn\">β</span> <span class=\"fn\">σ</span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><span class=\"fn\">σ</span> → <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <span class=\"fn\">α</span></span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1655-L1655","name":"Lean.PersistentEnvExtensionDescr.mk","line":1655,"kind":"ctor","docLink":"./Lean/Environment.html#Lean.PersistentEnvExtensionDescr.mk","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.PersistentEnvExtensionDescr.mk\"><span class=\"name\">Lean</span>.<span class=\"name\">PersistentEnvExtensionDescr</span>.<span class=\"name\">mk</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α </span><span class=\"fn\">β </span><span class=\"fn\">σ</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">toPersistentEnvExtensionDescrCore</span> : <span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.PersistentEnvExtensionDescrCore\">PersistentEnvExtensionDescrCore</a> <span class=\"fn\">α</span> <span class=\"fn\">β</span> <span class=\"fn\">σ</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">exportEntriesFn</span> : <span class=\"fn\"><span class=\"fn\">σ</span> → <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <span class=\"fn\">α</span></span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.PersistentEnvExtensionDescr\">PersistentEnvExtensionDescr</a> <span class=\"fn\">α</span> <span class=\"fn\">β</span> <span class=\"fn\">σ</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1655-L1662","name":"Lean.PersistentEnvExtensionDescr.toPersistentEnvExtensionDescrCore","line":1655,"kind":"def","docLink":"./Lean/Environment.html#Lean.PersistentEnvExtensionDescr.toPersistentEnvExtensionDescrCore","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.PersistentEnvExtensionDescr.toPersistentEnvExtensionDescrCore\"><span class=\"name\">Lean</span>.<span class=\"name\">PersistentEnvExtensionDescr</span>.<span class=\"name\">toPersistentEnvExtensionDescrCore</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α </span><span class=\"fn\">β </span><span class=\"fn\">σ</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.PersistentEnvExtensionDescr\">PersistentEnvExtensionDescr</a> <span class=\"fn\">α</span> <span class=\"fn\">β</span> <span class=\"fn\">σ</span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.PersistentEnvExtensionDescrCore\">PersistentEnvExtensionDescrCore</a> <span class=\"fn\">α</span> <span class=\"fn\">β</span> <span class=\"fn\">σ</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1655-L1662","name":"Lean.PersistentEnvExtensionDescr","line":1655,"kind":"structure","docLink":"./Lean/Environment.html#Lean.PersistentEnvExtensionDescr","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">structure</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.PersistentEnvExtensionDescr\"><span class=\"name\">Lean</span>.<span class=\"name\">PersistentEnvExtensionDescr</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">α </span><span class=\"fn\">β </span><span class=\"fn\">σ</span> : <a href=\"./foundational_types.html\">Type</a>)</span></span>\n<span class=\"decl_extends\">extends</span> <span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.PersistentEnvExtensionDescrCore\">Lean.PersistentEnvExtensionDescrCore</a> <span class=\"fn\">α</span> <span class=\"fn\">β</span> <span class=\"fn\">σ</span></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1647-L1653","name":"Lean.useDefaultIfOtherFieldGiven","line":1647,"kind":"def","docLink":"./Lean/Environment.html#Lean.useDefaultIfOtherFieldGiven","doc":"Auxiliary function to signal to the structure instance elaborator that `default` should be used as\nthe default value for a field but only if `_otherField` has been given, which is added as an\nartifical dependency.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.useDefaultIfOtherFieldGiven\"><span class=\"name\">Lean</span>.<span class=\"name\">useDefaultIfOtherFieldGiven</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α</span> : <a href=\"./foundational_types.html\">Sort</a> u_1}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">β</span> : <a href=\"./foundational_types.html\">Sort</a> u_2}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">default</span> : <span class=\"fn\">α</span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">_otherField</span> : <span class=\"fn\">β</span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\">α</span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1642-L1642","name":"Lean.PersistentEnvExtensionDescrCore.replay?","line":1642,"kind":"def","docLink":"./Lean/Environment.html#Lean.PersistentEnvExtensionDescrCore.replay?","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.PersistentEnvExtensionDescrCore.replay?\"><span class=\"name\">Lean</span>.<span class=\"name\">PersistentEnvExtensionDescrCore</span>.<span class=\"name\">replay?</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α </span><span class=\"fn\">β </span><span class=\"fn\">σ</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.PersistentEnvExtensionDescrCore\">PersistentEnvExtensionDescrCore</a> <span class=\"fn\">α</span> <span class=\"fn\">β</span> <span class=\"fn\">σ</span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Option\">Option</a> <span class=\"fn\">(<a href=\"./Lean/Environment.html#Lean.ReplayFn\">ReplayFn</a> <span class=\"fn\">σ</span>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1641-L1641","name":"Lean.PersistentEnvExtensionDescrCore.asyncMode","line":1641,"kind":"def","docLink":"./Lean/Environment.html#Lean.PersistentEnvExtensionDescrCore.asyncMode","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.PersistentEnvExtensionDescrCore.asyncMode\"><span class=\"name\">Lean</span>.<span class=\"name\">PersistentEnvExtensionDescrCore</span>.<span class=\"name\">asyncMode</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α </span><span class=\"fn\">β </span><span class=\"fn\">σ</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.PersistentEnvExtensionDescrCore\">PersistentEnvExtensionDescrCore</a> <span class=\"fn\">α</span> <span class=\"fn\">β</span> <span class=\"fn\">σ</span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.EnvExtension.AsyncMode\">EnvExtension.AsyncMode</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1640-L1640","name":"Lean.PersistentEnvExtensionDescrCore.statsFn","line":1640,"kind":"def","docLink":"./Lean/Environment.html#Lean.PersistentEnvExtensionDescrCore.statsFn","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.PersistentEnvExtensionDescrCore.statsFn\"><span class=\"name\">Lean</span>.<span class=\"name\">PersistentEnvExtensionDescrCore</span>.<span class=\"name\">statsFn</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α </span><span class=\"fn\">β </span><span class=\"fn\">σ</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.PersistentEnvExtensionDescrCore\">PersistentEnvExtensionDescrCore</a> <span class=\"fn\">α</span> <span class=\"fn\">β</span> <span class=\"fn\">σ</span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><span class=\"fn\">σ</span> → <a href=\"./Init/Data/Format/Basic.html#Std.Format\">Format</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1639-L1639","name":"Lean.PersistentEnvExtensionDescrCore.exportEntriesFnEx","line":1639,"kind":"def","docLink":"./Lean/Environment.html#Lean.PersistentEnvExtensionDescrCore.exportEntriesFnEx","doc":"Function to transform state into data that should be imported into other modules. When using the\nmodule system without `import all`, `OLeanLevel.exported` is imported, else `OLeanLevel.private`.\nAdditionally, when using the module system in the language server, the `OLeanLevel.server` data is\naccessible via `getModuleEntries (level := .server)`. By convention, each level should include all\ndata of previous levels.\n\nThis function is run after elaborating the file and joining all asynchronous threads. It is run\nonce for each level when the module system is enabled, otherwise once for `private`.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.PersistentEnvExtensionDescrCore.exportEntriesFnEx\"><span class=\"name\">Lean</span>.<span class=\"name\">PersistentEnvExtensionDescrCore</span>.<span class=\"name\">exportEntriesFnEx</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α </span><span class=\"fn\">β </span><span class=\"fn\">σ</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.PersistentEnvExtensionDescrCore\">PersistentEnvExtensionDescrCore</a> <span class=\"fn\">α</span> <span class=\"fn\">β</span> <span class=\"fn\">σ</span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a> → <span class=\"fn\"><span class=\"fn\">σ</span> → <span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.OLeanLevel\">OLeanLevel</a> → <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <span class=\"fn\">α</span></span></span></span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1638-L1638","name":"Lean.PersistentEnvExtensionDescrCore.addEntryFn","line":1638,"kind":"def","docLink":"./Lean/Environment.html#Lean.PersistentEnvExtensionDescrCore.addEntryFn","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.PersistentEnvExtensionDescrCore.addEntryFn\"><span class=\"name\">Lean</span>.<span class=\"name\">PersistentEnvExtensionDescrCore</span>.<span class=\"name\">addEntryFn</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α </span><span class=\"fn\">β </span><span class=\"fn\">σ</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.PersistentEnvExtensionDescrCore\">PersistentEnvExtensionDescrCore</a> <span class=\"fn\">α</span> <span class=\"fn\">β</span> <span class=\"fn\">σ</span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><span class=\"fn\">σ</span> → <span class=\"fn\"><span class=\"fn\">β</span> → <span class=\"fn\">σ</span></span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1637-L1637","name":"Lean.PersistentEnvExtensionDescrCore.addImportedFn","line":1637,"kind":"def","docLink":"./Lean/Environment.html#Lean.PersistentEnvExtensionDescrCore.addImportedFn","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.PersistentEnvExtensionDescrCore.addImportedFn\"><span class=\"name\">Lean</span>.<span class=\"name\">PersistentEnvExtensionDescrCore</span>.<span class=\"name\">addImportedFn</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α </span><span class=\"fn\">β </span><span class=\"fn\">σ</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.PersistentEnvExtensionDescrCore\">PersistentEnvExtensionDescrCore</a> <span class=\"fn\">α</span> <span class=\"fn\">β</span> <span class=\"fn\">σ</span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <span class=\"fn\">(<a href=\"./Init/Prelude.html#Array\">Array</a> <span class=\"fn\">α</span>)</span></span> → <span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.ImportM\">ImportM</a> <span class=\"fn\">σ</span></span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1636-L1636","name":"Lean.PersistentEnvExtensionDescrCore.mkInitial","line":1636,"kind":"def","docLink":"./Lean/Environment.html#Lean.PersistentEnvExtensionDescrCore.mkInitial","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.PersistentEnvExtensionDescrCore.mkInitial\"><span class=\"name\">Lean</span>.<span class=\"name\">PersistentEnvExtensionDescrCore</span>.<span class=\"name\">mkInitial</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α </span><span class=\"fn\">β </span><span class=\"fn\">σ</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.PersistentEnvExtensionDescrCore\">PersistentEnvExtensionDescrCore</a> <span class=\"fn\">α</span> <span class=\"fn\">β</span> <span class=\"fn\">σ</span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <span class=\"fn\">σ</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1635-L1635","name":"Lean.PersistentEnvExtensionDescrCore.name","line":1635,"kind":"def","docLink":"./Lean/Environment.html#Lean.PersistentEnvExtensionDescrCore.name","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.PersistentEnvExtensionDescrCore.name\"><span class=\"name\">Lean</span>.<span class=\"name\">PersistentEnvExtensionDescrCore</span>.<span class=\"name\">name</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α </span><span class=\"fn\">β </span><span class=\"fn\">σ</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.PersistentEnvExtensionDescrCore\">PersistentEnvExtensionDescrCore</a> <span class=\"fn\">α</span> <span class=\"fn\">β</span> <span class=\"fn\">σ</span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Lean.Name\">Name</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1634-L1634","name":"Lean.PersistentEnvExtensionDescrCore.mk","line":1634,"kind":"ctor","docLink":"./Lean/Environment.html#Lean.PersistentEnvExtensionDescrCore.mk","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.PersistentEnvExtensionDescrCore.mk\"><span class=\"name\">Lean</span>.<span class=\"name\">PersistentEnvExtensionDescrCore</span>.<span class=\"name\">mk</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α </span><span class=\"fn\">β </span><span class=\"fn\">σ</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">name</span> : <a href=\"./Init/Prelude.html#Lean.Name\">Name</a> := by exact decl_name%)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">mkInitial</span> : <span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <span class=\"fn\">σ</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">addImportedFn</span> : <span class=\"fn\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <span class=\"fn\">(<a href=\"./Init/Prelude.html#Array\">Array</a> <span class=\"fn\">α</span>)</span></span> → <span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.ImportM\">ImportM</a> <span class=\"fn\">σ</span></span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">addEntryFn</span> : <span class=\"fn\"><span class=\"fn\">σ</span> → <span class=\"fn\"><span class=\"fn\">β</span> → <span class=\"fn\">σ</span></span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">exportEntriesFnEx</span> : <span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a> → <span class=\"fn\"><span class=\"fn\">σ</span> → <span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.OLeanLevel\">OLeanLevel</a> → <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <span class=\"fn\">α</span></span></span></span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">statsFn</span> : <span class=\"fn\"><span class=\"fn\">σ</span> → <a href=\"./Init/Data/Format/Basic.html#Std.Format\">Format</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">asyncMode</span> : <a href=\"./Lean/Environment.html#Lean.EnvExtension.AsyncMode\">EnvExtension.AsyncMode</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">replay?</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Option\">Option</a> <span class=\"fn\">(<a href=\"./Lean/Environment.html#Lean.ReplayFn\">ReplayFn</a> <span class=\"fn\">σ</span>)</span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.PersistentEnvExtensionDescrCore\">PersistentEnvExtensionDescrCore</a> <span class=\"fn\">α</span> <span class=\"fn\">β</span> <span class=\"fn\">σ</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1634-L1642","name":"Lean.PersistentEnvExtensionDescrCore","line":1634,"kind":"structure","docLink":"./Lean/Environment.html#Lean.PersistentEnvExtensionDescrCore","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">structure</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.PersistentEnvExtensionDescrCore\"><span class=\"name\">Lean</span>.<span class=\"name\">PersistentEnvExtensionDescrCore</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">α </span><span class=\"fn\">β </span><span class=\"fn\">σ</span> : <a href=\"./foundational_types.html\">Type</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1631-L1631","name":"Lean.persistentEnvExtensionsRef","line":1631,"kind":"opaque","docLink":"./Lean/Environment.html#Lean.persistentEnvExtensionsRef","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">opaque</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.persistentEnvExtensionsRef\"><span class=\"name\">Lean</span>.<span class=\"name\">persistentEnvExtensionsRef</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO.Ref\">IO.Ref</a> <span class=\"fn\">(<a href=\"./Init/Prelude.html#Array\">Array</a> <span class=\"fn\">(<a href=\"./Lean/Environment.html#Lean.PersistentEnvExtension\">PersistentEnvExtension</a> <a href=\"./Lean/Environment.html#Lean.EnvExtensionEntry\">EnvExtensionEntry</a> <a href=\"./Lean/Environment.html#Lean.EnvExtensionEntry\">EnvExtensionEntry</a> <a href=\"./Lean/Environment.html#Lean.EnvExtensionState\">EnvExtensionState</a>)</span>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1623-L1626","name":"Lean.PersistentEnvExtension.findStateAsync","line":1623,"kind":"def","docLink":"./Lean/Environment.html#Lean.PersistentEnvExtension.findStateAsync","doc":"Returns the final extension state on the environment branch corresponding to the passed declaration\nname, if any, or otherwise the state on the current branch. In other words, at most one environment\nbranch will be blocked on.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.PersistentEnvExtension.findStateAsync\"><span class=\"name\">Lean</span>.<span class=\"name\">PersistentEnvExtension</span>.<span class=\"name\">findStateAsync</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α </span><span class=\"fn\">β </span><span class=\"fn\">σ</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">[<span class=\"fn\"><a href=\"./Init/Prelude.html#Inhabited\">Inhabited</a> <span class=\"fn\">σ</span></span>]</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">ext</span> : <span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.PersistentEnvExtension\">PersistentEnvExtension</a> <span class=\"fn\">α</span> <span class=\"fn\">β</span> <span class=\"fn\">σ</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">declPrefix</span> : <a href=\"./Init/Prelude.html#Lean.Name\">Name</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\">σ</span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1618-L1621","name":"Lean.PersistentEnvExtension.modifyState","line":1618,"kind":"def","docLink":"./Lean/Environment.html#Lean.PersistentEnvExtension.modifyState","doc":"Modify the state of the given extension in the given environment by applying the given function. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.PersistentEnvExtension.modifyState\"><span class=\"name\">Lean</span>.<span class=\"name\">PersistentEnvExtension</span>.<span class=\"name\">modifyState</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α </span><span class=\"fn\">β </span><span class=\"fn\">σ</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">ext</span> : <span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.PersistentEnvExtension\">PersistentEnvExtension</a> <span class=\"fn\">α</span> <span class=\"fn\">β</span> <span class=\"fn\">σ</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">f</span> : <span class=\"fn\"><span class=\"fn\">σ</span> → <span class=\"fn\">σ</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">asyncMode</span> : <a href=\"./Lean/Environment.html#Lean.EnvExtension.AsyncMode\">EnvExtension.AsyncMode</a> := <span class=\"fn\"><span class=\"fn\"><span class=\"fn\">ext</span>.<a href=\"./Lean/Environment.html#Lean.PersistentEnvExtension.toEnvExtension\">toEnvExtension</a></span>.<a href=\"./Lean/Environment.html#Lean.EnvExtension.asyncMode\">asyncMode</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1614-L1616","name":"Lean.PersistentEnvExtension.setState","line":1614,"kind":"def","docLink":"./Lean/Environment.html#Lean.PersistentEnvExtension.setState","doc":"Set the current state of the given extension in the given environment. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.PersistentEnvExtension.setState\"><span class=\"name\">Lean</span>.<span class=\"name\">PersistentEnvExtension</span>.<span class=\"name\">setState</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α </span><span class=\"fn\">β </span><span class=\"fn\">σ</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">ext</span> : <span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.PersistentEnvExtension\">PersistentEnvExtension</a> <span class=\"fn\">α</span> <span class=\"fn\">β</span> <span class=\"fn\">σ</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">s</span> : <span class=\"fn\">σ</span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1609-L1612","name":"Lean.PersistentEnvExtension.getState","line":1609,"kind":"def","docLink":"./Lean/Environment.html#Lean.PersistentEnvExtension.getState","doc":"Get the current state of the given extension in the given environment. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.PersistentEnvExtension.getState\"><span class=\"name\">Lean</span>.<span class=\"name\">PersistentEnvExtension</span>.<span class=\"name\">getState</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α </span><span class=\"fn\">β </span><span class=\"fn\">σ</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">[<span class=\"fn\"><a href=\"./Init/Prelude.html#Inhabited\">Inhabited</a> <span class=\"fn\">σ</span></span>]</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">ext</span> : <span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.PersistentEnvExtension\">PersistentEnvExtension</a> <span class=\"fn\">α</span> <span class=\"fn\">β</span> <span class=\"fn\">σ</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">asyncMode</span> : <a href=\"./Lean/Environment.html#Lean.EnvExtension.AsyncMode\">EnvExtension.AsyncMode</a> := <span class=\"fn\"><span class=\"fn\"><span class=\"fn\">ext</span>.<a href=\"./Lean/Environment.html#Lean.PersistentEnvExtension.toEnvExtension\">toEnvExtension</a></span>.<a href=\"./Lean/Environment.html#Lean.EnvExtension.asyncMode\">asyncMode</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\">σ</span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1604-L1607","name":"Lean.PersistentEnvExtension.addEntry","line":1604,"kind":"def","docLink":"./Lean/Environment.html#Lean.PersistentEnvExtension.addEntry","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.PersistentEnvExtension.addEntry\"><span class=\"name\">Lean</span>.<span class=\"name\">PersistentEnvExtension</span>.<span class=\"name\">addEntry</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α </span><span class=\"fn\">β </span><span class=\"fn\">σ</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">ext</span> : <span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.PersistentEnvExtension\">PersistentEnvExtension</a> <span class=\"fn\">α</span> <span class=\"fn\">β</span> <span class=\"fn\">σ</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">b</span> : <span class=\"fn\">β</span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1598-L1602","name":"Lean.PersistentEnvExtension.getModuleIREntries","line":1598,"kind":"def","docLink":"./Lean/Environment.html#Lean.PersistentEnvExtension.getModuleIREntries","doc":"Retrieves additional IR extension state for the interpreter. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.PersistentEnvExtension.getModuleIREntries\"><span class=\"name\">Lean</span>.<span class=\"name\">PersistentEnvExtension</span>.<span class=\"name\">getModuleIREntries</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α </span><span class=\"fn\">β </span><span class=\"fn\">σ</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">[<span class=\"fn\"><a href=\"./Init/Prelude.html#Inhabited\">Inhabited</a> <span class=\"fn\">σ</span></span>]</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">ext</span> : <span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.PersistentEnvExtension\">PersistentEnvExtension</a> <span class=\"fn\">α</span> <span class=\"fn\">β</span> <span class=\"fn\">σ</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">m</span> : <a href=\"./Lean/Environment.html#Lean.ModuleIdx\">ModuleIdx</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <span class=\"fn\">α</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1584-L1596","name":"Lean.PersistentEnvExtension.getModuleEntries","line":1584,"kind":"def","docLink":"./Lean/Environment.html#Lean.PersistentEnvExtension.getModuleEntries","doc":"Returns the data saved by `ext.exportEntriesFn` when `m` was elaborated. See docs on the function for\ndetails. When using the module system, `level` can be used to select the level of data to retrieve,\nbut is limited to the maximum level actually imported: `exported` on the cmdline and `server` in the\nlanguage server. Higher levels will return the data of the maximum imported level.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.PersistentEnvExtension.getModuleEntries\"><span class=\"name\">Lean</span>.<span class=\"name\">PersistentEnvExtension</span>.<span class=\"name\">getModuleEntries</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α </span><span class=\"fn\">β </span><span class=\"fn\">σ</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">[<span class=\"fn\"><a href=\"./Init/Prelude.html#Inhabited\">Inhabited</a> <span class=\"fn\">σ</span></span>]</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">ext</span> : <span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.PersistentEnvExtension\">PersistentEnvExtension</a> <span class=\"fn\">α</span> <span class=\"fn\">β</span> <span class=\"fn\">σ</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">m</span> : <a href=\"./Lean/Environment.html#Lean.ModuleIdx\">ModuleIdx</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">level</span> : <a href=\"./Lean/Environment.html#Lean.OLeanLevel\">OLeanLevel</a> := <a href=\"./Lean/Environment.html#Lean.OLeanLevel.exported\">OLeanLevel.exported</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <span class=\"fn\">α</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1572-L1580","name":"Lean.instInhabitedPersistentEnvExtension","line":1572,"kind":"instance","docLink":"./Lean/Environment.html#Lean.instInhabitedPersistentEnvExtension","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.instInhabitedPersistentEnvExtension\"><span class=\"name\">Lean</span>.<span class=\"name\">instInhabitedPersistentEnvExtension</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α </span><span class=\"fn\">β </span><span class=\"fn\">σ</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">[<span class=\"fn\"><a href=\"./Init/Prelude.html#Inhabited\">Inhabited</a> <span class=\"fn\">σ</span></span>]</span></span>\n</span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Inhabited\">Inhabited</a> <span class=\"fn\">(<a href=\"./Lean/Environment.html#Lean.PersistentEnvExtension\">PersistentEnvExtension</a> <span class=\"fn\">α</span> <span class=\"fn\">β</span> <span class=\"fn\">σ</span>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1569-L1570","name":"Lean.instInhabitedPersistentEnvExtensionState","line":1569,"kind":"instance","docLink":"./Lean/Environment.html#Lean.instInhabitedPersistentEnvExtensionState","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.instInhabitedPersistentEnvExtensionState\"><span class=\"name\">Lean</span>.<span class=\"name\">instInhabitedPersistentEnvExtensionState</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α </span><span class=\"fn\">σ</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">[<span class=\"fn\"><a href=\"./Init/Prelude.html#Inhabited\">Inhabited</a> <span class=\"fn\">σ</span></span>]</span></span>\n</span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Inhabited\">Inhabited</a> <span class=\"fn\">(<a href=\"./Lean/Environment.html#Lean.PersistentEnvExtensionState\">PersistentEnvExtensionState</a> <span class=\"fn\">α</span> <span class=\"fn\">σ</span>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1567-L1567","name":"Lean.PersistentEnvExtension.statsFn","line":1567,"kind":"def","docLink":"./Lean/Environment.html#Lean.PersistentEnvExtension.statsFn","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.PersistentEnvExtension.statsFn\"><span class=\"name\">Lean</span>.<span class=\"name\">PersistentEnvExtension</span>.<span class=\"name\">statsFn</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α </span><span class=\"fn\">β </span><span class=\"fn\">σ</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.PersistentEnvExtension\">PersistentEnvExtension</a> <span class=\"fn\">α</span> <span class=\"fn\">β</span> <span class=\"fn\">σ</span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><span class=\"fn\">σ</span> → <a href=\"./Init/Data/Format/Basic.html#Std.Format\">Format</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1566-L1566","name":"Lean.PersistentEnvExtension.exportEntriesFn","line":1566,"kind":"def","docLink":"./Lean/Environment.html#Lean.PersistentEnvExtension.exportEntriesFn","doc":"Function to transform state into data that should be imported into other modules. When using the\nmodule system without `import all`, `OLeanLevel.exported` is imported, else `OLeanLevel.private`.\nAdditionally, when using the module system in the language server, the `OLeanLevel.server` data is\naccessible via `getModuleEntries (level := .server)`. By convention, each level should include all\ndata of previous levels.\n\nThis function is run after elaborating the file and joining all asynchronous threads. It is run\nonce for each level when the module system is enabled, otherwise once for `private`.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.PersistentEnvExtension.exportEntriesFn\"><span class=\"name\">Lean</span>.<span class=\"name\">PersistentEnvExtension</span>.<span class=\"name\">exportEntriesFn</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α </span><span class=\"fn\">β </span><span class=\"fn\">σ</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.PersistentEnvExtension\">PersistentEnvExtension</a> <span class=\"fn\">α</span> <span class=\"fn\">β</span> <span class=\"fn\">σ</span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a> → <span class=\"fn\"><span class=\"fn\">σ</span> → <span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.OLeanLevel\">OLeanLevel</a> → <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <span class=\"fn\">α</span></span></span></span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1555-L1555","name":"Lean.PersistentEnvExtension.addEntryFn","line":1555,"kind":"def","docLink":"./Lean/Environment.html#Lean.PersistentEnvExtension.addEntryFn","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.PersistentEnvExtension.addEntryFn\"><span class=\"name\">Lean</span>.<span class=\"name\">PersistentEnvExtension</span>.<span class=\"name\">addEntryFn</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α </span><span class=\"fn\">β </span><span class=\"fn\">σ</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.PersistentEnvExtension\">PersistentEnvExtension</a> <span class=\"fn\">α</span> <span class=\"fn\">β</span> <span class=\"fn\">σ</span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><span class=\"fn\">σ</span> → <span class=\"fn\"><span class=\"fn\">β</span> → <span class=\"fn\">σ</span></span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1554-L1554","name":"Lean.PersistentEnvExtension.addImportedFn","line":1554,"kind":"def","docLink":"./Lean/Environment.html#Lean.PersistentEnvExtension.addImportedFn","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.PersistentEnvExtension.addImportedFn\"><span class=\"name\">Lean</span>.<span class=\"name\">PersistentEnvExtension</span>.<span class=\"name\">addImportedFn</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α </span><span class=\"fn\">β </span><span class=\"fn\">σ</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.PersistentEnvExtension\">PersistentEnvExtension</a> <span class=\"fn\">α</span> <span class=\"fn\">β</span> <span class=\"fn\">σ</span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <span class=\"fn\">(<a href=\"./Init/Prelude.html#Array\">Array</a> <span class=\"fn\">α</span>)</span></span> → <span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.ImportM\">ImportM</a> <span class=\"fn\">σ</span></span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1553-L1553","name":"Lean.PersistentEnvExtension.name","line":1553,"kind":"def","docLink":"./Lean/Environment.html#Lean.PersistentEnvExtension.name","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.PersistentEnvExtension.name\"><span class=\"name\">Lean</span>.<span class=\"name\">PersistentEnvExtension</span>.<span class=\"name\">name</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α </span><span class=\"fn\">β </span><span class=\"fn\">σ</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.PersistentEnvExtension\">PersistentEnvExtension</a> <span class=\"fn\">α</span> <span class=\"fn\">β</span> <span class=\"fn\">σ</span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Lean.Name\">Name</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1552-L1552","name":"Lean.PersistentEnvExtension.toEnvExtension","line":1552,"kind":"def","docLink":"./Lean/Environment.html#Lean.PersistentEnvExtension.toEnvExtension","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.PersistentEnvExtension.toEnvExtension\"><span class=\"name\">Lean</span>.<span class=\"name\">PersistentEnvExtension</span>.<span class=\"name\">toEnvExtension</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α </span><span class=\"fn\">β </span><span class=\"fn\">σ</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.PersistentEnvExtension\">PersistentEnvExtension</a> <span class=\"fn\">α</span> <span class=\"fn\">β</span> <span class=\"fn\">σ</span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.EnvExtension\">EnvExtension</a> <span class=\"fn\">(<a href=\"./Lean/Environment.html#Lean.PersistentEnvExtensionState\">PersistentEnvExtensionState</a> <span class=\"fn\">α</span> <span class=\"fn\">σ</span>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1551-L1551","name":"Lean.PersistentEnvExtension.mk","line":1551,"kind":"ctor","docLink":"./Lean/Environment.html#Lean.PersistentEnvExtension.mk","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.PersistentEnvExtension.mk\"><span class=\"name\">Lean</span>.<span class=\"name\">PersistentEnvExtension</span>.<span class=\"name\">mk</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α </span><span class=\"fn\">β </span><span class=\"fn\">σ</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">toEnvExtension</span> : <span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.EnvExtension\">EnvExtension</a> <span class=\"fn\">(<a href=\"./Lean/Environment.html#Lean.PersistentEnvExtensionState\">PersistentEnvExtensionState</a> <span class=\"fn\">α</span> <span class=\"fn\">σ</span>)</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">name</span> : <a href=\"./Init/Prelude.html#Lean.Name\">Name</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">addImportedFn</span> : <span class=\"fn\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <span class=\"fn\">(<a href=\"./Init/Prelude.html#Array\">Array</a> <span class=\"fn\">α</span>)</span></span> → <span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.ImportM\">ImportM</a> <span class=\"fn\">σ</span></span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">addEntryFn</span> : <span class=\"fn\"><span class=\"fn\">σ</span> → <span class=\"fn\"><span class=\"fn\">β</span> → <span class=\"fn\">σ</span></span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">exportEntriesFn</span> : <span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a> → <span class=\"fn\"><span class=\"fn\">σ</span> → <span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.OLeanLevel\">OLeanLevel</a> → <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <span class=\"fn\">α</span></span></span></span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">statsFn</span> : <span class=\"fn\"><span class=\"fn\">σ</span> → <a href=\"./Init/Data/Format/Basic.html#Std.Format\">Format</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.PersistentEnvExtension\">PersistentEnvExtension</a> <span class=\"fn\">α</span> <span class=\"fn\">β</span> <span class=\"fn\">σ</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1506-L1567","name":"Lean.PersistentEnvExtension","line":1506,"kind":"structure","docLink":"./Lean/Environment.html#Lean.PersistentEnvExtension","doc":"An environment extension with support for storing/retrieving entries from a .olean file.\n - α is the type of the entries that are stored in .olean files.\n - β is the type of values used to update the state.\n - σ is the actual state.\n\nFor most extensions, α and β coincide. `α` and ‵β` do not coincide for extensions where the data\nused to update the state contains elements which cannot be stored in files (for example, closures).\n\nDuring elaboration of a module, state of type `σ` can be both read and written. When elaboration is\ncomplete, the state of type `σ` is converted to serialized state of type `Array α` by\n`exportEntriesFn`. To read the current module's state, use `PersistentEnvExtension.getState`. To\nmodify it, use `PersistentEnvExtension.addEntry`, with an `addEntryFn` that performs the appropriate\nmodification.\n\nWhen a module is loaded, the values saved by all of its dependencies for this\n`PersistentEnvExtension` are available as an `Array (Array α)` via the environment extension,\nwith one array per transitively imported module. The state of type `σ` used in the current module\ncan be initialized from these imports by specifying a suitable `addImportedFn`. The `addImportedFn`\nruns at the beginning of elaboration for every module, so it's usually better for performance to\nquery the array of imported modules directly, because only a fraction of imported entries is usually\nqueried during elaboration of a module.\n\nThe most typical pattern for using `PersistentEnvExtension` is to set `σ` to a datatype such as\n`NameMap` that efficiently tracks data for the current module. Then, in `exportEntriesFn`, this type\nis converted to an array of pairs, sorted by the key. Given `ext : PersistentEnvExtension α β σ` and\n`env : Environment`, the complete array of imported entries sorted by module index can be obtained\nusing `(ext.toEnvExtension.getState env).importedEntries`. To query the extension for some constant\nname `n`, first use `env.getModuleIdxFor? n`. If it returns `none`, look up `n` in the current\nmodule's state (the `NameMap`). If it returns `some idx`, use `ext.getModuleEntries env idx` to get\nthe array of entries for `n`'s defining module, and query it using `Array.binSearch`. This pattern\nimposes a constraint that the extension can only track metadata that is declared in the same module\nas the definition to which it applies; relaxing this restriction can make queries slower due to\nneeding to search _all_ modules. If it is necessary to search all modules, it is usually better to\ninitialize the state of type `σ` once from all imported entries and choose a more efficient search\ndatastructure for it.\n\nNote that `addEntryFn` is not in `IO`. This is intentional, and allows us to write simple functions\nsuch as\n```\ndef addAlias (env : Environment) (a : Name) (e : Name) : Environment :=\naliasExtension.addEntry env (a, e)\n```\nwithout using `IO`. We have many functions like `addAlias`.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">structure</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.PersistentEnvExtension\"><span class=\"name\">Lean</span>.<span class=\"name\">PersistentEnvExtension</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">α </span><span class=\"fn\">β </span><span class=\"fn\">σ</span> : <a href=\"./foundational_types.html\">Type</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1504-L1504","name":"Lean.instLTOLeanLevel","line":1504,"kind":"instance","docLink":"./Lean/Environment.html#Lean.instLTOLeanLevel","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.instLTOLeanLevel\"><span class=\"name\">Lean</span>.<span class=\"name\">instLTOLeanLevel</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#LT\">LT</a> <a href=\"./Lean/Environment.html#Lean.OLeanLevel\">OLeanLevel</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1503-L1503","name":"Lean.instLEOLeanLevel","line":1503,"kind":"instance","docLink":"./Lean/Environment.html#Lean.instLEOLeanLevel","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.instLEOLeanLevel\"><span class=\"name\">Lean</span>.<span class=\"name\">instLEOLeanLevel</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#LE\">LE</a> <a href=\"./Lean/Environment.html#Lean.OLeanLevel\">OLeanLevel</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1501-L1501","name":"Lean.instReprOLeanLevel","line":1501,"kind":"instance","docLink":"./Lean/Environment.html#Lean.instReprOLeanLevel","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.instReprOLeanLevel\"><span class=\"name\">Lean</span>.<span class=\"name\">instReprOLeanLevel</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Data/Repr.html#Repr\">Repr</a> <a href=\"./Lean/Environment.html#Lean.OLeanLevel\">OLeanLevel</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1501-L1501","name":"Lean.instOrdOLeanLevel","line":1501,"kind":"instance","docLink":"./Lean/Environment.html#Lean.instOrdOLeanLevel","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.instOrdOLeanLevel\"><span class=\"name\">Lean</span>.<span class=\"name\">instOrdOLeanLevel</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Data/Ord.html#Ord\">Ord</a> <a href=\"./Lean/Environment.html#Lean.OLeanLevel\">OLeanLevel</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1501-L1501","name":"Lean.instDecidableEqOLeanLevel","line":1501,"kind":"instance","docLink":"./Lean/Environment.html#Lean.instDecidableEqOLeanLevel","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.instDecidableEqOLeanLevel\"><span class=\"name\">Lean</span>.<span class=\"name\">instDecidableEqOLeanLevel</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#DecidableEq\">DecidableEq</a> <a href=\"./Lean/Environment.html#Lean.OLeanLevel\">OLeanLevel</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1499-L1500","name":"Lean.OLeanLevel.private","line":1499,"kind":"ctor","docLink":"./Lean/Environment.html#Lean.OLeanLevel.private","doc":"Private module data. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.OLeanLevel.private\"><span class=\"name\">Lean</span>.<span class=\"name\">OLeanLevel</span>.<span class=\"name\">private</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.OLeanLevel\">OLeanLevel</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1497-L1498","name":"Lean.OLeanLevel.server","line":1497,"kind":"ctor","docLink":"./Lean/Environment.html#Lean.OLeanLevel.server","doc":"Environment extension state for the language server. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.OLeanLevel.server\"><span class=\"name\">Lean</span>.<span class=\"name\">OLeanLevel</span>.<span class=\"name\">server</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.OLeanLevel\">OLeanLevel</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1495-L1496","name":"Lean.OLeanLevel.exported","line":1495,"kind":"ctor","docLink":"./Lean/Environment.html#Lean.OLeanLevel.exported","doc":"Information from exported contexts. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.OLeanLevel.exported\"><span class=\"name\">Lean</span>.<span class=\"name\">OLeanLevel</span>.<span class=\"name\">exported</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.OLeanLevel\">OLeanLevel</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1493-L1501","name":"Lean.OLeanLevel","line":1493,"kind":"inductive","docLink":"./Lean/Environment.html#Lean.OLeanLevel","doc":"The level of information to save/load. Each level includes all previous ones. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">inductive</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.OLeanLevel\"><span class=\"name\">Lean</span>.<span class=\"name\">OLeanLevel</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1491-L1491","name":"Lean.ImportM","line":1491,"kind":"def","docLink":"./Lean/Environment.html#Lean.ImportM","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.ImportM\"><span class=\"name\">Lean</span>.<span class=\"name\">ImportM</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">α</span> : <a href=\"./foundational_types.html\">Type</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1489-L1489","name":"Lean.ImportM.Context.opts","line":1489,"kind":"def","docLink":"./Lean/Environment.html#Lean.ImportM.Context.opts","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.ImportM.Context.opts\"><span class=\"name\">Lean</span>.<span class=\"name\">ImportM</span>.<span class=\"name\">Context</span>.<span class=\"name\">opts</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/Environment.html#Lean.ImportM.Context\">Context</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Data/Options.html#Lean.Options\">Options</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1488-L1488","name":"Lean.ImportM.Context.env","line":1488,"kind":"def","docLink":"./Lean/Environment.html#Lean.ImportM.Context.env","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.ImportM.Context.env\"><span class=\"name\">Lean</span>.<span class=\"name\">ImportM</span>.<span class=\"name\">Context</span>.<span class=\"name\">env</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/Environment.html#Lean.ImportM.Context\">Context</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1487-L1487","name":"Lean.ImportM.Context.mk","line":1487,"kind":"ctor","docLink":"./Lean/Environment.html#Lean.ImportM.Context.mk","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.ImportM.Context.mk\"><span class=\"name\">Lean</span>.<span class=\"name\">ImportM</span>.<span class=\"name\">Context</span>.<span class=\"name\">mk</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">opts</span> : <a href=\"./Lean/Data/Options.html#Lean.Options\">Options</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.ImportM.Context\">Context</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1487-L1489","name":"Lean.ImportM.Context","line":1487,"kind":"structure","docLink":"./Lean/Environment.html#Lean.ImportM.Context","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">structure</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.ImportM.Context\"><span class=\"name\">Lean</span>.<span class=\"name\">ImportM</span>.<span class=\"name\">Context</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1485-L1485","name":"Lean.PersistentEnvExtensionState.state","line":1485,"kind":"def","docLink":"./Lean/Environment.html#Lean.PersistentEnvExtensionState.state","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.PersistentEnvExtensionState.state\"><span class=\"name\">Lean</span>.<span class=\"name\">PersistentEnvExtensionState</span>.<span class=\"name\">state</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α </span><span class=\"fn\">σ</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.PersistentEnvExtensionState\">PersistentEnvExtensionState</a> <span class=\"fn\">α</span> <span class=\"fn\">σ</span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\">σ</span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1484-L1484","name":"Lean.PersistentEnvExtensionState.importedEntries","line":1484,"kind":"def","docLink":"./Lean/Environment.html#Lean.PersistentEnvExtensionState.importedEntries","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.PersistentEnvExtensionState.importedEntries\"><span class=\"name\">Lean</span>.<span class=\"name\">PersistentEnvExtensionState</span>.<span class=\"name\">importedEntries</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α </span><span class=\"fn\">σ</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.PersistentEnvExtensionState\">PersistentEnvExtensionState</a> <span class=\"fn\">α</span> <span class=\"fn\">σ</span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <span class=\"fn\">(<a href=\"./Init/Prelude.html#Array\">Array</a> <span class=\"fn\">α</span>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1483-L1483","name":"Lean.PersistentEnvExtensionState.mk","line":1483,"kind":"ctor","docLink":"./Lean/Environment.html#Lean.PersistentEnvExtensionState.mk","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.PersistentEnvExtensionState.mk\"><span class=\"name\">Lean</span>.<span class=\"name\">PersistentEnvExtensionState</span>.<span class=\"name\">mk</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α </span><span class=\"fn\">σ</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">importedEntries</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <span class=\"fn\">(<a href=\"./Init/Prelude.html#Array\">Array</a> <span class=\"fn\">α</span>)</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">state</span> : <span class=\"fn\">σ</span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.PersistentEnvExtensionState\">PersistentEnvExtensionState</a> <span class=\"fn\">α</span> <span class=\"fn\">σ</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1483-L1485","name":"Lean.PersistentEnvExtensionState","line":1483,"kind":"structure","docLink":"./Lean/Environment.html#Lean.PersistentEnvExtensionState","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">structure</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.PersistentEnvExtensionState\"><span class=\"name\">Lean</span>.<span class=\"name\">PersistentEnvExtensionState</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">α </span><span class=\"fn\">σ</span> : <a href=\"./foundational_types.html\">Type</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1466-L1481","name":"Lean.mkEmptyEnvironment","line":1466,"kind":"def","docLink":"./Lean/Environment.html#Lean.mkEmptyEnvironment","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.mkEmptyEnvironment\"><span class=\"name\">Lean</span>.<span class=\"name\">mkEmptyEnvironment</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">trustLevel</span> : <a href=\"./Init/Prelude.html#UInt32\">UInt32</a> := <span class=\"fn\">0</span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1445-L1462","name":"Lean.registerEnvExtension","line":1445,"kind":"def","docLink":"./Lean/Environment.html#Lean.registerEnvExtension","doc":"Environment extensions can only be registered during initialization.\nReasons:\n1- Our implementation assumes the number of extensions does not change after an environment object is created.\n2- We do not use any synchronization primitive to access `envExtensionsRef`.\n\nNote that by default, extension state is *not* stored in .olean files and will not propagate across `import`s.\nFor that, you need to register a persistent environment extension. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.registerEnvExtension\"><span class=\"name\">Lean</span>.<span class=\"name\">registerEnvExtension</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">σ</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">mkInitial</span> : <span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <span class=\"fn\">σ</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">replay?</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Option\">Option</a> <span class=\"fn\">(<a href=\"./Lean/Environment.html#Lean.ReplayFn\">ReplayFn</a> <span class=\"fn\">σ</span>)</span></span> := <a href=\"./Init/Prelude.html#Option.none\">none</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">asyncMode</span> : <a href=\"./Lean/Environment.html#Lean.EnvExtension.AsyncMode\">EnvExtension.AsyncMode</a> := <a href=\"./Lean/Environment.html#Lean.EnvExtension.AsyncMode.mainOnly\">EnvExtension.AsyncMode.mainOnly</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <span class=\"fn\">(<a href=\"./Lean/Environment.html#Lean.EnvExtension\">EnvExtension</a> <span class=\"fn\">σ</span>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1434-L1441","name":"Lean.EnvExtension.findStateAsync","line":1434,"kind":"opaque","docLink":"./Lean/Environment.html#Lean.EnvExtension.findStateAsync","doc":"Returns the final extension state on the environment branch corresponding to the passed declaration\nname, if any, or otherwise the state on the current branch. In other words, at most one environment\nbranch will be blocked on.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">opaque</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.EnvExtension.findStateAsync\"><span class=\"name\">Lean</span>.<span class=\"name\">EnvExtension</span>.<span class=\"name\">findStateAsync</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">σ</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">[<span class=\"fn\"><a href=\"./Init/Prelude.html#Inhabited\">Inhabited</a> <span class=\"fn\">σ</span></span>]</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">ext</span> : <span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.EnvExtension\">EnvExtension</a> <span class=\"fn\">σ</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">declName</span> : <a href=\"./Init/Prelude.html#Lean.Name\">Name</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\">σ</span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1389-L1397","name":"Lean.EnvExtension.getState","line":1389,"kind":"opaque","docLink":"./Lean/Environment.html#Lean.EnvExtension.getState","doc":"Returns the current extension state. See `AsyncMode` for details on how modifications from\ndifferent environment branches are reconciled. Panics if the extension is marked as `async`; see its\ndocumentation for more details. Overriding the extension's default `AsyncMode` is usually not\nrecommended and should be considered only for important optimizations.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">opaque</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.EnvExtension.getState\"><span class=\"name\">Lean</span>.<span class=\"name\">EnvExtension</span>.<span class=\"name\">getState</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">σ</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">[<span class=\"fn\"><a href=\"./Init/Prelude.html#Inhabited\">Inhabited</a> <span class=\"fn\">σ</span></span>]</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">ext</span> : <span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.EnvExtension\">EnvExtension</a> <span class=\"fn\">σ</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">asyncMode</span> : <a href=\"./Lean/Environment.html#Lean.EnvExtension.AsyncMode\">AsyncMode</a> := <span class=\"fn\"><span class=\"fn\">ext</span>.<a href=\"./Lean/Environment.html#Lean.EnvExtension.asyncMode\">asyncMode</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\">σ</span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1372-L1377","name":"Lean.EnvExtension.setState","line":1372,"kind":"def","docLink":"./Lean/Environment.html#Lean.EnvExtension.setState","doc":"Sets the extension state to the given value. See `AsyncMode` for details on how modifications from\ndifferent environment branches are reconciled.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.EnvExtension.setState\"><span class=\"name\">Lean</span>.<span class=\"name\">EnvExtension</span>.<span class=\"name\">setState</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">σ</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">ext</span> : <span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.EnvExtension\">EnvExtension</a> <span class=\"fn\">σ</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">s</span> : <span class=\"fn\">σ</span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1344-L1370","name":"Lean.EnvExtension.modifyState","line":1344,"kind":"def","docLink":"./Lean/Environment.html#Lean.EnvExtension.modifyState","doc":"Applies the given function to the extension state. See `AsyncMode` for details on how modifications\nfrom different environment branches are reconciled.\n\nNote that in modes `sync` and `async`, `f` will be called twice, on the local and on the `checked`\nstate.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.EnvExtension.modifyState\"><span class=\"name\">Lean</span>.<span class=\"name\">EnvExtension</span>.<span class=\"name\">modifyState</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">σ</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">ext</span> : <span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.EnvExtension\">EnvExtension</a> <span class=\"fn\">σ</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">f</span> : <span class=\"fn\"><span class=\"fn\">σ</span> → <span class=\"fn\">σ</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">asyncMode</span> : <a href=\"./Lean/Environment.html#Lean.EnvExtension.AsyncMode\">AsyncMode</a> := <span class=\"fn\"><span class=\"fn\">ext</span>.<a href=\"./Lean/Environment.html#Lean.EnvExtension.asyncMode\">asyncMode</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1340-L1342","name":"Lean.EnvExtension.mkInitialExtStates","line":1340,"kind":"def","docLink":"./Lean/Environment.html#Lean.EnvExtension.mkInitialExtStates","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.EnvExtension.mkInitialExtStates\"><span class=\"name\">Lean</span>.<span class=\"name\">EnvExtension</span>.<span class=\"name\">mkInitialExtStates</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <span class=\"fn\">(<a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Environment.html#Lean.EnvExtensionState\">EnvExtensionState</a>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1304-L1311","name":"Lean.EnvExtension.ensureExtensionsArraySize.loop","line":1304,"kind":"opaque","docLink":"./Lean/Environment.html#Lean.EnvExtension.ensureExtensionsArraySize.loop","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">partial def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.EnvExtension.ensureExtensionsArraySize.loop\"><span class=\"name\">Lean</span>.<span class=\"name\">EnvExtension</span>.<span class=\"name\">ensureExtensionsArraySize</span>.<span class=\"name\">loop</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">i</span> : <a href=\"./Init/Prelude.html#Nat\">Nat</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">exts</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Environment.html#Lean.EnvExtensionState\">EnvExtensionState</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <span class=\"fn\">(<a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Environment.html#Lean.EnvExtensionState\">EnvExtensionState</a>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1294-L1311","name":"Lean.EnvExtension.ensureExtensionsArraySize","line":1294,"kind":"def","docLink":"./Lean/Environment.html#Lean.EnvExtension.ensureExtensionsArraySize","doc":"User-defined environment extensions are declared using the `initialize` command.\nThis command is just syntax sugar for the `init` attribute.\nWhen we `import` lean modules, the vector stored at `envExtensionsRef` may increase in size because of\nuser-defined environment extensions. When this happens, we must adjust the size of the `env.extensions`.\nThis method is invoked when processing `import`s.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.EnvExtension.ensureExtensionsArraySize\"><span class=\"name\">Lean</span>.<span class=\"name\">EnvExtension</span>.<span class=\"name\">ensureExtensionsArraySize</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">exts</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Environment.html#Lean.EnvExtensionState\">EnvExtensionState</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <span class=\"fn\">(<a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Environment.html#Lean.EnvExtensionState\">EnvExtensionState</a>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1288-L1288","name":"Lean.instInhabitedEnvExtension","line":1288,"kind":"instance","docLink":"./Lean/Environment.html#Lean.instInhabitedEnvExtension","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.instInhabitedEnvExtension\"><span class=\"name\">Lean</span>.<span class=\"name\">instInhabitedEnvExtension</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">a✝</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Inhabited\">Inhabited</a> <span class=\"fn\">(<a href=\"./Lean/Environment.html#Lean.EnvExtension\">EnvExtension</a> <span class=\"fn\">a✝</span>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1287-L1287","name":"Lean.EnvExtension.replay?","line":1287,"kind":"def","docLink":"./Lean/Environment.html#Lean.EnvExtension.replay?","doc":"Optional function that, given state before and after realization and newly added constants,\nreplays this change onto a state from another (derived) environment. This function is used only\nwhen making changes to an extension inside a `realizeConst` call, in which case it must be\npresent.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.EnvExtension.replay?\"><span class=\"name\">Lean</span>.<span class=\"name\">EnvExtension</span>.<span class=\"name\">replay?</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">σ</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.EnvExtension\">EnvExtension</a> <span class=\"fn\">σ</span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Option\">Option</a> <span class=\"fn\">(<a href=\"./Lean/Environment.html#Lean.ReplayFn\">ReplayFn</a> <span class=\"fn\">σ</span>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1280-L1280","name":"Lean.EnvExtension.asyncMode","line":1280,"kind":"def","docLink":"./Lean/Environment.html#Lean.EnvExtension.asyncMode","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.EnvExtension.asyncMode\"><span class=\"name\">Lean</span>.<span class=\"name\">EnvExtension</span>.<span class=\"name\">asyncMode</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">σ</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.EnvExtension\">EnvExtension</a> <span class=\"fn\">σ</span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.EnvExtension.AsyncMode\">AsyncMode</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1279-L1279","name":"Lean.EnvExtension.mkInitial","line":1279,"kind":"def","docLink":"./Lean/Environment.html#Lean.EnvExtension.mkInitial","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.EnvExtension.mkInitial\"><span class=\"name\">Lean</span>.<span class=\"name\">EnvExtension</span>.<span class=\"name\">mkInitial</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">σ</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.EnvExtension\">EnvExtension</a> <span class=\"fn\">σ</span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <span class=\"fn\">σ</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1278-L1278","name":"Lean.EnvExtension.idx","line":1278,"kind":"def","docLink":"./Lean/Environment.html#Lean.EnvExtension.idx","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.EnvExtension.idx\"><span class=\"name\">Lean</span>.<span class=\"name\">EnvExtension</span>.<span class=\"name\">idx</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">σ</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.EnvExtension\">EnvExtension</a> <span class=\"fn\">σ</span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Nat\">Nat</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1273-L1288","name":"Lean.EnvExtension","line":1273,"kind":"structure","docLink":"./Lean/Environment.html#Lean.EnvExtension","doc":"Environment extension, can only be generated by `registerEnvExtension` that allocates a unique index\nfor this extension into each environment's extension state's array.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">structure</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.EnvExtension\"><span class=\"name\">Lean</span>.<span class=\"name\">EnvExtension</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">σ</span> : <a href=\"./foundational_types.html\">Type</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1270-L1271","name":"Lean.ReplayFn","line":1270,"kind":"def","docLink":"./Lean/Environment.html#Lean.ReplayFn","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.ReplayFn\"><span class=\"name\">Lean</span>.<span class=\"name\">ReplayFn</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">σ</span> : <a href=\"./foundational_types.html\">Type</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1268-L1268","name":"Lean.EnvExtension.instInhabitedAsyncMode","line":1268,"kind":"instance","docLink":"./Lean/Environment.html#Lean.EnvExtension.instInhabitedAsyncMode","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.EnvExtension.instInhabitedAsyncMode\"><span class=\"name\">Lean</span>.<span class=\"name\">EnvExtension</span>.<span class=\"name\">instInhabitedAsyncMode</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Inhabited\">Inhabited</a> <a href=\"./Lean/Environment.html#Lean.EnvExtension.AsyncMode\">AsyncMode</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1251-L1267","name":"Lean.EnvExtension.AsyncMode.async","line":1251,"kind":"ctor","docLink":"./Lean/Environment.html#Lean.EnvExtension.AsyncMode.async","doc":"Accumulates modifications in the `checked` environment like `sync`, but `getState` will panic\ninstead of blocking. Instead `findStateAsync` should be used, which will access the state of the\nenvironment branch corresponding to the passed declaration name, if any, or otherwise the state\nof the current branch. In other words, at most one environment branch will be blocked on instead\nof all prior branches. The local state can still be accessed by calling `getState` with mode\n`local` explicitly.\n\nThis mode is suitable for extensions with map-like state where the key uniquely identifies the\ntop-level declaration where it could have been set, e.g. because the key on modification is always\nthe surrounding declaration's name. Any calls to `modifyState`/`setState` should assert\n`asyncMayContain` with that key to ensure state is never accidentally stored in a branch where it\ncannot be found by `findStateAsync`. In particular, this mode is closest to how the environment's\nown constant map works which asserts the same predicate on modification and provides `findAsync?`\nfor block-avoiding access.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.EnvExtension.AsyncMode.async\"><span class=\"name\">Lean</span>.<span class=\"name\">EnvExtension</span>.<span class=\"name\">AsyncMode</span>.<span class=\"name\">async</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.EnvExtension.AsyncMode\">AsyncMode</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1240-L1250","name":"Lean.EnvExtension.AsyncMode.mainOnly","line":1240,"kind":"ctor","docLink":"./Lean/Environment.html#Lean.EnvExtension.AsyncMode.mainOnly","doc":"Default access mode. Like `local` but panics when trying to modify the state on anything but the\nmain environment branch. For extensions that fulfill this requirement, all modes functionally\ncoincide with `local` but this is the safest and most efficient choice in that case, preventing\naccidental misuse.\n\nThis mode is suitable for extensions that are modified only at the command elaboration level\nbefore any environment forks in the command, and in particular for extensions that are modified\nonly at the very beginning of the file.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.EnvExtension.AsyncMode.mainOnly\"><span class=\"name\">Lean</span>.<span class=\"name\">EnvExtension</span>.<span class=\"name\">AsyncMode</span>.<span class=\"name\">mainOnly</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.EnvExtension.AsyncMode\">AsyncMode</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1231-L1239","name":"Lean.EnvExtension.AsyncMode.local","line":1231,"kind":"ctor","docLink":"./Lean/Environment.html#Lean.EnvExtension.AsyncMode.local","doc":"Accesses only the state of the current environment branch. Modifications on other branches are not\nvisible and are ultimately discarded except for the main branch. Provides the fastest accessors,\nwill never block.\n\nThis mode is particularly suitable for extensions where state does not escape from lexical scopes\neven without parallelism, e.g. `ScopedEnvExtension`s when setting local entries.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.EnvExtension.AsyncMode.local\"><span class=\"name\">Lean</span>.<span class=\"name\">EnvExtension</span>.<span class=\"name\">AsyncMode</span>.<span class=\"name\">local</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.EnvExtension.AsyncMode\">AsyncMode</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1219-L1230","name":"Lean.EnvExtension.AsyncMode.sync","line":1219,"kind":"ctor","docLink":"./Lean/Environment.html#Lean.EnvExtension.AsyncMode.sync","doc":"Safest access mode, writes and reads the extension state to/from the full `checked`\nenvironment. This mode ensures the observed state is identical independently of whether or how\nparallel elaboration is used but `getState` will block on all prior environment branches by\nwaiting for `checked`. `setState` and `modifyState` do not block.\n\nWhile a safe fallback for when `mainOnly` is not sufficient, any extension that reasonably could\nbe used in parallel elaboration contexts should opt for a weaker mode to avoid blocking unless\nthere is no way to access the correct state without waiting for all prior environment branches, in\nwhich case its data management should be restructured if at all possible.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.EnvExtension.AsyncMode.sync\"><span class=\"name\">Lean</span>.<span class=\"name\">EnvExtension</span>.<span class=\"name\">AsyncMode</span>.<span class=\"name\">sync</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.EnvExtension.AsyncMode\">AsyncMode</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1207-L1268","name":"Lean.EnvExtension.AsyncMode","line":1207,"kind":"inductive","docLink":"./Lean/Environment.html#Lean.EnvExtension.AsyncMode","doc":"Async access mode for environment extensions used in `EnvExtension.get/set/modifyState`.\nWhen modified in concurrent contexts, extensions may need to switch to a different mode than the\ndefault `mainOnly`, which will panic in such cases. The access mode is set at environment extension\nregistration time but can be overridden when calling the mentioned functions in order to weaken it\nfor specific accesses.\n\nIn all modes, the state stored into the `.olean` file for persistent environment extensions is the\nresult of `getState` called on the main environment branch at the end of the file, i.e. it\nencompasses all modifications for all modes but `local`.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">inductive</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.EnvExtension.AsyncMode\"><span class=\"name\">Lean</span>.<span class=\"name\">EnvExtension</span>.<span class=\"name\">AsyncMode</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1202-L1203","name":"Lean.ConstantInfo.instantiateValueLevelParams!","line":1202,"kind":"def","docLink":"./Lean/Environment.html#Lean.ConstantInfo.instantiateValueLevelParams!","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.ConstantInfo.instantiateValueLevelParams!\"><span class=\"name\">Lean</span>.<span class=\"name\">ConstantInfo</span>.<span class=\"name\">instantiateValueLevelParams!</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">c</span> : <a href=\"./Lean/Declaration.html#Lean.ConstantInfo\">ConstantInfo</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">ls</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#List\">List</a> <a href=\"./Lean/Level.html#Lean.Level\">Level</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Expr.html#Lean.Expr\">Expr</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1199-L1200","name":"Lean.ConstantInfo.instantiateTypeLevelParams","line":1199,"kind":"def","docLink":"./Lean/Environment.html#Lean.ConstantInfo.instantiateTypeLevelParams","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.ConstantInfo.instantiateTypeLevelParams\"><span class=\"name\">Lean</span>.<span class=\"name\">ConstantInfo</span>.<span class=\"name\">instantiateTypeLevelParams</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">c</span> : <a href=\"./Lean/Declaration.html#Lean.ConstantInfo\">ConstantInfo</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">ls</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#List\">List</a> <a href=\"./Lean/Level.html#Lean.Level\">Level</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Expr.html#Lean.Expr\">Expr</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1194-L1195","name":"Lean.ConstantVal.instantiateTypeLevelParams","line":1194,"kind":"def","docLink":"./Lean/Environment.html#Lean.ConstantVal.instantiateTypeLevelParams","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.ConstantVal.instantiateTypeLevelParams\"><span class=\"name\">Lean</span>.<span class=\"name\">ConstantVal</span>.<span class=\"name\">instantiateTypeLevelParams</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">c</span> : <a href=\"./Lean/Declaration.html#Lean.ConstantVal\">ConstantVal</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">ls</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#List\">List</a> <a href=\"./Lean/Level.html#Lean.Level\">Level</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Expr.html#Lean.Expr\">Expr</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1189-L1190","name":"Lean.Environment.getModuleIdx?","line":1189,"kind":"def","docLink":"./Lean/Environment.html#Lean.Environment.getModuleIdx?","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Environment.getModuleIdx?\"><span class=\"name\">Lean</span>.<span class=\"name\">Environment</span>.<span class=\"name\">getModuleIdx?</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">moduleName</span> : <a href=\"./Init/Prelude.html#Lean.Name\">Name</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Option\">Option</a> <a href=\"./Lean/Environment.html#Lean.ModuleIdx\">ModuleIdx</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1184-L1187","name":"Lean.Environment.isSafeDefinition","line":1184,"kind":"def","docLink":"./Lean/Environment.html#Lean.Environment.isSafeDefinition","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Environment.isSafeDefinition\"><span class=\"name\">Lean</span>.<span class=\"name\">Environment</span>.<span class=\"name\">isSafeDefinition</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">declName</span> : <a href=\"./Init/Prelude.html#Lean.Name\">Name</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Bool\">Bool</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1181-L1182","name":"Lean.Environment.isConstructor","line":1181,"kind":"def","docLink":"./Lean/Environment.html#Lean.Environment.isConstructor","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Environment.isConstructor\"><span class=\"name\">Lean</span>.<span class=\"name\">Environment</span>.<span class=\"name\">isConstructor</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">declName</span> : <a href=\"./Init/Prelude.html#Lean.Name\">Name</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Bool\">Bool</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1178-L1179","name":"Lean.Environment.isImportedConst","line":1178,"kind":"def","docLink":"./Lean/Environment.html#Lean.Environment.isImportedConst","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Environment.isImportedConst\"><span class=\"name\">Lean</span>.<span class=\"name\">Environment</span>.<span class=\"name\">isImportedConst</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">declName</span> : <a href=\"./Init/Prelude.html#Lean.Name\">Name</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Bool\">Bool</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1174-L1176","name":"Lean.Environment.getModuleIdxFor?","line":1174,"kind":"def","docLink":"./Lean/Environment.html#Lean.Environment.getModuleIdxFor?","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Environment.getModuleIdxFor?\"><span class=\"name\">Lean</span>.<span class=\"name\">Environment</span>.<span class=\"name\">getModuleIdxFor?</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">declName</span> : <a href=\"./Init/Prelude.html#Lean.Name\">Name</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Option\">Option</a> <a href=\"./Lean/Environment.html#Lean.ModuleIdx\">ModuleIdx</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1171-L1172","name":"Lean.Environment.mainModule","line":1171,"kind":"def","docLink":"./Lean/Environment.html#Lean.Environment.mainModule","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Environment.mainModule\"><span class=\"name\">Lean</span>.<span class=\"name\">Environment</span>.<span class=\"name\">mainModule</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Lean.Name\">Name</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1162-L1169","name":"Lean.Environment.setMainModule","line":1162,"kind":"def","docLink":"./Lean/Environment.html#Lean.Environment.setMainModule","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Environment.setMainModule\"><span class=\"name\">Lean</span>.<span class=\"name\">Environment</span>.<span class=\"name\">setMainModule</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">m</span> : <a href=\"./Init/Prelude.html#Lean.Name\">Name</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1149-L1160","name":"Lean.Environment.addExtraName","line":1149,"kind":"def","docLink":"./Lean/Environment.html#Lean.Environment.addExtraName","doc":"Save an extra constant name that is used to populate `const2ModIdx` when we import\n.olean files. We use this feature to save in which module an auxiliary declaration\ncreated by the code generator has been created.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Environment.addExtraName\"><span class=\"name\">Lean</span>.<span class=\"name\">Environment</span>.<span class=\"name\">addExtraName</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">name</span> : <a href=\"./Init/Prelude.html#Lean.Name\">Name</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1142-L1147","name":"Lean.Environment.containsOnBranch","line":1142,"kind":"def","docLink":"./Lean/Environment.html#Lean.Environment.containsOnBranch","doc":"Checks whether the given declaration is known on the current branch, in which case `findAsync?` will\nnot block.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Environment.containsOnBranch\"><span class=\"name\">Lean</span>.<span class=\"name\">Environment</span>.<span class=\"name\">containsOnBranch</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">n</span> : <a href=\"./Init/Prelude.html#Lean.Name\">Name</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Bool\">Bool</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1132-L1140","name":"Lean.Environment.contains","line":1132,"kind":"def","docLink":"./Lean/Environment.html#Lean.Environment.contains","doc":"Checks whether `findAsync?` would return a result.\n\nNOTE: Unlike `findAsync`, this function defaults `skipRealize` to `true` to avoid unnecessary\nblocking on realizations, which should always be brought into scope by running `realizeConst`, which\ndoes its own, optimized existence check.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Environment.contains\"><span class=\"name\">Lean</span>.<span class=\"name\">Environment</span>.<span class=\"name\">contains</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">n</span> : <a href=\"./Init/Prelude.html#Lean.Name\">Name</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">skipRealize</span> : <a href=\"./Init/Prelude.html#Bool\">Bool</a> := <a href=\"./Init/Prelude.html#Bool.true\">true</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Bool\">Bool</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1117-L1130","name":"Lean.Environment.AddConstAsyncResult.commitCheckEnv","line":1117,"kind":"def","docLink":"./Lean/Environment.html#Lean.Environment.AddConstAsyncResult.commitCheckEnv","doc":"Assuming `Lean.addDecl` has been run for the constant to be added on the async environment branch,\ncommits the full constant info from that call to the main environment, waits for the final kernel\nenvironment resulting from the `addDecl` call, and commits it to the main branch as well, unblocking\nkernel additions there. All `commitConst` preconditions apply.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Environment.AddConstAsyncResult.commitCheckEnv\"><span class=\"name\">Lean</span>.<span class=\"name\">Environment</span>.<span class=\"name\">AddConstAsyncResult</span>.<span class=\"name\">commitCheckEnv</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">res</span> : <a href=\"./Lean/Environment.html#Lean.Environment.AddConstAsyncResult\">AddConstAsyncResult</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1080-L1115","name":"Lean.Environment.AddConstAsyncResult.commitConst","line":1080,"kind":"def","docLink":"./Lean/Environment.html#Lean.Environment.AddConstAsyncResult.commitConst","doc":"Commits the full constant info as well as the current environment extension state and set of nested\nasynchronous constants to the main environment branch. If `info?` is `none`, it is taken from the\ngiven environment. The declaration name and kind must match the original values given to\n`addConstAsync`. The signature must match the previous `commitSignature` call, if any.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Environment.AddConstAsyncResult.commitConst\"><span class=\"name\">Lean</span>.<span class=\"name\">Environment</span>.<span class=\"name\">AddConstAsyncResult</span>.<span class=\"name\">commitConst</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">res</span> : <a href=\"./Lean/Environment.html#Lean.Environment.AddConstAsyncResult\">AddConstAsyncResult</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">info? </span><span class=\"fn\">exportedInfo?</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Option\">Option</a> <a href=\"./Lean/Declaration.html#Lean.ConstantInfo\">ConstantInfo</a></span> := <a href=\"./Init/Prelude.html#Option.none\">none</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L1069-L1078","name":"Lean.Environment.AddConstAsyncResult.commitSignature","line":1069,"kind":"def","docLink":"./Lean/Environment.html#Lean.Environment.AddConstAsyncResult.commitSignature","doc":"Commits the signature of the constant to the main environment branch. The declaration name must\nmatch the name originally given to `addConstAsync`. It is optional to call this function but can\nhelp in unblocking corresponding accesses to the constant on the main branch.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Environment.AddConstAsyncResult.commitSignature\"><span class=\"name\">Lean</span>.<span class=\"name\">Environment</span>.<span class=\"name\">AddConstAsyncResult</span>.<span class=\"name\">commitSignature</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">res</span> : <a href=\"./Lean/Environment.html#Lean.Environment.AddConstAsyncResult\">AddConstAsyncResult</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">sig</span> : <a href=\"./Lean/Declaration.html#Lean.ConstantVal\">ConstantVal</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L999-L1067","name":"Lean.Environment.addConstAsync","line":999,"kind":"def","docLink":"./Lean/Environment.html#Lean.Environment.addConstAsync","doc":"Starts the asynchronous addition of a constant to the environment. The environment is split into a\n\"main\" branch that holds a reference to the constant to be added but will block on access until the\ncorresponding information has been added on the \"async\" environment branch and committed there; see\nthe respective fields of `AddConstAsyncResult` as well as the [Environment Branches] note for more\ninformation.\n\n`exportedKind?` must be passed if the eventual kind of the constant in the exported constant map\nwill differ from that of the private version. It must be `none` if the constant will not be\nexported.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Environment.addConstAsync\"><span class=\"name\">Lean</span>.<span class=\"name\">Environment</span>.<span class=\"name\">addConstAsync</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">constName</span> : <a href=\"./Init/Prelude.html#Lean.Name\">Name</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">kind</span> : <a href=\"./Lean/Environment.html#Lean.ConstantKind\">ConstantKind</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">exportedKind?</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Option\">Option</a> <a href=\"./Lean/Environment.html#Lean.ConstantKind\">ConstantKind</a></span> := <span class=\"fn\"><a href=\"./Init/Prelude.html#Option.some\">some</a> <span class=\"fn\">kind</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">reportExts </span><span class=\"fn\">checkMayContain</span> : <a href=\"./Init/Prelude.html#Bool\">Bool</a> := <a href=\"./Init/Prelude.html#Bool.true\">true</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <a href=\"./Lean/Environment.html#Lean.Environment.AddConstAsyncResult\">AddConstAsyncResult</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L969-L969","name":"Lean.Environment.AddConstAsyncResult.asyncEnv","line":969,"kind":"def","docLink":"./Lean/Environment.html#Lean.Environment.AddConstAsyncResult.asyncEnv","doc":"Resulting \"async branch\" environment which should be used to add the desired declaration in a new\ntask and then call `AddConstAsyncResult.commit*` to commit results back to the main environment.\n`commitCheckEnv` completes the addition; if it is not called and the `AddConstAsyncResult` object\nis dropped, `sorry`ed default values will be reported instead and the kernel environment will be\nleft unchanged.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Environment.AddConstAsyncResult.asyncEnv\"><span class=\"name\">Lean</span>.<span class=\"name\">Environment</span>.<span class=\"name\">AddConstAsyncResult</span>.<span class=\"name\">asyncEnv</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/Environment.html#Lean.Environment.AddConstAsyncResult\">AddConstAsyncResult</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L961-L961","name":"Lean.Environment.AddConstAsyncResult.mainEnv","line":961,"kind":"def","docLink":"./Lean/Environment.html#Lean.Environment.AddConstAsyncResult.mainEnv","doc":"Resulting \"main branch\" environment which contains the declaration name as an asynchronous\nconstant. Accessing the constant or kernel environment will block until the corresponding\n`AddConstAsyncResult.commit*` function has been called.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Environment.AddConstAsyncResult.mainEnv\"><span class=\"name\">Lean</span>.<span class=\"name\">Environment</span>.<span class=\"name\">AddConstAsyncResult</span>.<span class=\"name\">mainEnv</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/Environment.html#Lean.Environment.AddConstAsyncResult\">AddConstAsyncResult</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L955-L955","name":"Lean.Environment.AddConstAsyncResult.mk","line":955,"kind":"ctor","docLink":"./Lean/Environment.html#Lean.Environment.AddConstAsyncResult.mk","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Environment.AddConstAsyncResult.mk\"><span class=\"name\">Lean</span>.<span class=\"name\">Environment</span>.<span class=\"name\">AddConstAsyncResult</span>.<span class=\"name\">mk</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">mainEnv </span><span class=\"fn\">asyncEnv</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">constName</span> : <a href=\"./Init/Prelude.html#Lean.Name\">Name</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">kind</span> : <a href=\"./Lean/Environment.html#Lean.ConstantKind\">ConstantKind</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">exportedKind?</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Option\">Option</a> <a href=\"./Lean/Environment.html#Lean.ConstantKind\">ConstantKind</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">sigPromise</span> : <span class=\"fn\"><a href=\"./Init/System/Promise.html#IO.Promise\">IO.Promise</a> <a href=\"./Lean/Declaration.html#Lean.ConstantVal\">ConstantVal</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">constPromise</span> : <span class=\"fn\"><a href=\"./Init/System/Promise.html#IO.Promise\">IO.Promise</a> <a href=\"./Lean/Environment.html#_private.Lean.Environment.0.Lean.Environment.ConstPromiseVal\">Lean.Environment.ConstPromiseVal✝</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">checkedEnvPromise</span> : <span class=\"fn\"><a href=\"./Init/System/Promise.html#IO.Promise\">IO.Promise</a> <a href=\"./Lean/Environment.html#Lean.Kernel.Environment\">Kernel.Environment</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">allRealizationsPromise</span> : <span class=\"fn\"><a href=\"./Init/System/Promise.html#IO.Promise\">IO.Promise</a> <span class=\"fn\">(<a href=\"./Lean/Data/NameMap.html#Lean.NameMap\">NameMap</a> <a href=\"./Lean/Environment.html#_private.Lean.Environment.0.Lean.AsyncConst\">Lean.AsyncConst✝</a>)</span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.Environment.AddConstAsyncResult\">AddConstAsyncResult</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L952-L976","name":"Lean.Environment.AddConstAsyncResult","line":952,"kind":"structure","docLink":"./Lean/Environment.html#Lean.Environment.AddConstAsyncResult","doc":"Result of `Lean.Environment.addConstAsync` which is necessary to complete the asynchronous addition.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">structure</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Environment.AddConstAsyncResult\"><span class=\"name\">Lean</span>.<span class=\"name\">Environment</span>.<span class=\"name\">AddConstAsyncResult</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L950-L950","name":"Lean.Environment.instNonemptyConstPromiseVal","line":950,"kind":"instance","docLink":"./Lean/Environment.html#Lean.Environment.instNonemptyConstPromiseVal","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Environment.instNonemptyConstPromiseVal\"><span class=\"name\">Lean</span>.<span class=\"name\">Environment</span>.<span class=\"name\">instNonemptyConstPromiseVal</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Nonempty\">Nonempty</a> <a href=\"./Lean/Environment.html#_private.Lean.Environment.0.Lean.Environment.ConstPromiseVal\">Lean.Environment.ConstPromiseVal✝</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L938-L942","name":"Lean.Environment.PromiseCheckedResult.commitChecked","line":938,"kind":"def","docLink":"./Lean/Environment.html#Lean.Environment.PromiseCheckedResult.commitChecked","doc":"Commits the kernel environment of the given environment back to the main branch. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Environment.PromiseCheckedResult.commitChecked\"><span class=\"name\">Lean</span>.<span class=\"name\">Environment</span>.<span class=\"name\">PromiseCheckedResult</span>.<span class=\"name\">commitChecked</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">res</span> : <a href=\"./Lean/Environment.html#Lean.Environment.PromiseCheckedResult\">PromiseCheckedResult</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#BaseIO\">BaseIO</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L921-L936","name":"Lean.Environment.promiseChecked","line":921,"kind":"def","docLink":"./Lean/Environment.html#Lean.Environment.promiseChecked","doc":"Starts an asynchronous modification of the kernel environment. The environment is split into a\n\"main\" branch that will block on access to the kernel environment until\n`PromiseCheckedResult.commitChecked` has been called on the \"async\" environment branch.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Environment.promiseChecked\"><span class=\"name\">Lean</span>.<span class=\"name\">Environment</span>.<span class=\"name\">promiseChecked</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#BaseIO\">BaseIO</a> <a href=\"./Lean/Environment.html#Lean.Environment.PromiseCheckedResult\">PromiseCheckedResult</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L906-L907","name":"Lean.Environment.realizingStack","line":906,"kind":"def","docLink":"./Lean/Environment.html#Lean.Environment.realizingStack","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Environment.realizingStack\"><span class=\"name\">Lean</span>.<span class=\"name\">Environment</span>.<span class=\"name\">realizingStack</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#List\">List</a> <a href=\"./Init/Prelude.html#Lean.Name\">Name</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L903-L903","name":"Lean.Environment.PromiseCheckedResult.asyncEnv","line":903,"kind":"def","docLink":"./Lean/Environment.html#Lean.Environment.PromiseCheckedResult.asyncEnv","doc":"Resulting \"async branch\" environment which should be used in a new task and then to call\n`PromiseCheckedResult.commitChecked` to commit results back to the main environment. If it is not\ncalled and the `PromiseCheckedResult` object is dropped, the kernel environment will be left\nunchanged.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Environment.PromiseCheckedResult.asyncEnv\"><span class=\"name\">Lean</span>.<span class=\"name\">Environment</span>.<span class=\"name\">PromiseCheckedResult</span>.<span class=\"name\">asyncEnv</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/Environment.html#Lean.Environment.PromiseCheckedResult\">PromiseCheckedResult</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L896-L896","name":"Lean.Environment.PromiseCheckedResult.mainEnv","line":896,"kind":"def","docLink":"./Lean/Environment.html#Lean.Environment.PromiseCheckedResult.mainEnv","doc":"Resulting \"main branch\" environment. Accessing the kernel environment will block until\n`PromiseCheckedResult.commitChecked` has been called.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Environment.PromiseCheckedResult.mainEnv\"><span class=\"name\">Lean</span>.<span class=\"name\">Environment</span>.<span class=\"name\">PromiseCheckedResult</span>.<span class=\"name\">mainEnv</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/Environment.html#Lean.Environment.PromiseCheckedResult\">PromiseCheckedResult</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L891-L891","name":"Lean.Environment.PromiseCheckedResult.mk","line":891,"kind":"ctor","docLink":"./Lean/Environment.html#Lean.Environment.PromiseCheckedResult.mk","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Environment.PromiseCheckedResult.mk\"><span class=\"name\">Lean</span>.<span class=\"name\">Environment</span>.<span class=\"name\">PromiseCheckedResult</span>.<span class=\"name\">mk</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">mainEnv </span><span class=\"fn\">asyncEnv</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">checkedEnvPromise</span> : <span class=\"fn\"><a href=\"./Init/System/Promise.html#IO.Promise\">IO.Promise</a> <a href=\"./Lean/Environment.html#Lean.Kernel.Environment\">Kernel.Environment</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.Environment.PromiseCheckedResult\">PromiseCheckedResult</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L890-L904","name":"Lean.Environment.PromiseCheckedResult","line":890,"kind":"structure","docLink":"./Lean/Environment.html#Lean.Environment.PromiseCheckedResult","doc":"Result of `Lean.Environment.promiseChecked`. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">structure</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Environment.PromiseCheckedResult\"><span class=\"name\">Lean</span>.<span class=\"name\">Environment</span>.<span class=\"name\">PromiseCheckedResult</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L886-L888","name":"Lean.Environment.dbgFormatCheckedSyncState","line":886,"kind":"def","docLink":"./Lean/Environment.html#Lean.Environment.dbgFormatCheckedSyncState","doc":"Returns debug output about the synchronous state of the environment. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Environment.dbgFormatCheckedSyncState\"><span class=\"name\">Lean</span>.<span class=\"name\">Environment</span>.<span class=\"name\">dbgFormatCheckedSyncState</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#BaseIO\">BaseIO</a> <a href=\"./Init/Prelude.html#String\">String</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L873-L884","name":"Lean.Environment.dbgFormatAsyncState","line":873,"kind":"def","docLink":"./Lean/Environment.html#Lean.Environment.dbgFormatAsyncState","doc":"Returns debug output about the asynchronous state of the environment. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Environment.dbgFormatAsyncState\"><span class=\"name\">Lean</span>.<span class=\"name\">Environment</span>.<span class=\"name\">dbgFormatAsyncState</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#BaseIO\">BaseIO</a> <a href=\"./Init/Prelude.html#String\">String</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L842-L871","name":"Lean.Environment.enableRealizationsForConst","line":842,"kind":"def","docLink":"./Lean/Environment.html#Lean.Environment.enableRealizationsForConst","doc":"Allows `realizeConst` calls for the given declaration in all derived environment branches.\nRealizations will run using the given environment and options to ensure deterministic results. Note\nthat while we check that the function isn't called before the declaration is actually added to the\nenvironment, we cannot automatically check that it isn't otherwise called too early in the sense\nthat helper declarations and environment extension state that may be relevant to realizations may\nnot have been added yet. We do check that we are not calling it from a different branch than `c` was\nadded on, which would be definitely too late. Thus, this function should generally be called in\nelaborators calling `addDecl` (when that declaration is a plausible target for realization) at the\nlatest possible point, i.e. at the very end of the elaborator or just before a first realization may\nbe triggered if any.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Environment.enableRealizationsForConst\"><span class=\"name\">Lean</span>.<span class=\"name\">Environment</span>.<span class=\"name\">enableRealizationsForConst</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">opts</span> : <a href=\"./Lean/Data/Options.html#Lean.Options\">Options</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">c</span> : <a href=\"./Init/Prelude.html#Lean.Name\">Name</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#BaseIO\">BaseIO</a> <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L836-L840","name":"Lean.Environment.find?","line":836,"kind":"def","docLink":"./Lean/Environment.html#Lean.Environment.find?","doc":"Like `findAsync?`, but blocks until the constant's info is fully available.  "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Environment.find?\"><span class=\"name\">Lean</span>.<span class=\"name\">Environment</span>.<span class=\"name\">find?</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">n</span> : <a href=\"./Init/Prelude.html#Lean.Name\">Name</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">skipRealize</span> : <a href=\"./Init/Prelude.html#Bool\">Bool</a> := <a href=\"./Init/Prelude.html#Bool.false\">false</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Option\">Option</a> <a href=\"./Lean/Declaration.html#Lean.ConstantInfo\">ConstantInfo</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L826-L834","name":"Lean.Environment.findConstVal?","line":826,"kind":"def","docLink":"./Lean/Environment.html#Lean.Environment.findConstVal?","doc":"Like `findAsync` but blocks on everything but the constant's body (if any), which is not accessible\nthrough the result.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Environment.findConstVal?\"><span class=\"name\">Lean</span>.<span class=\"name\">Environment</span>.<span class=\"name\">findConstVal?</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">n</span> : <a href=\"./Init/Prelude.html#Lean.Name\">Name</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">skipRealize</span> : <a href=\"./Init/Prelude.html#Bool\">Bool</a> := <a href=\"./Init/Prelude.html#Bool.false\">false</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Option\">Option</a> <a href=\"./Lean/Declaration.html#Lean.ConstantVal\">ConstantVal</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L819-L824","name":"Lean.Environment.findTask","line":819,"kind":"def","docLink":"./Lean/Environment.html#Lean.Environment.findTask","doc":"Like `findAsync?` but returns a task instead of resorting to blocking. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Environment.findTask\"><span class=\"name\">Lean</span>.<span class=\"name\">Environment</span>.<span class=\"name\">findTask</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">n</span> : <a href=\"./Init/Prelude.html#Lean.Name\">Name</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">skipRealize</span> : <a href=\"./Init/Prelude.html#Bool\">Bool</a> := <a href=\"./Init/Prelude.html#Bool.false\">false</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Core.html#Task\">Task</a> <span class=\"fn\">(<a href=\"./Init/Prelude.html#Option\">Option</a> <a href=\"./Lean/Environment.html#Lean.AsyncConstantInfo\">AsyncConstantInfo</a>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L799-L817","name":"Lean.Environment.findAsync?","line":799,"kind":"def","docLink":"./Lean/Environment.html#Lean.Environment.findAsync?","doc":"Looks up the given declaration name in the environment, avoiding forcing any in-progress elaboration\ntasks unless necessary. This can usually be done efficiently because `addConstAsync` ensures that\ndeclarations added in an environment branch have that branch's declaration name as a prefix, so we\nknow exactly what tasks to wait for to find a declaration. However, this is not true for\ndeclarations from `realizeConst`, which are not restricted to the current prefix, and reference to\nwhich may escape the branch(es) they have been realized on such as when looking into the type `Expr`\nof a declaration found on another branch. Thus when we cannot find the declaration using the fast\nprefix-based lookup, we fall back to waiting for and looking at the realizations from all branches.\nTo avoid this expensive search for realizations from other branches, `skipRealize` can set to ensure\nnegative lookups are as fast as positive ones.\n\nUse `findTask` instead if any blocking should be avoided.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Environment.findAsync?\"><span class=\"name\">Lean</span>.<span class=\"name\">Environment</span>.<span class=\"name\">findAsync?</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">n</span> : <a href=\"./Init/Prelude.html#Lean.Name\">Name</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">skipRealize</span> : <a href=\"./Init/Prelude.html#Bool\">Bool</a> := <a href=\"./Init/Prelude.html#Bool.false\">false</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Option\">Option</a> <a href=\"./Lean/Environment.html#Lean.AsyncConstantInfo\">AsyncConstantInfo</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L740-L742","name":"Lean.Environment.const2ModIdx","line":740,"kind":"def","docLink":"./Lean/Environment.html#Lean.Environment.const2ModIdx","doc":"Mapping from constant name to module (index) where constant has been declared.\nRecall that a Lean file has a header where previously compiled modules can be imported.\nEach imported module has a unique `ModuleIdx`.\nMany extensions use the `ModuleIdx` to efficiently retrieve information stored in imported modules.\n\nRemark: this mapping also contains auxiliary constants, created by the code generator, that are **not** in\nthe field `constants`. These auxiliary constants are invisible to the Lean kernel and elaborator.\nOnly the code generator uses them.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Environment.const2ModIdx\"><span class=\"name\">Lean</span>.<span class=\"name\">Environment</span>.<span class=\"name\">const2ModIdx</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Std/Data/HashMap/Basic.html#Std.HashMap\">Std.HashMap</a> <a href=\"./Init/Prelude.html#Lean.Name\">Name</a> <a href=\"./Lean/Environment.html#Lean.ModuleIdx\">ModuleIdx</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L736-L738","name":"Lean.Environment.constants","line":736,"kind":"def","docLink":"./Lean/Environment.html#Lean.Environment.constants","doc":"Mapping from constant name to `ConstantInfo`. It contains all constants (definitions, theorems,\naxioms, etc) that have been already type checked by the kernel.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Environment.constants\"><span class=\"name\">Lean</span>.<span class=\"name\">Environment</span>.<span class=\"name\">constants</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.ConstMap\">ConstMap</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L698-L734","name":"Lean.Environment.addDeclCore","line":698,"kind":"def","docLink":"./Lean/Environment.html#Lean.Environment.addDeclCore","doc":"Adds given declaration to the environment, type checking it unless `doCheck` is false.\n\nThis is a plumbing function for the implementation of `Lean.addDecl`, most users should use it\ninstead.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Environment.addDeclCore\"><span class=\"name\">Lean</span>.<span class=\"name\">Environment</span>.<span class=\"name\">addDeclCore</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">maxHeartbeats</span> : <a href=\"./Init/Prelude.html#USize\">USize</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">decl</span> : <a href=\"./Lean/Declaration.html#Lean.Declaration\">Declaration</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">cancelTk?</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Option\">Option</a> <a href=\"./Init/System/IO.html#IO.CancelToken\">IO.CancelToken</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">doCheck</span> : <a href=\"./Init/Prelude.html#Bool\">Bool</a> := <a href=\"./Init/Prelude.html#Bool.true\">true</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Except\">Except</a> <a href=\"./Lean/Environment.html#Lean.Kernel.Exception\">Kernel.Exception</a> <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L678-L688","name":"Lean.Environment.asyncMayContain","line":678,"kind":"def","docLink":"./Lean/Environment.html#Lean.Environment.asyncMayContain","doc":"Checks whether the given declaration name may potentially added, or have been added, to the current\nenvironment branch, which is the case either if this is the main branch or if the declaration name\nis a suffix (modulo privacy and hygiene information) of the top-level declaration name for which\nthis branch was created.\n\nThis function should always be checked before modifying an `AsyncMode.async` environment extension\nto ensure `findStateAsync` will be able to find the modification from other branches.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Environment.asyncMayContain\"><span class=\"name\">Lean</span>.<span class=\"name\">Environment</span>.<span class=\"name\">asyncMayContain</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">declName</span> : <a href=\"./Init/Prelude.html#Lean.Name\">Name</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Bool\">Bool</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L674-L676","name":"Lean.Environment.unlockAsync","line":674,"kind":"def","docLink":"./Lean/Environment.html#Lean.Environment.unlockAsync","doc":"Forgets about the asynchronous context restrictions. Used only for `withoutModifyingEnv`. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Environment.unlockAsync\"><span class=\"name\">Lean</span>.<span class=\"name\">Environment</span>.<span class=\"name\">unlockAsync</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L666-L672","name":"Lean.Environment.importEnv?","line":666,"kind":"def","docLink":"./Lean/Environment.html#Lean.Environment.importEnv?","doc":"Returns the environment just after importing. `none` if `finalizeImport` has never been called on\nit.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Environment.importEnv?\"><span class=\"name\">Lean</span>.<span class=\"name\">Environment</span>.<span class=\"name\">importEnv?</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Option\">Option</a> <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L662-L664","name":"Lean.Environment.isRealizing","line":662,"kind":"def","docLink":"./Lean/Environment.html#Lean.Environment.isRealizing","doc":"True while inside `realizeConst`'s `realize`. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Environment.isRealizing\"><span class=\"name\">Lean</span>.<span class=\"name\">Environment</span>.<span class=\"name\">isRealizing</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Bool\">Bool</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L658-L660","name":"Lean.Environment.asyncPrefix?","line":658,"kind":"def","docLink":"./Lean/Environment.html#Lean.Environment.asyncPrefix?","doc":"The declaration prefix to which the environment is restricted to, if any. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Environment.asyncPrefix?\"><span class=\"name\">Lean</span>.<span class=\"name\">Environment</span>.<span class=\"name\">asyncPrefix?</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Option\">Option</a> <a href=\"./Init/Prelude.html#Lean.Name\">Name</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L643-L648","name":"Lean.Environment.setExporting","line":643,"kind":"def","docLink":"./Lean/Environment.html#Lean.Environment.setExporting","doc":"Updates `env.isExporting`. Ignored if `env.header.isModule` is false. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Environment.setExporting\"><span class=\"name\">Lean</span>.<span class=\"name\">Environment</span>.<span class=\"name\">setExporting</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">isExporting</span> : <a href=\"./Init/Prelude.html#Bool\">Bool</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L639-L641","name":"Lean.Environment.toKernelEnv","line":639,"kind":"def","docLink":"./Lean/Environment.html#Lean.Environment.toKernelEnv","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Environment.toKernelEnv\"><span class=\"name\">Lean</span>.<span class=\"name\">Environment</span>.<span class=\"name\">toKernelEnv</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.Kernel.Environment\">Kernel.Environment</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L635-L637","name":"Lean.Environment.ofKernelEnv","line":635,"kind":"def","docLink":"./Lean/Environment.html#Lean.Environment.ofKernelEnv","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Environment.ofKernelEnv\"><span class=\"name\">Lean</span>.<span class=\"name\">Environment</span>.<span class=\"name\">ofKernelEnv</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Kernel.Environment\">Kernel.Environment</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L627-L628","name":"Lean.Environment.allImportedModuleNames","line":627,"kind":"def","docLink":"./Lean/Environment.html#Lean.Environment.allImportedModuleNames","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Environment.allImportedModuleNames\"><span class=\"name\">Lean</span>.<span class=\"name\">Environment</span>.<span class=\"name\">allImportedModuleNames</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Init/Prelude.html#Lean.Name\">Name</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L624-L625","name":"Lean.Environment.imports","line":624,"kind":"def","docLink":"./Lean/Environment.html#Lean.Environment.imports","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Environment.imports\"><span class=\"name\">Lean</span>.<span class=\"name\">Environment</span>.<span class=\"name\">imports</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Setup.html#Lean.Import\">Import</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L620-L622","name":"Lean.Environment.header","line":620,"kind":"def","docLink":"./Lean/Environment.html#Lean.Environment.header","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Environment.header\"><span class=\"name\">Lean</span>.<span class=\"name\">Environment</span>.<span class=\"name\">header</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.EnvironmentHeader\">EnvironmentHeader</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L606-L606","name":"Lean.instNonemptyEnvironment","line":606,"kind":"instance","docLink":"./Lean/Environment.html#Lean.instNonemptyEnvironment","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.instNonemptyEnvironment\"><span class=\"name\">Lean</span>.<span class=\"name\">instNonemptyEnvironment</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Nonempty\">Nonempty</a> <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L605-L605","name":"Lean.Environment.isExporting","line":605,"kind":"def","docLink":"./Lean/Environment.html#Lean.Environment.isExporting","doc":"Indicates whether the environment is being used in an exported context, i.e. whether it should\nprovide access to only the data to be imported by other modules participating in the module\nsystem.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Environment.isExporting\"><span class=\"name\">Lean</span>.<span class=\"name\">Environment</span>.<span class=\"name\">isExporting</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Bool\">Bool</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L571-L571","name":"Lean.Environment.checked","line":571,"kind":"def","docLink":"./Lean/Environment.html#Lean.Environment.checked","doc":"Kernel environment task that is fulfilled when all asynchronously elaborated declarations are\nfinished, containing the resulting environment. Also collects the environment extension state of\nall environment branches that contributed contained declarations.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Environment.checked\"><span class=\"name\">Lean</span>.<span class=\"name\">Environment</span>.<span class=\"name\">checked</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/Environment.html#Lean.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Core.html#Task\">Task</a> <a href=\"./Lean/Environment.html#Lean.Kernel.Environment\">Kernel.Environment</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L540-L606","name":"Lean.Environment","line":540,"kind":"structure","docLink":"./Lean/Environment.html#Lean.Environment","doc":"Elaboration-specific extension of `Kernel.Environment` that adds tracking of asynchronously\nelaborated declarations.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">structure</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Environment\"><span class=\"name\">Lean</span>.<span class=\"name\">Environment</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L522-L522","name":"Lean.instNonemptyRealizationResult","line":522,"kind":"instance","docLink":"./Lean/Environment.html#Lean.instNonemptyRealizationResult","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.instNonemptyRealizationResult\"><span class=\"name\">Lean</span>.<span class=\"name\">instNonemptyRealizationResult</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Nonempty\">Nonempty</a> <a href=\"./Lean/Environment.html#_private.Lean.Environment.0.Lean.RealizationResult\">Lean.RealizationResult✝</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L515-L515","name":"Lean.instNonemptyVisibilityMap","line":515,"kind":"instance","docLink":"./Lean/Environment.html#Lean.instNonemptyVisibilityMap","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.instNonemptyVisibilityMap\"><span class=\"name\">Lean</span>.<span class=\"name\">instNonemptyVisibilityMap</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α✝</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">[<span class=\"fn\"><a href=\"./Init/Prelude.html#Nonempty\">Nonempty</a> <span class=\"fn\">α✝</span></span>]</span></span>\n</span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Nonempty\">Nonempty</a> <span class=\"fn\">(<a href=\"./Lean/Environment.html#_private.Lean.Environment.0.Lean.VisibilityMap\">Lean.VisibilityMap✝</a> <span class=\"fn\">α✝</span>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L515-L515","name":"Lean.instInhabitedVisibilityMap","line":515,"kind":"instance","docLink":"./Lean/Environment.html#Lean.instInhabitedVisibilityMap","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.instInhabitedVisibilityMap\"><span class=\"name\">Lean</span>.<span class=\"name\">instInhabitedVisibilityMap</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">a✝</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">[<span class=\"fn\"><a href=\"./Init/Prelude.html#Inhabited\">Inhabited</a> <span class=\"fn\">a✝</span></span>]</span></span>\n</span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Inhabited\">Inhabited</a> <span class=\"fn\">(<a href=\"./Lean/Environment.html#_private.Lean.Environment.0.Lean.VisibilityMap\">Lean.VisibilityMap✝</a> <span class=\"fn\">a✝</span>)</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L458-L458","name":"Lean.instTypeNameAsyncConsts","line":458,"kind":"instance","docLink":"./Lean/Environment.html#Lean.instTypeNameAsyncConsts","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.instTypeNameAsyncConsts\"><span class=\"name\">Lean</span>.<span class=\"name\">instTypeNameAsyncConsts</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Dynamic.html#TypeName\">TypeName</a> <a href=\"./Lean/Environment.html#_private.Lean.Environment.0.Lean.AsyncConsts\">Lean.AsyncConsts✝</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L458-L458","name":"Lean.instInhabitedAsyncConsts","line":458,"kind":"instance","docLink":"./Lean/Environment.html#Lean.instInhabitedAsyncConsts","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.instInhabitedAsyncConsts\"><span class=\"name\">Lean</span>.<span class=\"name\">instInhabitedAsyncConsts</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Inhabited\">Inhabited</a> <a href=\"./Lean/Environment.html#_private.Lean.Environment.0.Lean.AsyncConsts\">Lean.AsyncConsts✝</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L425-L425","name":"Lean.instNonemptyAsyncContext","line":425,"kind":"instance","docLink":"./Lean/Environment.html#Lean.instNonemptyAsyncContext","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.instNonemptyAsyncContext\"><span class=\"name\">Lean</span>.<span class=\"name\">instNonemptyAsyncContext</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Nonempty\">Nonempty</a> <a href=\"./Lean/Environment.html#_private.Lean.Environment.0.Lean.AsyncContext\">Lean.AsyncContext✝</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L401-L404","name":"Lean.AsyncConstantInfo.isUnsafe","line":401,"kind":"def","docLink":"./Lean/Environment.html#Lean.AsyncConstantInfo.isUnsafe","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.AsyncConstantInfo.isUnsafe\"><span class=\"name\">Lean</span>.<span class=\"name\">AsyncConstantInfo</span>.<span class=\"name\">isUnsafe</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">c</span> : <a href=\"./Lean/Environment.html#Lean.AsyncConstantInfo\">AsyncConstantInfo</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Bool\">Bool</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L395-L399","name":"Lean.AsyncConstantInfo.ofConstantInfo","line":395,"kind":"def","docLink":"./Lean/Environment.html#Lean.AsyncConstantInfo.ofConstantInfo","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.AsyncConstantInfo.ofConstantInfo\"><span class=\"name\">Lean</span>.<span class=\"name\">AsyncConstantInfo</span>.<span class=\"name\">ofConstantInfo</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">c</span> : <a href=\"./Lean/Declaration.html#Lean.ConstantInfo\">ConstantInfo</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.AsyncConstantInfo\">AsyncConstantInfo</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L392-L393","name":"Lean.AsyncConstantInfo.toConstantInfo","line":392,"kind":"def","docLink":"./Lean/Environment.html#Lean.AsyncConstantInfo.toConstantInfo","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.AsyncConstantInfo.toConstantInfo\"><span class=\"name\">Lean</span>.<span class=\"name\">AsyncConstantInfo</span>.<span class=\"name\">toConstantInfo</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">c</span> : <a href=\"./Lean/Environment.html#Lean.AsyncConstantInfo\">AsyncConstantInfo</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Declaration.html#Lean.ConstantInfo\">ConstantInfo</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L389-L390","name":"Lean.AsyncConstantInfo.toConstantVal","line":389,"kind":"def","docLink":"./Lean/Environment.html#Lean.AsyncConstantInfo.toConstantVal","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.AsyncConstantInfo.toConstantVal\"><span class=\"name\">Lean</span>.<span class=\"name\">AsyncConstantInfo</span>.<span class=\"name\">toConstantVal</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">c</span> : <a href=\"./Lean/Environment.html#Lean.AsyncConstantInfo\">AsyncConstantInfo</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Declaration.html#Lean.ConstantVal\">ConstantVal</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L385-L385","name":"Lean.instInhabitedAsyncConstantInfo","line":385,"kind":"instance","docLink":"./Lean/Environment.html#Lean.instInhabitedAsyncConstantInfo","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.instInhabitedAsyncConstantInfo\"><span class=\"name\">Lean</span>.<span class=\"name\">instInhabitedAsyncConstantInfo</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Inhabited\">Inhabited</a> <a href=\"./Lean/Environment.html#Lean.AsyncConstantInfo\">AsyncConstantInfo</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L384-L384","name":"Lean.AsyncConstantInfo.constInfo","line":384,"kind":"def","docLink":"./Lean/Environment.html#Lean.AsyncConstantInfo.constInfo","doc":"The final, complete constant info, potentially filled asynchronously. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.AsyncConstantInfo.constInfo\"><span class=\"name\">Lean</span>.<span class=\"name\">AsyncConstantInfo</span>.<span class=\"name\">constInfo</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/Environment.html#Lean.AsyncConstantInfo\">AsyncConstantInfo</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Core.html#Task\">Task</a> <a href=\"./Lean/Declaration.html#Lean.ConstantInfo\">ConstantInfo</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L382-L382","name":"Lean.AsyncConstantInfo.sig","line":382,"kind":"def","docLink":"./Lean/Environment.html#Lean.AsyncConstantInfo.sig","doc":"The \"signature\" including level params and type, potentially filled asynchronously. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.AsyncConstantInfo.sig\"><span class=\"name\">Lean</span>.<span class=\"name\">AsyncConstantInfo</span>.<span class=\"name\">sig</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/Environment.html#Lean.AsyncConstantInfo\">AsyncConstantInfo</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Core.html#Task\">Task</a> <a href=\"./Lean/Declaration.html#Lean.ConstantVal\">ConstantVal</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L380-L380","name":"Lean.AsyncConstantInfo.kind","line":380,"kind":"def","docLink":"./Lean/Environment.html#Lean.AsyncConstantInfo.kind","doc":"The kind of the constant, known immediately. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.AsyncConstantInfo.kind\"><span class=\"name\">Lean</span>.<span class=\"name\">AsyncConstantInfo</span>.<span class=\"name\">kind</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/Environment.html#Lean.AsyncConstantInfo\">AsyncConstantInfo</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.ConstantKind\">ConstantKind</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L378-L378","name":"Lean.AsyncConstantInfo.name","line":378,"kind":"def","docLink":"./Lean/Environment.html#Lean.AsyncConstantInfo.name","doc":"The declaration name, known immediately. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.AsyncConstantInfo.name\"><span class=\"name\">Lean</span>.<span class=\"name\">AsyncConstantInfo</span>.<span class=\"name\">name</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/Environment.html#Lean.AsyncConstantInfo\">AsyncConstantInfo</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Lean.Name\">Name</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L376-L376","name":"Lean.AsyncConstantInfo.mk","line":376,"kind":"ctor","docLink":"./Lean/Environment.html#Lean.AsyncConstantInfo.mk","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.AsyncConstantInfo.mk\"><span class=\"name\">Lean</span>.<span class=\"name\">AsyncConstantInfo</span>.<span class=\"name\">mk</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">name</span> : <a href=\"./Init/Prelude.html#Lean.Name\">Name</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">kind</span> : <a href=\"./Lean/Environment.html#Lean.ConstantKind\">ConstantKind</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">sig</span> : <span class=\"fn\"><a href=\"./Init/Core.html#Task\">Task</a> <a href=\"./Lean/Declaration.html#Lean.ConstantVal\">ConstantVal</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">constInfo</span> : <span class=\"fn\"><a href=\"./Init/Core.html#Task\">Task</a> <a href=\"./Lean/Declaration.html#Lean.ConstantInfo\">ConstantInfo</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.AsyncConstantInfo\">AsyncConstantInfo</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L375-L385","name":"Lean.AsyncConstantInfo","line":375,"kind":"structure","docLink":"./Lean/Environment.html#Lean.AsyncConstantInfo","doc":"`ConstantInfo` variant that allows for asynchronous filling of components via tasks. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">structure</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.AsyncConstantInfo\"><span class=\"name\">Lean</span>.<span class=\"name\">AsyncConstantInfo</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L365-L373","name":"Lean.ConstantKind.ofConstantInfo","line":365,"kind":"def","docLink":"./Lean/Environment.html#Lean.ConstantKind.ofConstantInfo","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.ConstantKind.ofConstantInfo\"><span class=\"name\">Lean</span>.<span class=\"name\">ConstantKind</span>.<span class=\"name\">ofConstantInfo</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Declaration.html#Lean.ConstantInfo\">ConstantInfo</a> → <a href=\"./Lean/Environment.html#Lean.ConstantKind\">ConstantKind</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L363-L363","name":"Lean.instReprConstantKind","line":363,"kind":"instance","docLink":"./Lean/Environment.html#Lean.instReprConstantKind","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.instReprConstantKind\"><span class=\"name\">Lean</span>.<span class=\"name\">instReprConstantKind</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Data/Repr.html#Repr\">Repr</a> <a href=\"./Lean/Environment.html#Lean.ConstantKind\">ConstantKind</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L363-L363","name":"Lean.instBEqConstantKind","line":363,"kind":"instance","docLink":"./Lean/Environment.html#Lean.instBEqConstantKind","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.instBEqConstantKind\"><span class=\"name\">Lean</span>.<span class=\"name\">instBEqConstantKind</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#BEq\">BEq</a> <a href=\"./Lean/Environment.html#Lean.ConstantKind\">ConstantKind</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L363-L363","name":"Lean.instInhabitedConstantKind","line":363,"kind":"instance","docLink":"./Lean/Environment.html#Lean.instInhabitedConstantKind","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.instInhabitedConstantKind\"><span class=\"name\">Lean</span>.<span class=\"name\">instInhabitedConstantKind</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Inhabited\">Inhabited</a> <a href=\"./Lean/Environment.html#Lean.ConstantKind\">ConstantKind</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L362-L362","name":"Lean.ConstantKind.recursor","line":362,"kind":"ctor","docLink":"./Lean/Environment.html#Lean.ConstantKind.recursor","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.ConstantKind.recursor\"><span class=\"name\">Lean</span>.<span class=\"name\">ConstantKind</span>.<span class=\"name\">recursor</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.ConstantKind\">ConstantKind</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L362-L362","name":"Lean.ConstantKind.ctor","line":362,"kind":"ctor","docLink":"./Lean/Environment.html#Lean.ConstantKind.ctor","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.ConstantKind.ctor\"><span class=\"name\">Lean</span>.<span class=\"name\">ConstantKind</span>.<span class=\"name\">ctor</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.ConstantKind\">ConstantKind</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L362-L362","name":"Lean.ConstantKind.induct","line":362,"kind":"ctor","docLink":"./Lean/Environment.html#Lean.ConstantKind.induct","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.ConstantKind.induct\"><span class=\"name\">Lean</span>.<span class=\"name\">ConstantKind</span>.<span class=\"name\">induct</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.ConstantKind\">ConstantKind</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L362-L362","name":"Lean.ConstantKind.quot","line":362,"kind":"ctor","docLink":"./Lean/Environment.html#Lean.ConstantKind.quot","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.ConstantKind.quot\"><span class=\"name\">Lean</span>.<span class=\"name\">ConstantKind</span>.<span class=\"name\">quot</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.ConstantKind\">ConstantKind</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L362-L362","name":"Lean.ConstantKind.opaque","line":362,"kind":"ctor","docLink":"./Lean/Environment.html#Lean.ConstantKind.opaque","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.ConstantKind.opaque\"><span class=\"name\">Lean</span>.<span class=\"name\">ConstantKind</span>.<span class=\"name\">opaque</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.ConstantKind\">ConstantKind</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L362-L362","name":"Lean.ConstantKind.axiom","line":362,"kind":"ctor","docLink":"./Lean/Environment.html#Lean.ConstantKind.axiom","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.ConstantKind.axiom\"><span class=\"name\">Lean</span>.<span class=\"name\">ConstantKind</span>.<span class=\"name\">axiom</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.ConstantKind\">ConstantKind</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L362-L362","name":"Lean.ConstantKind.thm","line":362,"kind":"ctor","docLink":"./Lean/Environment.html#Lean.ConstantKind.thm","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.ConstantKind.thm\"><span class=\"name\">Lean</span>.<span class=\"name\">ConstantKind</span>.<span class=\"name\">thm</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.ConstantKind\">ConstantKind</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L362-L362","name":"Lean.ConstantKind.defn","line":362,"kind":"ctor","docLink":"./Lean/Environment.html#Lean.ConstantKind.defn","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.ConstantKind.defn\"><span class=\"name\">Lean</span>.<span class=\"name\">ConstantKind</span>.<span class=\"name\">defn</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.ConstantKind\">ConstantKind</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L361-L363","name":"Lean.ConstantKind","line":361,"kind":"inductive","docLink":"./Lean/Environment.html#Lean.ConstantKind","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">inductive</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.ConstantKind\"><span class=\"name\">Lean</span>.<span class=\"name\">ConstantKind</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L358-L359","name":"Lean.KernelException","line":358,"kind":"def","docLink":"./Lean/Environment.html#Lean.KernelException","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.KernelException\"><span class=\"name\">Lean</span>.<span class=\"name\">KernelException</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L352-L354","name":"Lean.Kernel.Environment.setDiagnostics","line":352,"kind":"def","docLink":"./Lean/Environment.html#Lean.Kernel.Environment.setDiagnostics","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Kernel.Environment.setDiagnostics\"><span class=\"name\">Lean</span>.<span class=\"name\">Kernel</span>.<span class=\"name\">Environment</span>.<span class=\"name\">setDiagnostics</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Kernel.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">diag</span> : <a href=\"./Lean/Environment.html#Lean.Kernel.Diagnostics\">Diagnostics</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.Kernel.Environment\">Environment</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L348-L350","name":"Lean.Kernel.Environment.getDiagnostics","line":348,"kind":"def","docLink":"./Lean/Environment.html#Lean.Kernel.Environment.getDiagnostics","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Kernel.Environment.getDiagnostics\"><span class=\"name\">Lean</span>.<span class=\"name\">Kernel</span>.<span class=\"name\">Environment</span>.<span class=\"name\">getDiagnostics</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Kernel.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.Kernel.Diagnostics\">Diagnostics</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L340-L346","name":"Lean.Kernel.Environment.Diagnostics.recordUnfold","line":340,"kind":"def","docLink":"./Lean/Environment.html#Lean.Kernel.Environment.Diagnostics.recordUnfold","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Kernel.Environment.Diagnostics.recordUnfold\"><span class=\"name\">Lean</span>.<span class=\"name\">Kernel</span>.<span class=\"name\">Environment</span>.<span class=\"name\">Diagnostics</span>.<span class=\"name\">recordUnfold</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">d</span> : <a href=\"./Lean/Environment.html#Lean.Kernel.Diagnostics\">Diagnostics</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">declName</span> : <a href=\"./Init/Prelude.html#Lean.Name\">Name</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.Kernel.Diagnostics\">Diagnostics</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L337-L338","name":"Lean.Kernel.Environment.resetDiag","line":337,"kind":"def","docLink":"./Lean/Environment.html#Lean.Kernel.Environment.resetDiag","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Kernel.Environment.resetDiag\"><span class=\"name\">Lean</span>.<span class=\"name\">Kernel</span>.<span class=\"name\">Environment</span>.<span class=\"name\">resetDiag</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Kernel.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.Kernel.Environment\">Environment</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L334-L335","name":"Lean.Kernel.Environment.isDiagnosticsEnabled","line":334,"kind":"def","docLink":"./Lean/Environment.html#Lean.Kernel.Environment.isDiagnosticsEnabled","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Kernel.Environment.isDiagnosticsEnabled\"><span class=\"name\">Lean</span>.<span class=\"name\">Kernel</span>.<span class=\"name\">Environment</span>.<span class=\"name\">isDiagnosticsEnabled</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Kernel.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Bool\">Bool</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L330-L332","name":"Lean.Kernel.Environment.enableDiag","line":330,"kind":"def","docLink":"./Lean/Environment.html#Lean.Kernel.Environment.enableDiag","doc":"Enables/disables kernel diagnostics. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Kernel.Environment.enableDiag\"><span class=\"name\">Lean</span>.<span class=\"name\">Kernel</span>.<span class=\"name\">Environment</span>.<span class=\"name\">enableDiag</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Kernel.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">flag</span> : <a href=\"./Init/Prelude.html#Bool\">Bool</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.Kernel.Environment\">Environment</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L326-L328","name":"Lean.Kernel.Environment.Diagnostics.isEnabled","line":326,"kind":"def","docLink":"./Lean/Environment.html#Lean.Kernel.Environment.Diagnostics.isEnabled","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Kernel.Environment.Diagnostics.isEnabled\"><span class=\"name\">Lean</span>.<span class=\"name\">Kernel</span>.<span class=\"name\">Environment</span>.<span class=\"name\">Diagnostics</span>.<span class=\"name\">isEnabled</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">d</span> : <a href=\"./Lean/Environment.html#Lean.Kernel.Diagnostics\">Diagnostics</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Bool\">Bool</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L312-L320","name":"Lean.Kernel.Environment.addDeclWithoutChecking","line":312,"kind":"opaque","docLink":"./Lean/Environment.html#Lean.Kernel.Environment.addDeclWithoutChecking","doc":"Add declaration to kernel without type checking it.\n\n**WARNING** This function is meant for temporarily working around kernel performance issues.\nIt compromises soundness because, for example, a buggy tactic may produce an invalid proof,\nand the kernel will not catch it if the new option is set to true.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">opaque</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Kernel.Environment.addDeclWithoutChecking\"><span class=\"name\">Lean</span>.<span class=\"name\">Kernel</span>.<span class=\"name\">Environment</span>.<span class=\"name\">addDeclWithoutChecking</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Kernel.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">decl</span> : <a href=\"./Lean/Declaration.html#Lean.Declaration\">Declaration</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Except\">Except</a> <a href=\"./Lean/Environment.html#Lean.Kernel.Exception\">Exception</a> <a href=\"./Lean/Environment.html#Lean.Kernel.Environment\">Environment</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L307-L310","name":"Lean.Kernel.Environment.addDeclCore","line":307,"kind":"opaque","docLink":"./Lean/Environment.html#Lean.Kernel.Environment.addDeclCore","doc":"Type check given declaration and add it to the environment "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">opaque</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Kernel.Environment.addDeclCore\"><span class=\"name\">Lean</span>.<span class=\"name\">Kernel</span>.<span class=\"name\">Environment</span>.<span class=\"name\">addDeclCore</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Kernel.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">maxHeartbeats</span> : <a href=\"./Init/Prelude.html#USize\">USize</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">decl</span> : <a href=\"./Lean/Declaration.html#Lean.Declaration\">Declaration</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">cancelTk?</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Option\">Option</a> <a href=\"./Init/System/IO.html#IO.CancelToken\">IO.CancelToken</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Except\">Except</a> <a href=\"./Lean/Environment.html#Lean.Kernel.Exception\">Exception</a> <a href=\"./Lean/Environment.html#Lean.Kernel.Environment\">Environment</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L294-L297","name":"Lean.Kernel.Environment.find?","line":294,"kind":"def","docLink":"./Lean/Environment.html#Lean.Kernel.Environment.find?","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Kernel.Environment.find?\"><span class=\"name\">Lean</span>.<span class=\"name\">Kernel</span>.<span class=\"name\">Environment</span>.<span class=\"name\">find?</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Kernel.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">n</span> : <a href=\"./Init/Prelude.html#Lean.Name\">Name</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Option\">Option</a> <a href=\"./Lean/Declaration.html#Lean.ConstantInfo\">ConstantInfo</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L290-L290","name":"Lean.Kernel.instNonemptyException","line":290,"kind":"instance","docLink":"./Lean/Environment.html#Lean.Kernel.instNonemptyException","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Kernel.instNonemptyException\"><span class=\"name\">Lean</span>.<span class=\"name\">Kernel</span>.<span class=\"name\">instNonemptyException</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Nonempty\">Nonempty</a> <a href=\"./Lean/Environment.html#Lean.Kernel.Exception\">Exception</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L289-L289","name":"Lean.Kernel.Exception.interrupted","line":289,"kind":"ctor","docLink":"./Lean/Environment.html#Lean.Kernel.Exception.interrupted","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Kernel.Exception.interrupted\"><span class=\"name\">Lean</span>.<span class=\"name\">Kernel</span>.<span class=\"name\">Exception</span>.<span class=\"name\">interrupted</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.Kernel.Exception\">Exception</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L288-L288","name":"Lean.Kernel.Exception.deepRecursion","line":288,"kind":"ctor","docLink":"./Lean/Environment.html#Lean.Kernel.Exception.deepRecursion","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Kernel.Exception.deepRecursion\"><span class=\"name\">Lean</span>.<span class=\"name\">Kernel</span>.<span class=\"name\">Exception</span>.<span class=\"name\">deepRecursion</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.Kernel.Exception\">Exception</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L287-L287","name":"Lean.Kernel.Exception.excessiveMemory","line":287,"kind":"ctor","docLink":"./Lean/Environment.html#Lean.Kernel.Exception.excessiveMemory","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Kernel.Exception.excessiveMemory\"><span class=\"name\">Lean</span>.<span class=\"name\">Kernel</span>.<span class=\"name\">Exception</span>.<span class=\"name\">excessiveMemory</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.Kernel.Exception\">Exception</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L286-L286","name":"Lean.Kernel.Exception.deterministicTimeout","line":286,"kind":"ctor","docLink":"./Lean/Environment.html#Lean.Kernel.Exception.deterministicTimeout","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Kernel.Exception.deterministicTimeout\"><span class=\"name\">Lean</span>.<span class=\"name\">Kernel</span>.<span class=\"name\">Exception</span>.<span class=\"name\">deterministicTimeout</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.Kernel.Exception\">Exception</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L285-L285","name":"Lean.Kernel.Exception.other","line":285,"kind":"ctor","docLink":"./Lean/Environment.html#Lean.Kernel.Exception.other","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Kernel.Exception.other\"><span class=\"name\">Lean</span>.<span class=\"name\">Kernel</span>.<span class=\"name\">Exception</span>.<span class=\"name\">other</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">msg</span> : <a href=\"./Init/Prelude.html#String\">String</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.Kernel.Exception\">Exception</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L284-L284","name":"Lean.Kernel.Exception.thmTypeIsNotProp","line":284,"kind":"ctor","docLink":"./Lean/Environment.html#Lean.Kernel.Exception.thmTypeIsNotProp","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Kernel.Exception.thmTypeIsNotProp\"><span class=\"name\">Lean</span>.<span class=\"name\">Kernel</span>.<span class=\"name\">Exception</span>.<span class=\"name\">thmTypeIsNotProp</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Kernel.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">name</span> : <a href=\"./Init/Prelude.html#Lean.Name\">Name</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">type</span> : <a href=\"./Lean/Expr.html#Lean.Expr\">Expr</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.Kernel.Exception\">Exception</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L283-L283","name":"Lean.Kernel.Exception.invalidProj","line":283,"kind":"ctor","docLink":"./Lean/Environment.html#Lean.Kernel.Exception.invalidProj","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Kernel.Exception.invalidProj\"><span class=\"name\">Lean</span>.<span class=\"name\">Kernel</span>.<span class=\"name\">Exception</span>.<span class=\"name\">invalidProj</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Kernel.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">lctx</span> : <a href=\"./Lean/LocalContext.html#Lean.LocalContext\">LocalContext</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">proj</span> : <a href=\"./Lean/Expr.html#Lean.Expr\">Expr</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.Kernel.Exception\">Exception</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L282-L282","name":"Lean.Kernel.Exception.appTypeMismatch","line":282,"kind":"ctor","docLink":"./Lean/Environment.html#Lean.Kernel.Exception.appTypeMismatch","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Kernel.Exception.appTypeMismatch\"><span class=\"name\">Lean</span>.<span class=\"name\">Kernel</span>.<span class=\"name\">Exception</span>.<span class=\"name\">appTypeMismatch</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Kernel.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">lctx</span> : <a href=\"./Lean/LocalContext.html#Lean.LocalContext\">LocalContext</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">app </span><span class=\"fn\">funType </span><span class=\"fn\">argType</span> : <a href=\"./Lean/Expr.html#Lean.Expr\">Expr</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.Kernel.Exception\">Exception</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L281-L281","name":"Lean.Kernel.Exception.exprTypeMismatch","line":281,"kind":"ctor","docLink":"./Lean/Environment.html#Lean.Kernel.Exception.exprTypeMismatch","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Kernel.Exception.exprTypeMismatch\"><span class=\"name\">Lean</span>.<span class=\"name\">Kernel</span>.<span class=\"name\">Exception</span>.<span class=\"name\">exprTypeMismatch</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Kernel.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">lctx</span> : <a href=\"./Lean/LocalContext.html#Lean.LocalContext\">LocalContext</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">expr </span><span class=\"fn\">expectedType</span> : <a href=\"./Lean/Expr.html#Lean.Expr\">Expr</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.Kernel.Exception\">Exception</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L280-L280","name":"Lean.Kernel.Exception.letTypeMismatch","line":280,"kind":"ctor","docLink":"./Lean/Environment.html#Lean.Kernel.Exception.letTypeMismatch","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Kernel.Exception.letTypeMismatch\"><span class=\"name\">Lean</span>.<span class=\"name\">Kernel</span>.<span class=\"name\">Exception</span>.<span class=\"name\">letTypeMismatch</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Kernel.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">lctx</span> : <a href=\"./Lean/LocalContext.html#Lean.LocalContext\">LocalContext</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">name</span> : <a href=\"./Init/Prelude.html#Lean.Name\">Name</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">givenType </span><span class=\"fn\">expectedType</span> : <a href=\"./Lean/Expr.html#Lean.Expr\">Expr</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.Kernel.Exception\">Exception</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L279-L279","name":"Lean.Kernel.Exception.typeExpected","line":279,"kind":"ctor","docLink":"./Lean/Environment.html#Lean.Kernel.Exception.typeExpected","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Kernel.Exception.typeExpected\"><span class=\"name\">Lean</span>.<span class=\"name\">Kernel</span>.<span class=\"name\">Exception</span>.<span class=\"name\">typeExpected</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Kernel.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">lctx</span> : <a href=\"./Lean/LocalContext.html#Lean.LocalContext\">LocalContext</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">expr</span> : <a href=\"./Lean/Expr.html#Lean.Expr\">Expr</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.Kernel.Exception\">Exception</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L278-L278","name":"Lean.Kernel.Exception.funExpected","line":278,"kind":"ctor","docLink":"./Lean/Environment.html#Lean.Kernel.Exception.funExpected","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Kernel.Exception.funExpected\"><span class=\"name\">Lean</span>.<span class=\"name\">Kernel</span>.<span class=\"name\">Exception</span>.<span class=\"name\">funExpected</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Kernel.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">lctx</span> : <a href=\"./Lean/LocalContext.html#Lean.LocalContext\">LocalContext</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">expr</span> : <a href=\"./Lean/Expr.html#Lean.Expr\">Expr</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.Kernel.Exception\">Exception</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L277-L277","name":"Lean.Kernel.Exception.declHasFVars","line":277,"kind":"ctor","docLink":"./Lean/Environment.html#Lean.Kernel.Exception.declHasFVars","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Kernel.Exception.declHasFVars\"><span class=\"name\">Lean</span>.<span class=\"name\">Kernel</span>.<span class=\"name\">Exception</span>.<span class=\"name\">declHasFVars</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Kernel.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">name</span> : <a href=\"./Init/Prelude.html#Lean.Name\">Name</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">expr</span> : <a href=\"./Lean/Expr.html#Lean.Expr\">Expr</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.Kernel.Exception\">Exception</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L276-L276","name":"Lean.Kernel.Exception.declHasMVars","line":276,"kind":"ctor","docLink":"./Lean/Environment.html#Lean.Kernel.Exception.declHasMVars","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Kernel.Exception.declHasMVars\"><span class=\"name\">Lean</span>.<span class=\"name\">Kernel</span>.<span class=\"name\">Exception</span>.<span class=\"name\">declHasMVars</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Kernel.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">name</span> : <a href=\"./Init/Prelude.html#Lean.Name\">Name</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">expr</span> : <a href=\"./Lean/Expr.html#Lean.Expr\">Expr</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.Kernel.Exception\">Exception</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L275-L275","name":"Lean.Kernel.Exception.declTypeMismatch","line":275,"kind":"ctor","docLink":"./Lean/Environment.html#Lean.Kernel.Exception.declTypeMismatch","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Kernel.Exception.declTypeMismatch\"><span class=\"name\">Lean</span>.<span class=\"name\">Kernel</span>.<span class=\"name\">Exception</span>.<span class=\"name\">declTypeMismatch</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Kernel.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">decl</span> : <a href=\"./Lean/Declaration.html#Lean.Declaration\">Declaration</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">givenType</span> : <a href=\"./Lean/Expr.html#Lean.Expr\">Expr</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.Kernel.Exception\">Exception</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L274-L274","name":"Lean.Kernel.Exception.alreadyDeclared","line":274,"kind":"ctor","docLink":"./Lean/Environment.html#Lean.Kernel.Exception.alreadyDeclared","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Kernel.Exception.alreadyDeclared\"><span class=\"name\">Lean</span>.<span class=\"name\">Kernel</span>.<span class=\"name\">Exception</span>.<span class=\"name\">alreadyDeclared</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Kernel.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">name</span> : <a href=\"./Init/Prelude.html#Lean.Name\">Name</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.Kernel.Exception\">Exception</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L273-L273","name":"Lean.Kernel.Exception.unknownConstant","line":273,"kind":"ctor","docLink":"./Lean/Environment.html#Lean.Kernel.Exception.unknownConstant","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Kernel.Exception.unknownConstant\"><span class=\"name\">Lean</span>.<span class=\"name\">Kernel</span>.<span class=\"name\">Exception</span>.<span class=\"name\">unknownConstant</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">env</span> : <a href=\"./Lean/Environment.html#Lean.Kernel.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">name</span> : <a href=\"./Init/Prelude.html#Lean.Name\">Name</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.Kernel.Exception\">Exception</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L271-L290","name":"Lean.Kernel.Exception","line":271,"kind":"inductive","docLink":"./Lean/Environment.html#Lean.Kernel.Exception","doc":"Exceptions that can be raised by the kernel when type checking new declarations. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">inductive</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Kernel.Exception\"><span class=\"name\">Lean</span>.<span class=\"name\">Kernel</span>.<span class=\"name\">Exception</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L269-L269","name":"Lean.Kernel.instNonemptyEnvironment","line":269,"kind":"instance","docLink":"./Lean/Environment.html#Lean.Kernel.instNonemptyEnvironment","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Kernel.instNonemptyEnvironment\"><span class=\"name\">Lean</span>.<span class=\"name\">Kernel</span>.<span class=\"name\">instNonemptyEnvironment</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Nonempty\">Nonempty</a> <a href=\"./Lean/Environment.html#Lean.Kernel.Environment\">Environment</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L268-L268","name":"Lean.Kernel.Environment.header","line":268,"kind":"def","docLink":"./Lean/Environment.html#Lean.Kernel.Environment.header","doc":"The header contains additional information that is set at import time. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Kernel.Environment.header\"><span class=\"name\">Lean</span>.<span class=\"name\">Kernel</span>.<span class=\"name\">Environment</span>.<span class=\"name\">header</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/Environment.html#Lean.Kernel.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.EnvironmentHeader\">EnvironmentHeader</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L251-L251","name":"Lean.Kernel.Environment.const2ModIdx","line":251,"kind":"def","docLink":"./Lean/Environment.html#Lean.Kernel.Environment.const2ModIdx","doc":"Mapping from constant name to module (index) where constant has been declared.\nRecall that a Lean file has a header where previously compiled modules can be imported.\nEach imported module has a unique `ModuleIdx`.\nMany extensions use the `ModuleIdx` to efficiently retrieve information stored in imported modules.\n\nRemark: this mapping also contains auxiliary constants, created by the code generator, that are **not** in\nthe field `constants`. These auxiliary constants are invisible to the Lean kernel and elaborator.\nOnly the code generator uses them.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Kernel.Environment.const2ModIdx\"><span class=\"name\">Lean</span>.<span class=\"name\">Kernel</span>.<span class=\"name\">Environment</span>.<span class=\"name\">const2ModIdx</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/Environment.html#Lean.Kernel.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Std/Data/HashMap/Basic.html#Std.HashMap\">Std.HashMap</a> <a href=\"./Init/Prelude.html#Lean.Name\">Name</a> <a href=\"./Lean/Environment.html#Lean.ModuleIdx\">ModuleIdx</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L240-L240","name":"Lean.Kernel.Environment.diagnostics","line":240,"kind":"def","docLink":"./Lean/Environment.html#Lean.Kernel.Environment.diagnostics","doc":"Diagnostic information collected during kernel execution.\n\nRemark: We store kernel diagnostic information in an environment field to simplify the interface\nwith the kernel implemented in C/C++. Thus, we can only track declarations in methods, such as\n`addDecl`, which return a new environment. `Kernel.isDefEq` and `Kernel.whnf` do not update the\nstatistics. We claim this is ok since these methods are mainly used for debugging.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Kernel.Environment.diagnostics\"><span class=\"name\">Lean</span>.<span class=\"name\">Kernel</span>.<span class=\"name\">Environment</span>.<span class=\"name\">diagnostics</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/Environment.html#Lean.Kernel.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.Kernel.Diagnostics\">Diagnostics</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L231-L231","name":"Lean.Kernel.Environment.quotInit","line":231,"kind":"def","docLink":"./Lean/Environment.html#Lean.Kernel.Environment.quotInit","doc":"`quotInit = true` if the command `init_quot` has already been executed for the environment, and\n`Quot` declarations have been added to the environment. When the flag is set, the type checker can\nassume that the `Quot` declarations in the environment have indeed been added by the kernel and\nnot by the user.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Kernel.Environment.quotInit\"><span class=\"name\">Lean</span>.<span class=\"name\">Kernel</span>.<span class=\"name\">Environment</span>.<span class=\"name\">quotInit</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/Environment.html#Lean.Kernel.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Bool\">Bool</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L224-L224","name":"Lean.Kernel.Environment.constants","line":224,"kind":"def","docLink":"./Lean/Environment.html#Lean.Kernel.Environment.constants","doc":"Mapping from constant name to `ConstantInfo`. It contains all constants (definitions, theorems,\naxioms, etc) that have been already type checked by the kernel.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Kernel.Environment.constants\"><span class=\"name\">Lean</span>.<span class=\"name\">Kernel</span>.<span class=\"name\">Environment</span>.<span class=\"name\">constants</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/Environment.html#Lean.Kernel.Environment\">Environment</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.ConstMap\">ConstMap</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L200-L269","name":"Lean.Kernel.Environment","line":200,"kind":"structure","docLink":"./Lean/Environment.html#Lean.Kernel.Environment","doc":"An environment stores declarations provided by the user. The kernel\ncurrently supports different kinds of declarations such as definitions, theorems,\nand inductive families. Each has a unique identifier (i.e., `Name`), and can be\nparameterized by a sequence of universe parameters.\nA constant in Lean is just a reference to a `ConstantInfo` object. The main task of\nthe kernel is to type check these declarations and refuse type incorrect ones. The\nkernel does not allow declarations containing metavariables and/or free variables\nto be added to an environment. Environments are never destructively updated.\n\nThe environment also contains a collection of extensions. For example, the `simp` theorems\ndeclared by users are stored in an environment extension. Users can declare new extensions\nusing meta-programming.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">structure</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Kernel.Environment\"><span class=\"name\">Lean</span>.<span class=\"name\">Kernel</span>.<span class=\"name\">Environment</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L198-L198","name":"Lean.Kernel.instInhabitedDiagnostics","line":198,"kind":"instance","docLink":"./Lean/Environment.html#Lean.Kernel.instInhabitedDiagnostics","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Kernel.instInhabitedDiagnostics\"><span class=\"name\">Lean</span>.<span class=\"name\">Kernel</span>.<span class=\"name\">instInhabitedDiagnostics</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Inhabited\">Inhabited</a> <a href=\"./Lean/Environment.html#Lean.Kernel.Diagnostics\">Diagnostics</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L197-L197","name":"Lean.Kernel.Diagnostics.enabled","line":197,"kind":"def","docLink":"./Lean/Environment.html#Lean.Kernel.Diagnostics.enabled","doc":"If `enabled = true`, kernel records declarations that have been unfolded. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Kernel.Diagnostics.enabled\"><span class=\"name\">Lean</span>.<span class=\"name\">Kernel</span>.<span class=\"name\">Diagnostics</span>.<span class=\"name\">enabled</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/Environment.html#Lean.Kernel.Diagnostics\">Diagnostics</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Bool\">Bool</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L195-L195","name":"Lean.Kernel.Diagnostics.unfoldCounter","line":195,"kind":"def","docLink":"./Lean/Environment.html#Lean.Kernel.Diagnostics.unfoldCounter","doc":"Number of times each declaration has been unfolded by the kernel. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Kernel.Diagnostics.unfoldCounter\"><span class=\"name\">Lean</span>.<span class=\"name\">Kernel</span>.<span class=\"name\">Diagnostics</span>.<span class=\"name\">unfoldCounter</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/Environment.html#Lean.Kernel.Diagnostics\">Diagnostics</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Data/PersistentHashMap.html#Lean.PHashMap\">PHashMap</a> <a href=\"./Init/Prelude.html#Lean.Name\">Name</a> <a href=\"./Init/Prelude.html#Nat\">Nat</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L193-L193","name":"Lean.Kernel.Diagnostics.mk","line":193,"kind":"ctor","docLink":"./Lean/Environment.html#Lean.Kernel.Diagnostics.mk","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Kernel.Diagnostics.mk\"><span class=\"name\">Lean</span>.<span class=\"name\">Kernel</span>.<span class=\"name\">Diagnostics</span>.<span class=\"name\">mk</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">unfoldCounter</span> : <span class=\"fn\"><a href=\"./Lean/Data/PersistentHashMap.html#Lean.PHashMap\">PHashMap</a> <a href=\"./Init/Prelude.html#Lean.Name\">Name</a> <a href=\"./Init/Prelude.html#Nat\">Nat</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">enabled</span> : <a href=\"./Init/Prelude.html#Bool\">Bool</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.Kernel.Diagnostics\">Diagnostics</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L193-L198","name":"Lean.Kernel.Diagnostics","line":193,"kind":"structure","docLink":"./Lean/Environment.html#Lean.Kernel.Diagnostics","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">structure</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.Kernel.Diagnostics\"><span class=\"name\">Lean</span>.<span class=\"name\">Kernel</span>.<span class=\"name\">Diagnostics</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L184-L189","name":"Lean.EnvironmentHeader.moduleNames","line":184,"kind":"def","docLink":"./Lean/Environment.html#Lean.EnvironmentHeader.moduleNames","doc":"Name of all imported modules (directly and indirectly).\nThe index of a module name in the array equals the `ModuleIdx` for the same module.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.EnvironmentHeader.moduleNames\"><span class=\"name\">Lean</span>.<span class=\"name\">EnvironmentHeader</span>.<span class=\"name\">moduleNames</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">header</span> : <a href=\"./Lean/Environment.html#Lean.EnvironmentHeader\">EnvironmentHeader</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Init/Prelude.html#Lean.Name\">Name</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L182-L182","name":"Lean.instNonemptyEnvironmentHeader","line":182,"kind":"instance","docLink":"./Lean/Environment.html#Lean.instNonemptyEnvironmentHeader","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.instNonemptyEnvironmentHeader\"><span class=\"name\">Lean</span>.<span class=\"name\">instNonemptyEnvironmentHeader</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Nonempty\">Nonempty</a> <a href=\"./Lean/Environment.html#Lean.EnvironmentHeader\">EnvironmentHeader</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L181-L181","name":"Lean.EnvironmentHeader.moduleData","line":181,"kind":"def","docLink":"./Lean/Environment.html#Lean.EnvironmentHeader.moduleData","doc":"Module data for all imported modules. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.EnvironmentHeader.moduleData\"><span class=\"name\">Lean</span>.<span class=\"name\">EnvironmentHeader</span>.<span class=\"name\">moduleData</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/Environment.html#Lean.EnvironmentHeader\">EnvironmentHeader</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Environment.html#Lean.ModuleData\">ModuleData</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L179-L179","name":"Lean.EnvironmentHeader.modules","line":179,"kind":"def","docLink":"./Lean/Environment.html#Lean.EnvironmentHeader.modules","doc":"Direct and transitive imports. Modules are given with their effective import modifiers, not their\noriginal ones. Each module is listed at most once. The index of a module in the array equals the\n`ModuleIdx` for the same module.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.EnvironmentHeader.modules\"><span class=\"name\">Lean</span>.<span class=\"name\">EnvironmentHeader</span>.<span class=\"name\">modules</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/Environment.html#Lean.EnvironmentHeader\">EnvironmentHeader</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Environment.html#Lean.EffectiveImport\">EffectiveImport</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L173-L173","name":"Lean.EnvironmentHeader.regions","line":173,"kind":"def","docLink":"./Lean/Environment.html#Lean.EnvironmentHeader.regions","doc":"Compacted regions for all imported modules. Objects in compacted memory regions do no require any memory management. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.EnvironmentHeader.regions\"><span class=\"name\">Lean</span>.<span class=\"name\">EnvironmentHeader</span>.<span class=\"name\">regions</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/Environment.html#Lean.EnvironmentHeader\">EnvironmentHeader</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Environment.html#Lean.CompactedRegion\">CompactedRegion</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L171-L171","name":"Lean.EnvironmentHeader.imports","line":171,"kind":"def","docLink":"./Lean/Environment.html#Lean.EnvironmentHeader.imports","doc":"Direct imports "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.EnvironmentHeader.imports\"><span class=\"name\">Lean</span>.<span class=\"name\">EnvironmentHeader</span>.<span class=\"name\">imports</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/Environment.html#Lean.EnvironmentHeader\">EnvironmentHeader</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Setup.html#Lean.Import\">Import</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L169-L169","name":"Lean.EnvironmentHeader.isModule","line":169,"kind":"def","docLink":"./Lean/Environment.html#Lean.EnvironmentHeader.isModule","doc":"Participating in the module system? "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.EnvironmentHeader.isModule\"><span class=\"name\">Lean</span>.<span class=\"name\">EnvironmentHeader</span>.<span class=\"name\">isModule</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/Environment.html#Lean.EnvironmentHeader\">EnvironmentHeader</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Bool\">Bool</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L167-L167","name":"Lean.EnvironmentHeader.mainModule","line":167,"kind":"def","docLink":"./Lean/Environment.html#Lean.EnvironmentHeader.mainModule","doc":"Name of the module being compiled.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.EnvironmentHeader.mainModule\"><span class=\"name\">Lean</span>.<span class=\"name\">EnvironmentHeader</span>.<span class=\"name\">mainModule</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/Environment.html#Lean.EnvironmentHeader\">EnvironmentHeader</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Lean.Name\">Name</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L163-L163","name":"Lean.EnvironmentHeader.trustLevel","line":163,"kind":"def","docLink":"./Lean/Environment.html#Lean.EnvironmentHeader.trustLevel","doc":"The trust level used by the kernel. For example,\nthe kernel assumes imported constants are type correct when the trust level is greater than zero.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.EnvironmentHeader.trustLevel\"><span class=\"name\">Lean</span>.<span class=\"name\">EnvironmentHeader</span>.<span class=\"name\">trustLevel</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/Environment.html#Lean.EnvironmentHeader\">EnvironmentHeader</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#UInt32\">UInt32</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L158-L158","name":"Lean.EnvironmentHeader.mk","line":158,"kind":"ctor","docLink":"./Lean/Environment.html#Lean.EnvironmentHeader.mk","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.EnvironmentHeader.mk\"><span class=\"name\">Lean</span>.<span class=\"name\">EnvironmentHeader</span>.<span class=\"name\">mk</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">trustLevel</span> : <a href=\"./Init/Prelude.html#UInt32\">UInt32</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">mainModule</span> : <a href=\"./Init/Prelude.html#Lean.Name\">Name</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">isModule</span> : <a href=\"./Init/Prelude.html#Bool\">Bool</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">imports</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Setup.html#Lean.Import\">Import</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">regions</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Environment.html#Lean.CompactedRegion\">CompactedRegion</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">modules</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Environment.html#Lean.EffectiveImport\">EffectiveImport</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">moduleData</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Environment.html#Lean.ModuleData\">ModuleData</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.EnvironmentHeader\">EnvironmentHeader</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L157-L182","name":"Lean.EnvironmentHeader","line":157,"kind":"structure","docLink":"./Lean/Environment.html#Lean.EnvironmentHeader","doc":"Environment fields that are not used often. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">structure</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.EnvironmentHeader\"><span class=\"name\">Lean</span>.<span class=\"name\">EnvironmentHeader</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L155-L155","name":"Lean.EffectiveImport.irPhases","line":155,"kind":"def","docLink":"./Lean/Environment.html#Lean.EffectiveImport.irPhases","doc":"Phases for which the import's IR is available. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.EffectiveImport.irPhases\"><span class=\"name\">Lean</span>.<span class=\"name\">EffectiveImport</span>.<span class=\"name\">irPhases</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/Environment.html#Lean.EffectiveImport\">EffectiveImport</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.IRPhases\">IRPhases</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L153-L153","name":"Lean.EffectiveImport.mk","line":153,"kind":"ctor","docLink":"./Lean/Environment.html#Lean.EffectiveImport.mk","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.EffectiveImport.mk\"><span class=\"name\">Lean</span>.<span class=\"name\">EffectiveImport</span>.<span class=\"name\">mk</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">toImport</span> : <a href=\"./Lean/Setup.html#Lean.Import\">Import</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">irPhases</span> : <a href=\"./Lean/Environment.html#Lean.IRPhases\">IRPhases</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.EffectiveImport\">EffectiveImport</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L153-L155","name":"Lean.EffectiveImport.toImport","line":153,"kind":"def","docLink":"./Lean/Environment.html#Lean.EffectiveImport.toImport","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.EffectiveImport.toImport\"><span class=\"name\">Lean</span>.<span class=\"name\">EffectiveImport</span>.<span class=\"name\">toImport</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/Environment.html#Lean.EffectiveImport\">EffectiveImport</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Setup.html#Lean.Import\">Import</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L152-L155","name":"Lean.EffectiveImport","line":152,"kind":"structure","docLink":"./Lean/Environment.html#Lean.EffectiveImport","doc":"Import including information resulting from processing of the entire import DAG. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">structure</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.EffectiveImport\"><span class=\"name\">Lean</span>.<span class=\"name\">EffectiveImport</span></a></span><span class=\"decl_extends\">extends</span> <a href=\"./Lean/Setup.html#Lean.Import\">Lean.Import</a><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L150-L150","name":"Lean.instReprIRPhases","line":150,"kind":"instance","docLink":"./Lean/Environment.html#Lean.instReprIRPhases","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.instReprIRPhases\"><span class=\"name\">Lean</span>.<span class=\"name\">instReprIRPhases</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Data/Repr.html#Repr\">Repr</a> <a href=\"./Lean/Environment.html#Lean.IRPhases\">IRPhases</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L150-L150","name":"Lean.instBEqIRPhases","line":150,"kind":"instance","docLink":"./Lean/Environment.html#Lean.instBEqIRPhases","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.instBEqIRPhases\"><span class=\"name\">Lean</span>.<span class=\"name\">instBEqIRPhases</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#BEq\">BEq</a> <a href=\"./Lean/Environment.html#Lean.IRPhases\">IRPhases</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L150-L150","name":"Lean.instInhabitedIRPhases","line":150,"kind":"instance","docLink":"./Lean/Environment.html#Lean.instInhabitedIRPhases","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.instInhabitedIRPhases\"><span class=\"name\">Lean</span>.<span class=\"name\">instInhabitedIRPhases</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Inhabited\">Inhabited</a> <a href=\"./Lean/Environment.html#Lean.IRPhases\">IRPhases</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L148-L149","name":"Lean.IRPhases.all","line":148,"kind":"ctor","docLink":"./Lean/Environment.html#Lean.IRPhases.all","doc":"Available during run time and compile time. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.IRPhases.all\"><span class=\"name\">Lean</span>.<span class=\"name\">IRPhases</span>.<span class=\"name\">all</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.IRPhases\">IRPhases</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L146-L147","name":"Lean.IRPhases.comptime","line":146,"kind":"ctor","docLink":"./Lean/Environment.html#Lean.IRPhases.comptime","doc":"Available for execution during elaboration. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.IRPhases.comptime\"><span class=\"name\">Lean</span>.<span class=\"name\">IRPhases</span>.<span class=\"name\">comptime</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.IRPhases\">IRPhases</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L144-L145","name":"Lean.IRPhases.runtime","line":144,"kind":"ctor","docLink":"./Lean/Environment.html#Lean.IRPhases.runtime","doc":"Available for execution in the final native code. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.IRPhases.runtime\"><span class=\"name\">Lean</span>.<span class=\"name\">IRPhases</span>.<span class=\"name\">runtime</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.IRPhases\">IRPhases</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L142-L150","name":"Lean.IRPhases","line":142,"kind":"inductive","docLink":"./Lean/Environment.html#Lean.IRPhases","doc":"Phases for which some IR is available for execution. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">inductive</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.IRPhases\"><span class=\"name\">Lean</span>.<span class=\"name\">IRPhases</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L140-L140","name":"Lean.instInhabitedModuleData","line":140,"kind":"instance","docLink":"./Lean/Environment.html#Lean.instInhabitedModuleData","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.instInhabitedModuleData\"><span class=\"name\">Lean</span>.<span class=\"name\">instInhabitedModuleData</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Inhabited\">Inhabited</a> <a href=\"./Lean/Environment.html#Lean.ModuleData\">ModuleData</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L139-L139","name":"Lean.ModuleData.entries","line":139,"kind":"def","docLink":"./Lean/Environment.html#Lean.ModuleData.entries","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.ModuleData.entries\"><span class=\"name\">Lean</span>.<span class=\"name\">ModuleData</span>.<span class=\"name\">entries</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/Environment.html#Lean.ModuleData\">ModuleData</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> (<a href=\"./Init/Prelude.html#Lean.Name\">Name</a> <a href=\"./Init/Prelude.html#Prod\">×</a> <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Environment.html#Lean.EnvExtensionEntry\">EnvExtensionEntry</a></span>)</span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L138-L138","name":"Lean.ModuleData.extraConstNames","line":138,"kind":"def","docLink":"./Lean/Environment.html#Lean.ModuleData.extraConstNames","doc":"Extra entries for the `const2ModIdx` map in the `Environment` object.\nThe code generator creates auxiliary declarations that are not in the\nmapping `constants`, but we want to know in which module they were generated.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.ModuleData.extraConstNames\"><span class=\"name\">Lean</span>.<span class=\"name\">ModuleData</span>.<span class=\"name\">extraConstNames</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/Environment.html#Lean.ModuleData\">ModuleData</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Init/Prelude.html#Lean.Name\">Name</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L132-L132","name":"Lean.ModuleData.constants","line":132,"kind":"def","docLink":"./Lean/Environment.html#Lean.ModuleData.constants","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.ModuleData.constants\"><span class=\"name\">Lean</span>.<span class=\"name\">ModuleData</span>.<span class=\"name\">constants</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/Environment.html#Lean.ModuleData\">ModuleData</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Declaration.html#Lean.ConstantInfo\">ConstantInfo</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L131-L131","name":"Lean.ModuleData.constNames","line":131,"kind":"def","docLink":"./Lean/Environment.html#Lean.ModuleData.constNames","doc":"`constNames` contains all constant names in `constants`.\nThis information is redundant. It is equal to `constants.map fun c => c.name`,\nbut it improves the performance of `importModules`. `perf` reports that 12% of the\nruntime was being spent on `ConstantInfo.name` when importing a file containing only `import Lean`\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.ModuleData.constNames\"><span class=\"name\">Lean</span>.<span class=\"name\">ModuleData</span>.<span class=\"name\">constNames</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/Environment.html#Lean.ModuleData\">ModuleData</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Init/Prelude.html#Lean.Name\">Name</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L124-L124","name":"Lean.ModuleData.imports","line":124,"kind":"def","docLink":"./Lean/Environment.html#Lean.ModuleData.imports","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.ModuleData.imports\"><span class=\"name\">Lean</span>.<span class=\"name\">ModuleData</span>.<span class=\"name\">imports</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/Environment.html#Lean.ModuleData\">ModuleData</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Setup.html#Lean.Import\">Import</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L123-L123","name":"Lean.ModuleData.isModule","line":123,"kind":"def","docLink":"./Lean/Environment.html#Lean.ModuleData.isModule","doc":"Participating in the module system? "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.ModuleData.isModule\"><span class=\"name\">Lean</span>.<span class=\"name\">ModuleData</span>.<span class=\"name\">isModule</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/Environment.html#Lean.ModuleData\">ModuleData</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Bool\">Bool</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L121-L121","name":"Lean.ModuleData.mk","line":121,"kind":"ctor","docLink":"./Lean/Environment.html#Lean.ModuleData.mk","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.ModuleData.mk\"><span class=\"name\">Lean</span>.<span class=\"name\">ModuleData</span>.<span class=\"name\">mk</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">isModule</span> : <a href=\"./Init/Prelude.html#Bool\">Bool</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">imports</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Setup.html#Lean.Import\">Import</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">constNames</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Init/Prelude.html#Lean.Name\">Name</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">constants</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Declaration.html#Lean.ConstantInfo\">ConstantInfo</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">extraConstNames</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Init/Prelude.html#Lean.Name\">Name</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">entries</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> (<a href=\"./Init/Prelude.html#Lean.Name\">Name</a> <a href=\"./Init/Prelude.html#Prod\">×</a> <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Environment.html#Lean.EnvExtensionEntry\">EnvExtensionEntry</a></span>)</span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.ModuleData\">ModuleData</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L119-L140","name":"Lean.ModuleData","line":119,"kind":"structure","docLink":"./Lean/Environment.html#Lean.ModuleData","doc":"Content of a .olean file.\nWe use `compact.cpp` to generate the image of this object in disk. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">structure</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.ModuleData\"><span class=\"name\">Lean</span>.<span class=\"name\">ModuleData</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L117-L117","name":"Lean.instNonemptyEnvExtensionEntry","line":117,"kind":"instance","docLink":"./Lean/Environment.html#Lean.instNonemptyEnvExtensionEntry","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.instNonemptyEnvExtensionEntry\"><span class=\"name\">Lean</span>.<span class=\"name\">instNonemptyEnvExtensionEntry</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Nonempty\">Nonempty</a> <a href=\"./Lean/Environment.html#Lean.EnvExtensionEntry\">EnvExtensionEntry</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L116-L116","name":"Lean.EnvExtensionEntry","line":116,"kind":"def","docLink":"./Lean/Environment.html#Lean.EnvExtensionEntry","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.EnvExtensionEntry\"><span class=\"name\">Lean</span>.<span class=\"name\">EnvExtensionEntry</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L114-L115","name":"Lean.EnvExtensionEntrySpec","line":114,"kind":"opaque","docLink":"./Lean/Environment.html#Lean.EnvExtensionEntrySpec","doc":"Opaque persistent environment extension entry. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">opaque</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.EnvExtensionEntrySpec\"><span class=\"name\">Lean</span>.<span class=\"name\">EnvExtensionEntrySpec</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#NonemptyType\">NonemptyType</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L110-L112","name":"Lean.CompactedRegion.free","line":110,"kind":"opaque","docLink":"./Lean/Environment.html#Lean.CompactedRegion.free","doc":"Free a compacted region and its contents. No live references to the contents may exist at the time of invocation. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">unsafe opaque</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.CompactedRegion.free\"><span class=\"name\">Lean</span>.<span class=\"name\">CompactedRegion</span>.<span class=\"name\">free</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.CompactedRegion\">CompactedRegion</a> → <span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L106-L108","name":"Lean.CompactedRegion.size","line":106,"kind":"opaque","docLink":"./Lean/Environment.html#Lean.CompactedRegion.size","doc":"Size in bytes. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">opaque</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.CompactedRegion.size\"><span class=\"name\">Lean</span>.<span class=\"name\">CompactedRegion</span>.<span class=\"name\">size</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.CompactedRegion\">CompactedRegion</a> → <a href=\"./Init/Prelude.html#USize\">USize</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L103-L104","name":"Lean.CompactedRegion.isMemoryMapped","line":103,"kind":"opaque","docLink":"./Lean/Environment.html#Lean.CompactedRegion.isMemoryMapped","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">opaque</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.CompactedRegion.isMemoryMapped\"><span class=\"name\">Lean</span>.<span class=\"name\">CompactedRegion</span>.<span class=\"name\">isMemoryMapped</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Environment.html#Lean.CompactedRegion\">CompactedRegion</a> → <a href=\"./Init/Prelude.html#Bool\">Bool</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L97-L101","name":"Lean.CompactedRegion","line":97,"kind":"def","docLink":"./Lean/Environment.html#Lean.CompactedRegion","doc":"A compacted region holds multiple Lean objects in a contiguous memory region, which can be read/written to/from disk.\nObjects inside the region do not have reference counters and cannot be freed individually. The contents of .olean\nfiles are compacted regions. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.CompactedRegion\"><span class=\"name\">Lean</span>.<span class=\"name\">CompactedRegion</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L95-L95","name":"Lean.ConstMap","line":95,"kind":"def","docLink":"./Lean/Environment.html#Lean.ConstMap","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.ConstMap\"><span class=\"name\">Lean</span>.<span class=\"name\">ConstMap</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L91-L93","name":"Lean.instGetElem?ArrayModuleIdxLtNatToNatSize","line":91,"kind":"instance","docLink":"./Lean/Environment.html#Lean.instGetElem?ArrayModuleIdxLtNatToNatSize","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.instGetElem?ArrayModuleIdxLtNatToNatSize\"><span class=\"name\">Lean</span>.<span class=\"name\">instGetElem?ArrayModuleIdxLtNatToNatSize</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α</span> : <a href=\"./foundational_types.html\">Type</a> u_1}</span></span>\n</span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/GetElem.html#GetElem?\">GetElem?</a> <span class=\"fn\">(<a href=\"./Init/Prelude.html#Array\">Array</a> <span class=\"fn\">α</span>)</span> <a href=\"./Lean/Environment.html#Lean.ModuleIdx\">ModuleIdx</a> <span class=\"fn\">α</span> <span class=\"fn\">fun (<span class=\"fn\">a</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <span class=\"fn\">α</span></span>) (<span class=\"fn\">i</span> : <a href=\"./Lean/Environment.html#Lean.ModuleIdx\">ModuleIdx</a>) =&gt; <span class=\"fn\"><span class=\"fn\">i</span>.<a href=\"./Lean/Environment.html#Lean.ModuleIdx.toNat\">toNat</a></span> <a href=\"./Init/Prelude.html#LT.lt\">&lt;</a> <span class=\"fn\"><span class=\"fn\">a</span>.<a href=\"./Init/Prelude.html#Array.size\">size</a></span></span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L88-L89","name":"Lean.instGetElemArrayModuleIdxLtNatToNatSize","line":88,"kind":"instance","docLink":"./Lean/Environment.html#Lean.instGetElemArrayModuleIdxLtNatToNatSize","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.instGetElemArrayModuleIdxLtNatToNatSize\"><span class=\"name\">Lean</span>.<span class=\"name\">instGetElemArrayModuleIdxLtNatToNatSize</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α</span> : <a href=\"./foundational_types.html\">Type</a> u_1}</span></span>\n</span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/GetElem.html#GetElem\">GetElem</a> <span class=\"fn\">(<a href=\"./Init/Prelude.html#Array\">Array</a> <span class=\"fn\">α</span>)</span> <a href=\"./Lean/Environment.html#Lean.ModuleIdx\">ModuleIdx</a> <span class=\"fn\">α</span> <span class=\"fn\">fun (<span class=\"fn\">a</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <span class=\"fn\">α</span></span>) (<span class=\"fn\">i</span> : <a href=\"./Lean/Environment.html#Lean.ModuleIdx\">ModuleIdx</a>) =&gt; <span class=\"fn\"><span class=\"fn\">i</span>.<a href=\"./Lean/Environment.html#Lean.ModuleIdx.toNat\">toNat</a></span> <a href=\"./Init/Prelude.html#LT.lt\">&lt;</a> <span class=\"fn\"><span class=\"fn\">a</span>.<a href=\"./Init/Prelude.html#Array.size\">size</a></span></span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L86-L86","name":"Lean.instInhabitedModuleIdx","line":86,"kind":"instance","docLink":"./Lean/Environment.html#Lean.instInhabitedModuleIdx","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.instInhabitedModuleIdx\"><span class=\"name\">Lean</span>.<span class=\"name\">instInhabitedModuleIdx</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Inhabited\">Inhabited</a> <a href=\"./Lean/Environment.html#Lean.ModuleIdx\">ModuleIdx</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L84-L84","name":"Lean.ModuleIdx.toNat","line":84,"kind":"def","docLink":"./Lean/Environment.html#Lean.ModuleIdx.toNat","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.ModuleIdx.toNat\"><span class=\"name\">Lean</span>.<span class=\"name\">ModuleIdx</span>.<span class=\"name\">toNat</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">midx</span> : <a href=\"./Lean/Environment.html#Lean.ModuleIdx\">ModuleIdx</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Nat\">Nat</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L82-L82","name":"Lean.instModuleIdxToString","line":82,"kind":"instance","docLink":"./Lean/Environment.html#Lean.instModuleIdxToString","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.instModuleIdxToString\"><span class=\"name\">Lean</span>.<span class=\"name\">instModuleIdxToString</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Data/ToString/Basic.html#ToString\">ToString</a> <a href=\"./Lean/Environment.html#Lean.ModuleIdx\">ModuleIdx</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L82-L82","name":"Lean.instModuleIdxBEq","line":82,"kind":"instance","docLink":"./Lean/Environment.html#Lean.instModuleIdxBEq","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.instModuleIdxBEq\"><span class=\"name\">Lean</span>.<span class=\"name\">instModuleIdxBEq</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#BEq\">BEq</a> <a href=\"./Lean/Environment.html#Lean.ModuleIdx\">ModuleIdx</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L81-L82","name":"Lean.ModuleIdx","line":81,"kind":"def","docLink":"./Lean/Environment.html#Lean.ModuleIdx","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.ModuleIdx\"><span class=\"name\">Lean</span>.<span class=\"name\">ModuleIdx</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L79-L79","name":"Lean.instInhabitedEnvExtensionState","line":79,"kind":"instance","docLink":"./Lean/Environment.html#Lean.instInhabitedEnvExtensionState","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.instInhabitedEnvExtensionState\"><span class=\"name\">Lean</span>.<span class=\"name\">instInhabitedEnvExtensionState</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Inhabited\">Inhabited</a> <a href=\"./Lean/Environment.html#Lean.EnvExtensionState\">EnvExtensionState</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L78-L78","name":"Lean.EnvExtensionState","line":78,"kind":"def","docLink":"./Lean/Environment.html#Lean.EnvExtensionState","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.EnvExtensionState\"><span class=\"name\">Lean</span>.<span class=\"name\">EnvExtensionState</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L76-L77","name":"Lean.EnvExtensionStateSpec","line":76,"kind":"opaque","docLink":"./Lean/Environment.html#Lean.EnvExtensionStateSpec","doc":"Opaque environment extension state. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">opaque</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.EnvExtensionStateSpec\"><span class=\"name\">Lean</span>.<span class=\"name\">EnvExtensionStateSpec</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\">(<span class=\"fn\">α</span> : <a href=\"./foundational_types.html\">Type</a>) × <span class=\"fn\"><a href=\"./Init/Prelude.html#Inhabited\">Inhabited</a> <span class=\"fn\">α</span></span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/7c3ca70e29a0806bd4bfc62eae7084bbaf1a303d/src/Lean/Environment.lean#L70-L74","name":"Lean.debug.skipKernelTC","line":70,"kind":"opaque","docLink":"./Lean/Environment.html#Lean.debug.skipKernelTC","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">opaque</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Environment.html#Lean.debug.skipKernelTC\"><span class=\"name\">Lean</span>.<span class=\"name\">debug</span>.<span class=\"name\">skipKernelTC</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Data/Options.html#Lean.Option\">Lean.Option</a> <a href=\"./Init/Prelude.html#Bool\">Bool</a></span></div></div>"}]}